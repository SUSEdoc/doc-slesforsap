<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><title>SLES for SAP 15 SP5 | SAP Automation</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/"/>
<meta name="title" content="SAP Automation | SLES for SAP 15 SP5"/>
<meta name="description" content="This article offers some automation solutions for SAP administrators. With Salt formulas, it helps to efficiently configure High Availability and SAP…"/>
<meta name="product-name" content="SUSE Linux Enterprise Server for SAP Applications"/>
<meta name="product-number" content="15 SP5"/>
<meta name="book-title" content="SAP Automation"/>
<meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi"/>
<meta name="tracker-type" content="bsc"/>
<meta name="tracker-bsc-assignee" content="dmitri.popov@suse.com"/>
<meta name="tracker-bsc-component" content="Documentation"/>
<meta name="tracker-bsc-product" content="SUSE Linux Enterprise Server for SAP Applications 15 SP4"/>
<meta name="publisher" content="SUSE"/><meta property="og:title" content="SAP Automation | SLES for SAP 15 SP5"/>
<meta property="og:description" content="This article offers some automation solutions for SAP admin…"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="SAP Automation | SLES for SAP 15 SP5"/>
<meta name="twitter:description" content="This article offers some automation solutions for SAP admin…"/>
<script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": ["TechArticle"],
    "image": "https://www.suse.com/assets/img/suse-white-logo-green.svg",
    
    "isPartOf": {
      "@type": "CreativeWorkSeries",
      "name": "Products &amp; Solutions"
    },
    
    "inLanguage": "en",
    
    "headline": "SAP Automation",
  
    "description": "This article offers some automation solutions for SAP administrators. With Salt formulas, it helps to efficiently configure High Availability and SAP…",
      
    "author": [
      {
        "@type": "Corporation",
        "name": "SUSE Product &amp; Solution Documentation Team",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    ],
      
    "dateModified": "2024-03-27T00:00+02:00",
      

    "about": [
      {
        "@type": "Thing",
        "name": "Automation"
      },{
        "@type": "Thing",
        "name": "High Availability"
      },{
        "@type": "Thing",
        "name": "Configuration"
      },
    ],
  
    "mentions": [
      
      { "@type": "SoftwareApplication",
        "name": "SLES for SAP",
        "softwareVersion": "15 SP5",
        "applicationCategory": "Operating System",
        "operatingSystem": "Linux"
      }
      
    ],
    
    "sameAs": [
          "https://www.facebook.com/SUSEWorldwide/about",
          "https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA",
          "https://twitter.com/SUSE",
          "https://www.linkedin.com/company/suse"
    ],
    "publisher": {
      "@type": "Corporation",
      "name": "SUSE",
      "url": "https://documentation.suse.com",
      "logo": {
        "@type": "ImageObject",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    }
  }</script>
<link rel="prev" href="index.html" title="Solution-Based Documentation"/><link rel="next" href="apa.html" title="A. GNU licenses"/><script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/script-purejs.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script><meta name="edit-url" content="https://github.com/SUSE/doc-slesforsap/blob/main/xml/article_sap_automation.xml"/></head><body class="draft wide offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">SAP Automation</a></div></div><main id="_content"><nav id="_side-toc-overall" class="side-toc"><div class="side-title">SAP Automation</div> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section xml:lang="en" class="article" id="article-sap-automation" data-id-title="SAP Automation"><div class="titlepage"><div><div class="big-version-info"><span class="productname">SUSE Linux Enterprise Server for SAP Applications</span> <span class="productnumber">15 SP5</span></div><div><div class="title-container"><h1 class="title">SAP Automation <a title="Permalink" class="permalink" href="article-sap-automation.html#">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/blob/main/xml/article_sap_automation.xml" title="Edit source document"> </a></div></div></div><div><h3 class="subtitle"><em>SUSE® Linux Enterprise Server for SAP Applications · SUSE® Linux Enterprise High Availability</em></h3></div><div class="date"><span class="imprint-label">Publication Date: </span>March 27, 2024
</div><div><div class="abstract"><p>
        This article offers some automation solutions for SAP administrators.
        With Salt formulas, it helps to efficiently configure High Availability and SAP systems.
        The solutions that is described here works from SUSE® Linux Enterprise Server 12 SP3
        and beyond. All packages are available in the SLES for SAP module.
      </p></div></div></div></div><div id="id-1.3.4" data-id-title="About official SUSE support" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: About official SUSE support</div><p>
       The referenced Salt formulas install and configure SAP software
       (SAP HANA, SAP NetWeaver, and SAP S/4HANA) on SUSE Linux Enterprise Server for SAP Applications including
       advanced configurations like SAP HANA System Replication setup and
       configure the High Availability cluster.
       The Salt formulas are part of  SUSE® Linux Enterprise Server for SAP Applications, provided via the
       official repositories and are fully supported by SUSE.
     </p><p>
      SUSE works in the overall project on additional parts that cover
      infrastructure aspects (like machines, network, disk formats, mount
      points) that need to be performed with SUSE Manager, AutoYaST, or Terraform
      and are not shipped as part of SUSE Linux Enterprise Server for SAP Applications.
      These parts of the project available via SUSE GitHub repositories are
      published as-is and supported by the open source community. For more
      information, see <a class="link" href="https://github.com/SUSE/ha-sap-terraform-deployments" target="_blank">https://github.com/SUSE/ha-sap-terraform-deployments</a>.
    </p></div><section class="sect1" id="sec-sol-autom-concept-overview" data-id-title="Conceptual overview"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">1 </span><span class="title-name">Conceptual overview</span></span> <a title="Permalink" class="permalink" href="article-sap-automation.html#sec-sol-autom-concept-overview">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/blob/main/xml/article_sap_automation.xml" title="Edit source document"> </a></div></div></div></div></div><p>
      Starting from the idea of modernizing and simplifying SAP HANA and SAP NetWeaver deployments,
      SUSE engineering worked on rewriting the deployment wizards in Salt.
      Salt is a configuration management system that is also supported by
      SUSE Manager and SUSE® Linux Enterprise Server for any sort of automation.
    </p><p>
      The major motivation was to improve and simplify the installation of SAP HANA
      on SUSE Linux Enterprise Server.
    </p><p>
      The following sections contain a brief overview of available formulas.
      Each section contains also a link to the upstream GitHub project. There
      you can find additional documentation on how to use and apply the formulas.
    </p></section><section class="sect1" id="sec-sol-autom-terms" data-id-title="Terminology"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2 </span><span class="title-name">Terminology</span></span> <a title="Permalink" class="permalink" href="article-sap-automation.html#sec-sol-autom-terms">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/blob/main/xml/article_sap_automation.xml" title="Edit source document"> </a></div></div></div></div></div><div class="variablelist"><dl class="variablelist"><dt id="id-1.3.6.3.1"><span class="term">Python</span></dt><dd><p>
            A scripting language. It interacts with lower-layer utilities
            such as crm shell and several SAP commands, including SAP HANA management
            tools.
          </p></dd><dt id="id-1.3.6.3.2"><span class="term">Salt (also SaltStack)</span></dt><dd><p>
            A configuration infrastructure management system written in Python.
            Due to its modular approach, it is often referred as SaltStack.
            
            Salt has as a client/server architecture. The server (also called
            the Salt Master) acts as a central control unit for the Salt clients.
            The other supported setup option is called masterless.
          </p></dd><dt id="id-1.3.6.3.3"><span class="term">Salt grains</span></dt><dd><p>
            Static data about Salt clients. Grains contain information about the
            operating system that is running, the CPU architecture in use, and much more.
            Grains can also be set to assign values to Salt clients.
          </p></dd><dt id="id-1.3.6.3.4"><span class="term">Salt formulas</span></dt><dd><p>
            Formulas are pre-written Salt States.
          </p><p>
            For more information about Salt, refer to the upstream documentation at
            <a class="link" href="https://docs.saltstack.com" target="_blank">https://docs.saltstack.com</a>.
          </p></dd><dt id="id-1.3.6.3.5"><span class="term">Salt Master</span></dt><dd><p>
            Manages the infrastructure and the Salt clients within it.
            It can execute commands remotely on Salt clients and manage their state.
            The Salt Master captures grains sent from Salt clients and decide what to do
            with this information.
          </p></dd><dt id="id-1.3.6.3.6"><span class="term">Salt client (sometimes minion)</span></dt><dd><p>A server or machine often controlled by the Salt Master.
          Its main purpose is to execute commands sent from the Salt Master,
          report data back, and send information about itself.
          </p></dd><dt id="id-1.3.6.3.7"><span class="term">Salt state</span></dt><dd><p>
            YAML text file to maintain consistency across your environment.
            Salt states can be executed.
          </p></dd><dt id="id-1.3.6.3.8"><span class="term">Terraform</span></dt><dd><p>
            An <span class="quote">“<span class="quote">infrastructure as code</span>”</span> software tool.
            It deploys the required infrastructure in cloud or virtual environments
            and AutoYaST for on-premises deployments.
          </p></dd></dl></div></section><section class="sect1" id="sec-sol-autom-hana-deploy" data-id-title="SAP HANA automated deployment"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">3 </span><span class="title-name">SAP HANA automated deployment</span></span> <a title="Permalink" class="permalink" href="article-sap-automation.html#sec-sol-autom-hana-deploy">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/blob/main/xml/article_sap_automation.xml" title="Edit source document"> </a></div></div></div></div></div><p>
      Use the Salt formula <span class="package">saphanabootstrap-formula</span> for bootstrapping
      and managing SAP HANA platform and system replication.
    </p><p>The Salt formula takes care of the following</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
          Installs SAP HANA.
        </p></li><li class="listitem"><p>
          Configures system replication.
        </p></li><li class="listitem"><p>
          Preconfigures the High Availability cluster requirements.
        </p></li><li class="listitem"><p>
          Configures the SAP HANA Prometheus exporter
        </p></li></ul></div><p>
      The Salt formula can be used in these scenarios:
    </p><div class="itemizedlist"><div class="title-container"><div class="itemizedlist-title-wrap"><div class="itemizedlist-title"><span class="title-number-name"><span class="title-name">Scenarios for <span class="package">saphanabootstrap-formula</span> </span></span><a title="Permalink" class="permalink" href="article-sap-automation.html#id-1.3.7.6">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/blob/main/xml/article_sap_automation.xml" title="Edit source document"> </a></div></div><ul class="itemizedlist"><li class="listitem"><p>
          SAP HANA single instance automated deployment.
        </p></li><li class="listitem"><p>
          Two SAP HANA instances on system replication setup.
        </p></li><li class="listitem"><p>
          Two SAP HANA instances on system replication and cluster scale-up
          performance-optimized configuration.
        </p></li><li class="listitem"><p>
          Two SAP HANA instances on system replication setup, cluster scale-up
          cost-optimized configuration, and extra SAP HANA installation on a secondary host.
        </p></li><li class="listitem"><p>
          Cloud Service Provides (Azure, AWS, and GCP) automated adjustments for each provider 
          as best-practice.
        </p></li></ul></div><div class="example" id="id-1.3.7.7" data-id-title="Installation"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 1: </span><span class="title-name">Installation </span></span><a title="Permalink" class="permalink" href="article-sap-automation.html#id-1.3.7.7">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/blob/main/xml/article_sap_automation.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">zypper install saphanabootstrap-formula</pre></div></div></div><p>
      The following links provide best practices:
    </p><div class="itemizedlist"><div class="title-container"><div class="itemizedlist-title-wrap"><div class="itemizedlist-title"><span class="title-number-name"><span class="title-name">Best practices </span></span><a title="Permalink" class="permalink" href="article-sap-automation.html#id-1.3.7.9">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/blob/main/xml/article_sap_automation.xml" title="Edit source document"> </a></div></div><ul class="itemizedlist"><li class="listitem"><p>
          <a class="link" href="https://documentation.suse.com/sbp/all/html/SLES4SAP-hana-sr-guide-PerfOpt-12/index.html" target="_blank">SAP HANA System Replication Scale-Up - Performance Optimized Scenario (Code 12)</a>
        </p></li><li class="listitem"><p>
          <a class="link" href="https://documentation.suse.com/sbp/all/pdf/SLES4SAP-hana-sr-guide-CostOpt-12_color_en.pdf" target="_blank">Setting up a SAP HANA SR Cost Optimized Infrastructure (SLES-SAP 12 SP1)</a>
        </p></li><li class="listitem"><p>
          <a class="link" href="https://documentation.suse.com/sbp/all/html/SLES4SAP-hana-sr-guide-PerfOpt-15/index.html" target="_blank">SAP HANA System Replication Scale-Up - Performance Optimized Scenario (Code 15)</a>
        </p></li><li class="listitem"><p>
          <a class="link" href="https://documentation.suse.com/sbp/all/html/SLES4SAP-hana-sr-guide-PerfOpt-12_AWS/index.html" target="_blank">SAP HANA High Availability Cluster for the AWS Cloud </a>
        </p></li><li class="listitem"><p>
          <a class="link" href="https://docs.microsoft.com/en-us/azure/virtual-machines/workloads/sap/sap-hana-high-availability" target="_blank">High availability of SAP HANA on Azure VMs on SUSE Linux Enterprise Server</a>
        </p></li></ul></div></section><section class="sect1" id="sec-sol-autom-hana-and-netweaver-deploy" data-id-title="SAP NetWeaver automated configuration"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">4 </span><span class="title-name">SAP NetWeaver automated configuration</span></span> <a title="Permalink" class="permalink" href="article-sap-automation.html#sec-sol-autom-hana-and-netweaver-deploy">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/blob/main/xml/article_sap_automation.xml" title="Edit source document"> </a></div></div></div></div></div><p>
      Use the Salt formula <span class="package">sapnwbootstrap-formula</span> for bootstrapping
      and managing the SAP NetWeaver platform.
    </p><div id="id-1.3.8.3" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note</div><p>The formula works only with SAP HANA as database.</p></div><div class="itemizedlist"><div class="title-container"><div class="itemizedlist-title-wrap"><div class="itemizedlist-title"><span class="title-number-name"><span class="title-name">SAP NetWeaver components </span></span><a title="Permalink" class="permalink" href="article-sap-automation.html#id-1.3.8.4">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/blob/main/xml/article_sap_automation.xml" title="Edit source document"> </a></div></div><ul class="itemizedlist"><li class="listitem"><p>ASCS instance</p></li><li class="listitem"><p>ERS instance</p></li><li class="listitem"><p>PAS instance</p></li><li class="listitem"><p>AAS instance</p></li><li class="listitem"><p>Database instance (this adds the required users, tables, views, etc. to the current Hana database)</p></li></ul></div><p>
      The Salt formula can be used in these scenarios:
    </p><div class="itemizedlist"><div class="title-container"><div class="itemizedlist-title-wrap"><div class="itemizedlist-title"><span class="title-number-name"><span class="title-name">Scenarios for <span class="package">sapnwbootstrap-formula</span> </span></span><a title="Permalink" class="permalink" href="article-sap-automation.html#id-1.3.8.6">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/blob/main/xml/article_sap_automation.xml" title="Edit source document"> </a></div></div><ul class="itemizedlist"><li class="listitem"><p>Enqueue replication server version 1</p></li><li class="listitem"><p>Enqueue replication server version 2</p></li></ul></div><div class="example" id="id-1.3.8.7" data-id-title="Installation"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 2: </span><span class="title-name">Installation </span></span><a title="Permalink" class="permalink" href="article-sap-automation.html#id-1.3.8.7">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/blob/main/xml/article_sap_automation.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">zypper install sapnwbootstrap-formula</pre></div></div></div><div class="itemizedlist"><div class="title-container"><div class="itemizedlist-title-wrap"><div class="itemizedlist-title"><span class="title-number-name"><span class="title-name">Best practices </span></span><a title="Permalink" class="permalink" href="article-sap-automation.html#id-1.3.8.8">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/blob/main/xml/article_sap_automation.xml" title="Edit source document"> </a></div></div><ul class="itemizedlist"><li class="listitem"><p><a class="link" href="https://documentation.suse.com/sbp/all/html/SAP_HA740_SetupGuide_AWS/index.html" target="_blank">SAP NetWeaver High Availability Cluster 7.40 for the AWS Cloud - Setup Guide (Code 12)</a></p></li><li class="listitem"><p><a class="link" href="https://documentation.suse.com/sbp/all/pdf/SAP_NW740_SLE12_SetupGuide_color_en.pdf" target="_blank">SAP NetWeaver High Availability Cluster 7.40 - Setup Guide (Code 12)</a></p></li><li class="listitem"><p><a class="link" href="https://documentation.suse.com/sbp/all/pdf/SAP_NW740_SLE12_SetupGuide_color_en.pdf" target="_blank">Simple Stack - SAP NetWeaver High Availability on SUSE Linux Enterprise 12 (SP1 or newer)</a></p></li><li class="listitem"><p><a class="link" href="https://documentation.suse.com/sbp/all/html/SAP_S4HA10_SetupGuide-SLE12/index.html" target="_blank">SAP S/4HANA - Enqueue Replication 2 High Availability Cluster - Setup Guide</a></p></li><li class="listitem"><p><a class="link" href="https://docs.microsoft.com/en-us/azure/virtual-machines/workloads/sap/high-availability-guide-suse" target="_blank">Azure</a></p></li></ul></div></section><section class="sect1" id="sec-sol-autom-ha-cluster-config" data-id-title="High Availability cluster automated configuration"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5 </span><span class="title-name">High Availability cluster automated configuration</span></span> <a title="Permalink" class="permalink" href="article-sap-automation.html#sec-sol-autom-ha-cluster-config">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/blob/main/xml/article_sap_automation.xml" title="Edit source document"> </a></div></div></div></div></div><p>
      Use the Salt formula <span class="package">habootstrap-formula</span> for bootstrapping and managing
      a high availability cluster with the crm shell.
    </p><div class="itemizedlist"><div class="title-container"><div class="itemizedlist-title-wrap"><div class="itemizedlist-title"><span class="title-number-name"><span class="title-name">Properties for <span class="package">habootstrap-formula</span> </span></span><a title="Permalink" class="permalink" href="article-sap-automation.html#id-1.3.9.3">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/blob/main/xml/article_sap_automation.xml" title="Edit source document"> </a></div></div><ul class="itemizedlist"><li class="listitem"><p>
          Creates and configures the High Availability cluster (Pacemaker, Corosync, SBD, and resource
          agents).
        </p></li><li class="listitem"><p>
          Run on-premises and Cloud-service providers (Azure, GCP, AWS).
        </p></li><li class="listitem"><p>Azure, AWS, and GCP automated adjustments for each provider best-practices.
        </p></li></ul></div></section><section class="sect1" id="sec-sol-autom-ha-nfs-config" data-id-title="High available NFS storage"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">6 </span><span class="title-name">High available NFS storage</span></span> <a title="Permalink" class="permalink" href="article-sap-automation.html#sec-sol-autom-ha-nfs-config">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/blob/main/xml/article_sap_automation.xml" title="Edit source document"> </a></div></div></div></div></div><p>
      Use the Salt formulas <span class="package">drbd-formula</span> and
      <span class="package">habootstrap-formula</span> to create a highly available NFS storage cluster. 
    </p><p>
      Use the formula <span class="package">drbd-formula</span> for setting up and managing
      DRBD devices with the command <code class="command">drbdadm</code>.
      Find more information in <a class="link" href="https://documentation.suse.com/sle-ha-15/html/SLE-HA-all/cha-ha-drbd.html" target="_blank">https://documentation.suse.com/sle-ha-15/html/SLE-HA-all/cha-ha-drbd.html</a>.
    </p><p>
      Use the Salt formula <span class="package">habootstrap-formula</span> for bootstrapping and managing
      a high availability cluster with the crm shell.
    </p><div class="example" id="id-1.3.10.5" data-id-title="Installation"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 3: </span><span class="title-name">Installation </span></span><a title="Permalink" class="permalink" href="article-sap-automation.html#id-1.3.10.5">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/blob/main/xml/article_sap_automation.xml" title="Edit source document"> </a></div></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">zypper install drbd-formula habootstrap-formula</pre></div></div></div></section><section class="sect1" id="sec-sol-autom-hana-using-salt-formulas" data-id-title="Using Salt formulas"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">7 </span><span class="title-name">Using Salt formulas</span></span> <a title="Permalink" class="permalink" href="article-sap-automation.html#sec-sol-autom-hana-using-salt-formulas">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/blob/main/xml/article_sap_automation.xml" title="Edit source document"> </a></div></div></div></div></div><p>
      Salt formulas can be applied in two ways:
    </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><span class="formalpara-title">Salt Master with Salt client. </span>
            All steps in <a class="xref" href="article-sap-automation.html#pro-sol-autom-hana-apply-salt-formulas" title="Applying Salt formulas">Procedure 1, “Applying Salt formulas”</a> must be
            executed on the Salt Master machine.</p></li><li class="listitem"><p><span class="formalpara-title">Salt client only. </span>
            All steps in <a class="xref" href="article-sap-automation.html#pro-sol-autom-hana-apply-salt-formulas" title="Applying Salt formulas">Procedure 1, “Applying Salt formulas”</a> must be
            executed in all of the Salt clients where the formulas are going to be executed.
          </p></li></ul></div><p>
      The following procedure is written in a general way to make it fit for all use cases.
      You need some knowledge about Salt and how to customize it to your needs.
    </p><div class="procedure" id="pro-sol-autom-hana-apply-salt-formulas" data-id-title="Applying Salt formulas"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 1: </span><span class="title-name">Applying Salt formulas </span></span><a title="Permalink" class="permalink" href="article-sap-automation.html#pro-sol-autom-hana-apply-salt-formulas">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/blob/main/xml/article_sap_automation.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><p>
        The following procedure demonstrates how to create a pillar structure for
        a system with SAP HANA, SAP NetWeaver, and with DRBD. This setup is based on SUSE Linux Enterprise Server for SAP Applications.
      </p><ol class="procedure" type="1"><li class="step"><p>
        Install <span class="package">salt-minion</span> package including dependencies using the
        <code class="command">zypper install salt-minion</code> command.
      </p><p>
        To install the package on SUSE Linux Enterprise 12, you must enable the Advanced System Management Module.
      </p></li><li class="step"><p>
        Make the correct version of SAP media available on a share, as it is
        required for running the formulas that install the SAP software.
        Ensure that the directories and files have correct permissions.
      </p></li><li class="step"><p>
          Install the Salt formulas using the <code class="command">sudo zypper in
          saphanabootstrap-formula sapnwbootstrap-formula drbd-formula
          habootstrap-formula</code> command.
        </p></li><li class="step"><p>
          Create the pillar files structure.
        </p><p>
          The pillar files work as configuration files for the Salt formulas
          and are intended as user input. To use the files, create a
          <code class="filename">top.sls</code> file which references other files you
          want to apply.
        </p><ol type="a" class="substeps"><li class="step"><p>
              Create the directory <code class="filename">/srv/pillar</code>
              and its subdirectories <code class="filename">hana</code>,
              <code class="filename">netweaver</code>,
              and <code class="filename">drbd</code>:
            </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">mkdir</code> --parents /srv/pillar/{hana,netweaver,drbd}</pre></div><p>
              The directory names match with the names in the <code class="filename">top.sls</code>
              file (see next step).
            </p></li><li class="step"><p>
              Create the file <code class="filename">/srv/pillar/top.sls</code> with the following content:
            </p><div class="verbatim-wrap"><pre class="screen">base:
    'hana01,hana02':
        - hana.hana
        - hana.cluster

    'netweaver01,netweaver02':
        - netweaver.netweaver
        - netweaver.cluster

    'drbd01,drbd02':
        - drbd.drbd
        - drbd.cluster</pre></div></li></ol></li><li class="step"><p>
          Copy example pillar files to the appropriate directories:
        </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">cp</code> /usr/share/salt-formulas/metadata/hana/pillar.example /srv/pillar/hana/hana.sls
<code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">cp</code> /usr/share/salt-formulas/states/netweaver/pillar.example /srv/pillar/netweaver/netweaver.sls
<code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">cp</code> /usr/share/salt-formulas/metadata/drbd/pillar.example /srv/pillar/drdb/drdb.sls
<code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">cp</code> /usr/share/salt-formulas/metadata/cluster/pillar.example /srv/pillar/hana
<code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">cp</code> /usr/share/salt-formulas/metadata/cluster/pillar.example /srv/pillar/netweaver
<code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">cp</code> /usr/share/salt-formulas/metadata/cluster/pillar.example /srv/pillar/drdb</pre></div></li><li class="step"><p>
          Modify the content of the pillar files for each Salt formula,
          according to the configuration you need.
        </p><p>
          Notice that, in this example, we have three different
          <code class="filename">cluster.sls</code> files. Each might have different HA cluster
          requirements.
        </p></li><li class="step"><p>
          Create the file <code class="filename">/srv/salt/top.sls</code> with the following content:
        </p><div class="verbatim-wrap"><pre class="screen">base:
    'hana01,hana02':
        - hana
        - cluster

    'netweaver01,netweaver02':
        - netweaver
        - cluster

    'drbd01,drbd02':
        - drbd
        - cluster</pre></div><p>
          In the above example, folder part is removed, as we are pointing to the formulas with
          their names.
        </p></li><li class="step"><p>
       Before proceeding to the next step, perform an environment check to
       ensure that all the required users and groups exist and configured
       correctly.
      </p></li><li class="step"><p>
         Execute Salt using the commands below. Keep in mind that these are
         example commands: Salt supports more options.
        </p><ul class="stepalternatives">
          <li class="step"><p>If you use a Salt Master with Salt clients, run:</p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">salt</code> '*' state.highstate</pre></div></li>
          <li class="step"><p>If you use only a Salt client, run:</p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">salt</code> --local state.highstate</pre></div></li>
        </ul><p>
          The command shows the result (green for everything is fine, red for errors).
        </p></li></ol></div></div></section><section class="sect1" id="sec-sol-autom-more" data-id-title="For more information"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">8 </span><span class="title-name">For more information</span></span> <a title="Permalink" class="permalink" href="article-sap-automation.html#sec-sol-autom-more">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/blob/main/xml/article_sap_automation.xml" title="Edit source document"> </a></div></div></div></div></div><p>
      Find some more general information in the following list:
    </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><a class="link" href="https://documentation.suse.com/sbp/all/html/SLES4SAP-hana-sr-guide-PerfOpt-15/index.html" target="_blank">SAP HANA System Replication Scale-Up - Performance Optimized Scenario (Code 15):</a></p></li><li class="listitem"><p><a class="link" href="https://documentation.suse.com/sbp/all/html/SLES4SAP-hana-sr-guide-PerfOpt-12/index.html" target="_blank">SAP HANA System Replication Scale-Up - Performance Optimized Scenario (Code 12)</a></p></li><li class="listitem"><p><a class="link" href="https://documentation.suse.com/sbp/all/pdf/SLES4SAP-hana-sr-guide-CostOpt-12_color_en.pdf" target="_blank">Setting up a SAP HANA SR Cost Optimized Infrastructure (SLES for SAP 12 SP1)</a></p></li><li class="listitem"><p><a class="link" href="https://documentation.suse.com/sbp/all/html/SLES4SAP-hana-sr-guide-PerfOpt-12_AWS/index.html" target="_blank">SAP HANA High Availability Cluster for the AWS Cloud</a></p></li><li class="listitem"><p><a class="link" href="https://docs.microsoft.com/en-us/azure/virtual-machines/workloads/sap/sap-hana-high-availability" target="_blank">High availability of SAP HANA on Azure VMs on SUSE Linux Enterprise Server</a></p></li></ul></div><p>
      The open source repositories of the deployment automation can be found
      at the following GitHub repositories, including the Terraform
      scripts. All scripts provided in the repositories are as-is and are
      not supported as part of SUSE Linux Enterprise Server for SAP Applications.
    </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.3.12.6.1"><span class="term">SAP HANA deployment automation</span></dt><dd><p><a class="link" href="https://github.com/SUSE/saphanabootstrap-formula" target="_blank">https://github.com/SUSE/saphanabootstrap-formula</a></p></dd><dt id="id-1.3.12.6.2"><span class="term">SAP NetWeaver automated configuration</span></dt><dd><p><a class="link" href="https://github.com/SUSE/sapnwbootstrap-formula" target="_blank">https://github.com/SUSE/sapnwbootstrap-formula</a></p></dd><dt id="id-1.3.12.6.3"><span class="term">High Availability cluster automated configuration</span></dt><dd><p><a class="link" href="https://github.com/SUSE/habootstrap-formula" target="_blank">https://github.com/SUSE/habootstrap-formula</a></p></dd><dt id="id-1.3.12.6.4"><span class="term">High Availability cluster automated configuration (DRBD)</span></dt><dd><p><a class="link" href="https://github.com/SUSE/drbd-formula" target="_blank">https://github.com/SUSE/drbd-formula</a></p></dd><dt id="id-1.3.12.6.5"><span class="term">High Availability cluster automated configuration (Salt)</span></dt><dd><p><a class="link" href="https://github.com/SUSE/habootstrap-formula" target="_blank">https://github.com/SUSE/habootstrap-formula</a></p></dd></dl></div></section><section class="sect1" id="id-1.3.13" data-id-title="Legal notice"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">9 </span><span class="title-name">Legal notice</span></span> <a title="Permalink" class="permalink" href="article-sap-automation.html#id-1.3.13">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/blob/main/xml/common_copyright_quick.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  Copyright© 2006–
2024

  SUSE LLC and contributors. All rights reserved.
 </p><p>
  Permission is granted to copy, distribute and/or modify this document under
  the terms of the GNU Free Documentation License, Version 1.2 or (at your
  option) version 1.3; with the Invariant Section being this copyright notice
  and license. A copy of the license version 1.2 is included in the section
  entitled <span class="quote">“<span class="quote">GNU Free Documentation License</span>”</span>.
 </p><p>
  For SUSE trademarks, see
  <a class="link" href="https://www.suse.com/company/legal/" target="_blank">https://www.suse.com/company/legal/</a>. All other
  third-party trademarks are the property of their respective owners. Trademark
  symbols (®, ™ etc.) denote trademarks of SUSE and its affiliates.
  Asterisks (*) denote third-party trademarks.
 </p><p>
  All information found in this book has been compiled with utmost attention to
  detail. However, this does not guarantee complete accuracy. Neither SUSE LLC,
  its affiliates, the authors, nor the translators shall be held liable for
  possible errors or the consequences thereof.
 </p></section></section><nav class="bottom-pagination"><div> </div><div><a class="pagination-link next" href="apa.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Appendix A </span>GNU licenses</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">On this page</div><div class="toc"><ul><li><span class="sect1"><a href="article-sap-automation.html#sec-sol-autom-concept-overview"><span class="title-number">1 </span><span class="title-name">Conceptual overview</span></a></span></li><li><span class="sect1"><a href="article-sap-automation.html#sec-sol-autom-terms"><span class="title-number">2 </span><span class="title-name">Terminology</span></a></span></li><li><span class="sect1"><a href="article-sap-automation.html#sec-sol-autom-hana-deploy"><span class="title-number">3 </span><span class="title-name">SAP HANA automated deployment</span></a></span></li><li><span class="sect1"><a href="article-sap-automation.html#sec-sol-autom-hana-and-netweaver-deploy"><span class="title-number">4 </span><span class="title-name">SAP NetWeaver automated configuration</span></a></span></li><li><span class="sect1"><a href="article-sap-automation.html#sec-sol-autom-ha-cluster-config"><span class="title-number">5 </span><span class="title-name">High Availability cluster automated configuration</span></a></span></li><li><span class="sect1"><a href="article-sap-automation.html#sec-sol-autom-ha-nfs-config"><span class="title-number">6 </span><span class="title-name">High available NFS storage</span></a></span></li><li><span class="sect1"><a href="article-sap-automation.html#sec-sol-autom-hana-using-salt-formulas"><span class="title-number">7 </span><span class="title-name">Using Salt formulas</span></a></span></li><li><span class="sect1"><a href="article-sap-automation.html#sec-sol-autom-more"><span class="title-number">8 </span><span class="title-name">For more information</span></a></span></li><li><span class="sect1"><a href="article-sap-automation.html#id-1.3.13"><span class="title-number">9 </span><span class="title-name">Legal notice</span></a></span></li><li><span class="appendix"><a href="apa.html"><span class="title-number">A </span><span class="title-name">GNU licenses</span></a></span><ul><li><span class="sect1"><a href="apa.html#id-1.3.14.4"><span class="title-number">A.1 </span><span class="title-name">GNU Free Documentation License</span></a></span></li></ul></li></ul></div><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter/X"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2024</span></div></div></footer></body></html>