<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><title>SLES for SAP 15 SP2 | Guide</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/"/>
<meta name="title" content="Guide | SLES for SAP 15 SP2"/>
<meta name="description" content="SUSE® Linux Enterprise Server for SAP Applications is …"/>
<meta name="product-name" content="SUSE Linux Enterprise Server for SAP Applications"/>
<meta name="product-number" content="15 SP2"/>
<meta name="book-title" content="Guide"/>
<meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi"/>
<meta name="tracker-type" content="bsc"/>
<meta name="tracker-bsc-assignee" content="dmitri.popov@suse.com"/>
<meta name="tracker-bsc-component" content="Documentation"/>
<meta name="tracker-bsc-product" content="SUSE Linux Enterprise Server for SAP Applications 15 SP2"/>
<meta name="publisher" content="SUSE"/><meta property="og:title" content="Guide | SLES for SAP 15 SP2"/>
<meta property="og:description" content="SUSE® Linux Enterprise Server for SAP Applications is the reference platform for the software development of SAP. It is opti…"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Guide | SLES for SAP 15 SP2"/>
<meta name="twitter:description" content="SUSE® Linux Enterprise Server for SAP Applications is the reference platform for the software development of SAP. It is opti…"/>
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/jquery-1.12.4.min.js" type="text/javascript"> </script><script src="static/js/script.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script><meta name="edit-url" content="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/MAIN-SLES4SAP-guide.xml"/></head><body class="draft single normal offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="#book-s4s">Guide</a></div></div><main id="_content"><nav class="side-toc placebo" id="_side-toc-overall"> </nav><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section xml:lang="en" class="book" id="book-s4s" data-id-title="Guide"><div class="titlepage"><div><div class="big-version-info"><span class="productname">SUSE Linux Enterprise Server for SAP Applications</span> <span class="productnumber">15 SP2</span></div><div class="title-container"><div class="title-container"><h1 class="title"><span class="phrase">Guide</span> <a title="Permalink" class="permalink" href="#book-s4s">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/MAIN-SLES4SAP-guide.xml" title="Edit source document"> </a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/MAIN-SLES4SAP-guide.xml" title="Edit source document"> </a></div></div><div class="date"><span class="imprint-label">Publication Date: </span>January 11, 2024
</div></div></div><div class="toc"><ul><li><span class="preface"><a href="#pre-s4s"><span class="title-name">About this guide</span></a></span><ul><li><span class="sect1"><a href="#id-1.3.4"><span class="title-name">Overview</span></a></span></li><li><span class="sect1"><a href="#id-1.3.5"><span class="title-name">Available documentation and resources</span></a></span></li><li><span class="sect1"><a href="#id-1.3.6"><span class="title-name">Improving the documentation</span></a></span></li><li><span class="sect1"><a href="#id-1.3.7"><span class="title-name">Documentation conventions</span></a></span></li><li><span class="sect1"><a href="#id-1.3.8"><span class="title-name">Support</span></a></span></li></ul></li><li><span class="chapter"><a href="#cha-about"><span class="title-number">1 </span><span class="title-name">What is SUSE Linux Enterprise Server for SAP Applications?</span></a></span><ul><li><span class="sect1"><a href="#sec-component"><span class="title-number">1.1 </span><span class="title-name">Software components</span></a></span></li><li><span class="sect1"><a href="#sec-repository"><span class="title-number">1.2 </span><span class="title-name">Software repository setup</span></a></span></li><li><span class="sect1"><a href="#sec-s4s-service"><span class="title-number">1.3 </span><span class="title-name">Included Services</span></a></span></li></ul></li><li><span class="chapter"><a href="#cha-plan"><span class="title-number">2 </span><span class="title-name">Planning the installation</span></a></span><ul><li><span class="sect1"><a href="#sec-hardware"><span class="title-number">2.1 </span><span class="title-name">Hardware requirements</span></a></span></li><li><span class="sect1"><a href="#sec-download"><span class="title-number">2.2 </span><span class="title-name">Installation image</span></a></span></li><li><span class="sect1"><a href="#sec-migration"><span class="title-number">2.3 </span><span class="title-name">Offline migration</span></a></span></li><li><span class="sect1"><a href="#sec-how-install"><span class="title-number">2.4 </span><span class="title-name">Installation methods</span></a></span></li><li><span class="sect1"><a href="#sec-workflow-overview"><span class="title-number">2.5 </span><span class="title-name">Overview of the installation workflow</span></a></span></li><li><span class="sect1"><a href="#sec-data"><span class="title-number">2.6 </span><span class="title-name">Required data for installing</span></a></span></li><li><span class="sect1"><a href="#sec-partition"><span class="title-number">2.7 </span><span class="title-name">Partitioning</span></a></span></li></ul></li><li><span class="chapter"><a href="#cha-install"><span class="title-number">3 </span><span class="title-name">Installing the operating system</span></a></span><ul><li><span class="sect1"><a href="#sec-install-workflow"><span class="title-number">3.1 </span><span class="title-name">Using the installation workflow</span></a></span></li><li><span class="sect1"><a href="#sec-install-network"><span class="title-number">3.2 </span><span class="title-name">Using SLES for SAP media from the network</span></a></span></li><li><span class="sect1"><a href="#sec-autoyast"><span class="title-number">3.3 </span><span class="title-name">Using an external AutoYaST profile</span></a></span></li><li><span class="sect1"><a href="#sec-convert-sles"><span class="title-number">3.4 </span><span class="title-name">Converting an SLES installation to an SLES for SAP installation</span></a></span></li></ul></li><li><span class="chapter"><a href="#cha-install-sap"><span class="title-number">4 </span><span class="title-name">Installing SAP applications</span></a></span><ul><li><span class="sect1"><a href="#sec-install-sap-list"><span class="title-number">4.1 </span><span class="title-name">Products that can be installed using SAP Installation Wizard</span></a></span></li><li><span class="sect1"><a href="#sec-install-sap-welcome"><span class="title-number">4.2 </span><span class="title-name">First steps</span></a></span></li><li><span class="sect1"><a href="#sec-install-sap-product"><span class="title-number">4.3 </span><span class="title-name">Using the SAP Installation Wizard</span></a></span></li><li><span class="sect1"><a href="#sec-install-continue"><span class="title-number">4.4 </span><span class="title-name">Continuing an installation using an installation profile</span></a></span></li><li><span class="sect1"><a href="#sec-partition-command"><span class="title-number">4.5 </span><span class="title-name">Partitioning for an SAP application without the SAP Installation Wizard</span></a></span></li><li><span class="sect1"><a href="#sec-install-sap-autoyast"><span class="title-number">4.6 </span><span class="title-name">Automated installation of SAP applications with AutoYaST</span></a></span></li></ul></li><li><span class="chapter"><a href="#cha-upgrade-sap-hana-cluster"><span class="title-number">5 </span><span class="title-name">Upgrading a SAP HANA cluster</span></a></span><ul><li><span class="sect1"><a href="#sec-upgrade-sap-hana-cluster-preparing"><span class="title-number">5.1 </span><span class="title-name">Preparing the upgrade</span></a></span></li><li><span class="sect1"><a href="#sec-upgrade-sap-hana-cluster-upgrading"><span class="title-number">5.2 </span><span class="title-name">Upgrading your SAP HANA cluster</span></a></span></li><li><span class="sect1"><a href="#sec-upgrade-sap-hana-cluster-finishing"><span class="title-number">5.3 </span><span class="title-name">Finishing the upgrade task</span></a></span></li></ul></li><li><span class="chapter"><a href="#cha-serve-mediaset"><span class="title-number">6 </span><span class="title-name">Setting up an installation server for SAP media sets</span></a></span></li><li><span class="chapter"><a href="#cha-cluster"><span class="title-number">7 </span><span class="title-name">Setting up an SAP HANA cluster</span></a></span><ul><li><span class="sect1"><a href="#sec-hana-cluster-prerequisite"><span class="title-number">7.1 </span><span class="title-name">Prerequisites</span></a></span></li><li><span class="sect1"><a href="#sec-hana-cluster-wizard"><span class="title-number">7.2 </span><span class="title-name">Setup</span></a></span></li><li><span class="sect1"><a href="#sec-hana-cluster-wizard-semiautomatic"><span class="title-number">7.3 </span><span class="title-name">Unattended setup using SAP HANA-SR wizard</span></a></span></li><li><span class="sect1"><a href="#sec-hawk"><span class="title-number">7.4 </span><span class="title-name">Using Hawk</span></a></span></li><li><span class="sect1"><a href="#sec-moreinfo"><span class="title-number">7.5 </span><span class="title-name">For more information</span></a></span></li></ul></li><li><span class="chapter"><a href="#cha-tune-sapconf"><span class="title-number">8 </span><span class="title-name">Tuning systems with <code class="literal">sapconf</code></span></a></span><ul><li><span class="sect1"><a href="#sec-sapconf-5-overview"><span class="title-number">8.1 </span><span class="title-name">Overview of <code class="literal">sapconf</code></span></a></span></li><li><span class="sect1"><a href="#sec-sapconf-5-verify"><span class="title-number">8.2 </span><span class="title-name">Verifying <code class="literal">sapconf</code> setup</span></a></span></li><li><span class="sect1"><a href="#sec-sapconf-5-enable"><span class="title-number">8.3 </span><span class="title-name">Enabling and disabling <code class="literal">sapconf</code> and viewing its status</span></a></span></li><li><span class="sect1"><a href="#sec-sapconf-5-configure"><span class="title-number">8.4 </span><span class="title-name">Configuring <code class="literal">sapconf</code></span></a></span></li><li><span class="sect1"><a href="#sec-sapconf-5-remove"><span class="title-number">8.5 </span><span class="title-name">Removing <code class="literal">sapconf</code></span></a></span></li><li><span class="sect1"><a href="#sec-sapconf-5-tuned"><span class="title-number">8.6 </span><span class="title-name">Using <code class="command">tuned</code> together with  <code class="literal">sapconf</code></span></a></span></li><li><span class="sect1"><a href="#sec-sapconf-5-more"><span class="title-number">8.7 </span><span class="title-name">For more information</span></a></span></li></ul></li><li><span class="chapter"><a href="#cha-tune"><span class="title-number">9 </span><span class="title-name">Tuning systems with <code class="command">saptune</code></span></a></span><ul><li><span class="sect1"><a href="#sec-saptune-enable"><span class="title-number">9.1 </span><span class="title-name">Enabling <code class="command">saptune</code></span></a></span></li><li><span class="sect1"><a href="#sec-saptune-disable"><span class="title-number">9.2 </span><span class="title-name">Disabling <code class="command">saptune</code></span></a></span></li><li><span class="sect1"><a href="#sec-saptune-update"><span class="title-number">9.3 </span><span class="title-name">Updating <code class="command">saptune</code></span></a></span></li><li><span class="sect1"><a href="#sec-saptune-sapnotes"><span class="title-number">9.4 </span><span class="title-name">Managing SAP Notes</span></a></span></li><li><span class="sect1"><a href="#sec-saptune-sapsolution"><span class="title-number">9.5 </span><span class="title-name">Managing SAP Solutions</span></a></span></li><li><span class="sect1"><a href="#sec-saptune-verify-and-troubleshooting"><span class="title-number">9.6 </span><span class="title-name">Verification and troubleshooting</span></a></span></li><li><span class="sect1"><a href="#sec-saptune-machine-readable-output"><span class="title-number">9.7 </span><span class="title-name">Machine-readable output</span></a></span></li><li><span class="sect1"><a href="#sec-saptune-staging"><span class="title-number">9.8 </span><span class="title-name">Staging</span></a></span></li><li><span class="sect1"><a href="#sec-sysctl"><span class="title-number">9.9 </span><span class="title-name">Tuning kernel parameters manually using <code class="command">sysctl</code></span></a></span></li><li><span class="sect1"><a href="#sec-saptune-more"><span class="title-number">9.10 </span><span class="title-name">For more information</span></a></span></li></ul></li><li><span class="chapter"><a href="#cha-memory-protection"><span class="title-number">10 </span><span class="title-name">Tuning Workload Memory Protection</span></a></span><ul><li><span class="sect1"><a href="#sec-memory-protection-architecture"><span class="title-number">10.1 </span><span class="title-name">Architecture</span></a></span></li><li><span class="sect1"><a href="#sec-memory-protection-support"><span class="title-number">10.2 </span><span class="title-name">Support for Workload Memory Protection</span></a></span></li><li><span class="sect1"><a href="#sec-memory-protection-setup"><span class="title-number">10.3 </span><span class="title-name">Setting up Workload Memory Protection</span></a></span></li><li><span class="sect1"><a href="#sec-memory-protection-configuration"><span class="title-number">10.4 </span><span class="title-name">Configuring Workload Memory Protection</span></a></span></li><li><span class="sect1"><a href="#sec-memory-protection-operation-change-the-value-of-memorylow"><span class="title-number">10.5 </span><span class="title-name">Changing the value of MemoryLow</span></a></span></li><li><span class="sect1"><a href="#sec-memory-protection-operation-monitor-memory-usage"><span class="title-number">10.6 </span><span class="title-name">Monitoring memory usage</span></a></span></li><li><span class="sect1"><a href="#sec-memory-protection-verify-correct-operation"><span class="title-number">10.7 </span><span class="title-name">Verifying correct operation</span></a></span></li><li><span class="sect1"><a href="#sec-memory-protection-deinstallation"><span class="title-number">10.8 </span><span class="title-name">Uninstalling Workload Memory Protection</span></a></span></li><li><span class="sect1"><a href="#sec-sap-systemd-mix-wmp"><span class="title-number">10.9 </span><span class="title-name">Systems running both <code class="systemitem">systemd</code>-based and regular SAP instances</span></a></span></li><li><span class="sect1"><a href="#sec-sap-systemd-wmp"><span class="title-number">10.10 </span><span class="title-name">Systems running only <code class="systemitem">systemd</code>-based instances</span></a></span></li></ul></li><li><span class="chapter"><a href="#cha-access"><span class="title-number">11 </span><span class="title-name">Firewalling</span></a></span><ul><li><span class="sect1"><a href="#sec-configure-firewall"><span class="title-number">11.1 </span><span class="title-name">Configuring <code class="systemitem">firewalld</code></span></a></span></li><li><span class="sect1"><a href="#sec-configure-firewall-hana"><span class="title-number">11.2 </span><span class="title-name">Configuring HANA-Firewall</span></a></span></li><li><span class="sect1"><a href="#sec-configure-saprouter"><span class="title-number">11.3 </span><span class="title-name">SAProuter integration</span></a></span></li></ul></li><li><span class="chapter"><a href="#cha-clamsap"><span class="title-number">12 </span><span class="title-name">Protecting against malware with ClamSAP</span></a></span><ul><li><span class="sect1"><a href="#sec-clamsap-install"><span class="title-number">12.1 </span><span class="title-name">Installing ClamSAP</span></a></span></li><li><span class="sect1"><a href="#sec-clamsap-scannergroup"><span class="title-number">12.2 </span><span class="title-name">Creating a virus scanner group in SAP NetWeaver</span></a></span></li><li><span class="sect1"><a href="#sec-clamsap-library"><span class="title-number">12.3 </span><span class="title-name">Setting up the ClamSAP library in SAP NetWeaver</span></a></span></li><li><span class="sect1"><a href="#sec-clamsap-changedir"><span class="title-number">12.4 </span><span class="title-name">Configuring the default location of virus definitions</span></a></span></li><li><span class="sect1"><a href="#sec-clamsap-engage"><span class="title-number">12.5 </span><span class="title-name">Engaging ClamSAP</span></a></span></li><li><span class="sect1"><a href="#sec-clamsap-more"><span class="title-number">12.6 </span><span class="title-name">For more information</span></a></span></li></ul></li><li><span class="chapter"><a href="#cha-configure-rdp"><span class="title-number">13 </span><span class="title-name">Connecting via RDP</span></a></span></li><li><span class="chapter"><a href="#cha-image"><span class="title-number">14 </span><span class="title-name">Creating operating system images</span></a></span><ul><li><span class="sect1"><a href="#sec-configure-kiwi"><span class="title-number">14.1 </span><span class="title-name">Creating images with KIWI NG</span></a></span></li><li><span class="sect1"><a href="#sec-configure-scrub-instance"><span class="title-number">14.2 </span><span class="title-name">Cleaning up an instance before using it as a master image</span></a></span></li></ul></li><li><span class="chapter"><a href="#cha-trouble"><span class="title-number">15 </span><span class="title-name">Important log files</span></a></span></li><li><span class="appendix"><a href="#app-additional-software"><span class="title-number">A </span><span class="title-name">Additional software for SLES for SAP</span></a></span><ul><li><span class="sect1"><a href="#id-1.19.4"><span class="title-number">A.1 </span><span class="title-name">Identifying a base product for SUSE Linux Enterprise Server for SAP Applications</span></a></span></li><li><span class="sect1"><a href="#sec-suseconnectprogram"><span class="title-number">A.2 </span><span class="title-name">SUSE connect program</span></a></span></li><li><span class="sect1"><a href="#sec-packagehub"><span class="title-number">A.3 </span><span class="title-name">SUSE Package Hub</span></a></span></li></ul></li><li><span class="appendix"><a href="#app-autoyast-partition"><span class="title-number">B </span><span class="title-name">Partitioning for the SAP system using AutoYaST</span></a></span></li><li><span class="appendix"><a href="#app-component-supplement"><span class="title-number">C </span><span class="title-name">Supplementary Media</span></a></span><ul><li><span class="sect1"><a href="#sec-component-supplement-productxml"><span class="title-number">C.1 </span><span class="title-name"><code class="filename">product.xml</code></span></a></span></li><li><span class="sect1"><a href="#sec-component-supplement-ask"><span class="title-number">C.2 </span><span class="title-name">Own AutoYaST ask dialogs</span></a></span></li><li><span class="sect1"><a href="#sec-component-supplement-rpm"><span class="title-number">C.3 </span><span class="title-name">Installing additional packages</span></a></span></li><li><span class="sect1"><a href="#sec-supplement-directory"><span class="title-number">C.4 </span><span class="title-name">Example directory for Supplementary Media</span></a></span></li></ul></li><li><span class="appendix"><a href="#id-1.22"><span class="title-number">D </span><span class="title-name">GNU licenses</span></a></span><ul><li><span class="sect1"><a href="#id-1.22.4"><span class="title-number">D.1 </span><span class="title-name">GNU Free Documentation License</span></a></span></li></ul></li></ul></div><div class="list-of-figures"><div class="toc-title">List of Figures</div><ul><li><span class="figure"><a href="#fig-offering"><span class="number">1.1 </span><span class="name">Offerings of SUSE Linux Enterprise Server for SAP Applications</span></a></span></li><li><span class="figure"><a href="#fig-install-media-bootmenu"><span class="number">3.1 </span><span class="name">Installation media boot menu</span></a></span></li><li><span class="figure"><a href="#fig-install-license"><span class="number">3.2 </span><span class="name">Language, keyboard and product selection</span></a></span></li><li><span class="figure"><a href="#fig-install-reg-dialog"><span class="number">3.3 </span><span class="name">Registration</span></a></span></li><li><span class="figure"><a href="#fig-install-type"><span class="number">3.4 </span><span class="name">System role</span></a></span></li><li><span class="figure"><a href="#fig-install-partition"><span class="number">3.5 </span><span class="name">Suggested partitioning</span></a></span></li><li><span class="figure"><a href="#fig-install-overview"><span class="number">3.6 </span><span class="name">Installation settings</span></a></span></li><li><span class="figure"><a href="#fig-sap-wizard-source"><span class="number">4.1 </span><span class="name">Location of SAP installation master</span></a></span></li><li><span class="figure"><a href="#fig-sap-wizard-sapmedia"><span class="number">4.2 </span><span class="name">SAP Installation Wizard: additional Installation Media</span></a></span></li><li><span class="figure"><a href="#fig-sap-wizard-mode-db"><span class="number">4.3 </span><span class="name">SAP Installation Wizard: installation type and database</span></a></span></li><li><span class="figure"><a href="#fig-sap-wizard-avail-products"><span class="number">4.4 </span><span class="name">SAP Installation Wizard: choose a product</span></a></span></li><li><span class="figure"><a href="#fig-product-parameter"><span class="number">4.5 </span><span class="name">Product parameters</span></a></span></li><li><span class="figure"><a href="#fig-sapinst-param"><span class="number">4.6 </span><span class="name">SAP Installer: defining parameters</span></a></span></li><li><span class="figure"><a href="#id-1.10.8.2.11.4"><span class="number">7.1 </span><span class="name">SAP HANA options (cost-optimized scenario)</span></a></span></li><li><span class="figure"><a href="#fig-clamsap-add-entry"><span class="number">12.1 </span><span class="name"/></a></span></li><li><span class="figure"><a href="#fig-clamsap-add-value"><span class="number">12.2 </span><span class="name"/></a></span></li><li><span class="figure"><a href="#fig-clamsap-scanner-change"><span class="number">12.3 </span><span class="name">Change view <span class="quote">“<span class="quote">virus scan provider definition</span>”</span></span></a></span></li><li><span class="figure"><a href="#fig-clamsap-summary"><span class="number">12.4 </span><span class="name">Summary of ClamSAP data</span></a></span></li></ul></div><div class="list-of-tables"><div class="toc-title">List of Tables</div><ul><li><span class="table"><a href="#tab-repository"><span class="number">1.1 </span><span class="name">Standard repositories</span></a></span></li><li><span class="table"><a href="#tab-sap-media-source"><span class="number">4.1 </span><span class="name">Media source path</span></a></span></li></ul></div><div class="list-of-examples"><div class="toc-title">List of Examples</div><ul><li><span class="example"><a href="#ex-sapconf-change-parameter-5"><span class="number">8.1 </span><span class="name">Checking parameters</span></a></span></li></ul></div><div><div xml:lang="en" class="legalnotice" id="id-1.2.6"><p>
  Copyright © 2010–2024

  SUSE LLC and contributors. All rights reserved.
 </p><p>
  Permission is granted to copy, distribute and/or modify this document under
  the terms of the GNU Free Documentation License, Version 1.2 or (at your
  option) version 1.3; with the Invariant Section being this copyright notice
  and license. A copy of the license version 1.2 is included in the section
  entitled <span class="quote">“<span class="quote">GNU Free Documentation License</span>”</span>.
 </p><p>
  For SUSE trademarks, see
  <a class="link" href="https://www.suse.com/company/legal/" target="_blank">https://www.suse.com/company/legal/</a>. All
  third-party trademarks are the property of their respective owners. Trademark
  symbols (®, ™ etc.) denote trademarks of SUSE and its affiliates.
  Asterisks (*) denote third-party trademarks.
 </p><p>
  All information found in this book has been compiled with utmost attention to
  detail. However, this does not guarantee complete accuracy. Neither
  SUSE LLC, its affiliates, the authors nor the translators shall be
  held liable for possible errors or the consequences thereof.
 </p></div></div><section class="preface" id="pre-s4s" data-id-title="About this guide"><div class="titlepage"><div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number"> </span><span class="title-name">About this guide</span></span> <a title="Permalink" class="permalink" href="#pre-s4s">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_overview.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  SUSE® Linux Enterprise Server for SAP Applications is the reference platform for the software development of SAP.
  It is optimized for SAP applications.
  <span class="phrase">
  This document provides detailed information about installing and
  customizing SUSE Linux Enterprise Server for SAP Applications.
  </span>
  
 </p><p>
  SUSE Linux Enterprise High Availability is also part of SUSE Linux Enterprise Server for SAP Applications.
 </p><section class="sect1" id="id-1.3.4" data-id-title="Overview"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">1 </span><span class="title-name">Overview</span></span> <a title="Permalink" class="permalink" href="#id-1.3.4">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_overview.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The SUSE Linux Enterprise Server for SAP Applications Guide is divided into the following chapters:
  </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.3.4.3.1"><span class="term"><a class="xref" href="#cha-about" title="Chapter 1. What is SUSE Linux Enterprise Server for SAP Applications?"><em>What is SUSE Linux Enterprise Server for SAP Applications?</em></a>
    </span></dt><dd><p>
      An overview of SUSE Linux Enterprise Server for SAP Applications.
     </p></dd><dt id="id-1.3.4.3.2"><span class="term"><a class="xref" href="#cha-plan" title="Chapter 2. Planning the installation"><em>Planning the installation</em></a>
    </span></dt><dd><p>
      Information on hardware requirements, the installation workflow,
      partitioning, and other installation planning aspects.
     </p></dd><dt id="id-1.3.4.3.3"><span class="term"><a class="xref" href="#cha-install" title="Chapter 3. Installing the operating system"><em>Installing the operating system</em></a>
    </span></dt><dd><p>
      Installing the SUSE Linux Enterprise Server operating system that forms the basis of
      SUSE Linux Enterprise Server for SAP Applications.
     </p></dd><dt id="id-1.3.4.3.4"><span class="term"><a class="xref" href="#cha-install-sap" title="Chapter 4. Installing SAP applications"><em>Installing SAP applications</em></a>
    </span></dt><dd><p>
      Installing SAP applications on SUSE Linux Enterprise Server for SAP Applications, either directly after the
      installation of the operating system or in a running system.
     </p></dd><dt id="id-1.3.4.3.5"><span class="term"><a class="xref" href="#cha-serve-mediaset" title="Chapter 6. Setting up an installation server for SAP media sets"><em>Setting up an installation server for SAP media sets</em></a>
    </span></dt><dd><p>
      Setting up a server for all Installation Media used within your organization.
     </p></dd><dt id="id-1.3.4.3.6"><span class="term"><a class="xref" href="#sec-component" title="1.1. Software components">Software components</a>
    </span></dt><dd><p>
      Description of tools to configure SUSE Linux Enterprise Server for SAP Applications.
     </p></dd></dl></div></section><section xml:lang="en" class="sect1" id="id-1.3.5" data-id-title="Available documentation and resources"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2 </span><span class="title-name">Available documentation and resources</span></span> <a title="Permalink" class="permalink" href="#id-1.3.5">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/common_intro_available_doc.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  This manual contains links to additional documentation resources that are
  either available on the system or online.
 </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.3.5.3.1"><span class="term">Online documentation</span></dt><dd><p>
     Visit
     <a class="link" href="https://documentation.suse.com/#sles-sap" target="_blank">https://documentation.suse.com/#sles-sap</a> for the
     latest version of this guide in different formats. You can find whitepapers
     and other resources in the SUSE Linux Enterprise Server for SAP Applications resource library: <a class="link" href="https://www.suse.com/products/sles-for-sap/resource-library/" target="_blank">https://www.suse.com/products/sles-for-sap/resource-library/</a>.
     </p><p>
     Find the online documentation for other products
     at <a class="link" href="https://documentation.suse.com/" target="_blank">https://documentation.suse.com/</a>.</p><div id="id-1.3.5.3.1.2.3" data-id-title="Latest updates" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Latest updates</div><p>
      The latest documentation updates are normally available in the English
      version of the documentation.
     </p></div></dd><dt id="id-1.3.5.3.2"><span class="term">SUSE Knowledgebase</span></dt><dd><p>
     If you have run into an issue, also check out the Technical Information
     Documents (TIDs) that are available online at <a class="link" href="https://www.suse.com/support/kb/" target="_blank">https://www.suse.com/support/kb/</a>.
     Search the SUSE Knowledgebase for known solutions driven by customer need.
     </p></dd><dt id="id-1.3.5.3.3"><span class="term">Release notes</span></dt><dd><p>
     For release notes, see <a class="link" href="https://www.suse.com/releasenotes/" target="_blank">https://www.suse.com/releasenotes/</a>.
    </p></dd><dt id="id-1.3.5.3.4"><span class="term">In your system</span></dt><dd><p>
       For offline use, the release notes are also available under
       <code class="filename">/usr/share/doc/release-notes</code> on your system.
       The documentation for individual packages is available at
       <code class="filename">/usr/share/doc/packages</code>.
     </p><p>
       Many commands are also described in their <span class="emphasis"><em>manual
       pages</em></span>. To view them, run <code class="command">man</code>, followed
       by a specific command name. If the <code class="command">man</code> command is
       not installed on your system, install it with <code class="command">sudo zypper
       install man</code>.
     </p></dd></dl></div></section><section xml:lang="en" class="sect1" id="id-1.3.6" data-id-title="Improving the documentation"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">3 </span><span class="title-name">Improving the documentation</span></span> <a title="Permalink" class="permalink" href="#id-1.3.6">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/common_intro_feedback.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  Your feedback and contributions to this documentation are welcome.
  The following channels for giving feedback are available:
 </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.3.6.4.1"><span class="term">Service requests and support</span></dt><dd><p>
     For services and support options available for your product, see
     <a class="link" href="https://www.suse.com/support/" target="_blank">https://www.suse.com/support/</a>.
    </p><p>
     To open a service request, you need a SUSE subscription registered at
     SUSE Customer Center.
     Go to <a class="link" href="https://scc.suse.com/support/requests" target="_blank">https://scc.suse.com/support/requests</a>, log
     in, and click <span class="guimenu">Create New</span>.
    </p></dd><dt id="id-1.3.6.4.2"><span class="term">Bug reports</span></dt><dd><p>
     Report issues with the documentation at <a class="link" href="https://bugzilla.suse.com/" target="_blank">https://bugzilla.suse.com/</a>.
    </p><p>
     To simplify this process, click the <span class="guimenu">Report
     an issue</span> icon next to a headline in the HTML
     version of this document. This preselects the right product and
     category in Bugzilla and adds a link to the current section.
     You can start typing your bug report right away.
    </p><p>
     A Bugzilla account is required.
    </p></dd><dt id="id-1.3.6.4.3"><span class="term">Contributions</span></dt><dd><p>
     To contribute to this documentation, click the <span class="guimenu">Edit source
     document</span> icon next to a headline in the HTML version of
     this document. This will take you to the source code on GitHub, where you
     can open a pull request.</p><p>
     A GitHub account is required.
    </p><div id="id-1.3.6.4.3.2.3" data-id-title="Edit source document only available for English" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: <span class="guimenu">Edit source document</span> only available for English</div><p>
      The <span class="guimenu">Edit source document</span> icons are only available for the
      English version of each document. For all other languages, use the
      <span class="guimenu">Report an issue</span> icons instead.
     </p></div><p>
     For more information about the documentation environment used for this
     documentation, see the repository's README.
    </p></dd><dt id="id-1.3.6.4.4"><span class="term">Mail</span></dt><dd><p>
     You can also report errors and send feedback concerning the
     documentation to &lt;<a class="email" href="mailto:doc-team@suse.com">doc-team@suse.com</a>&gt;. Include the
     document title, the product version, and the publication date of the
     document. Additionally, include the relevant section number and title (or
     provide the URL) and provide a concise description of the problem.
    </p></dd></dl></div></section><section xml:lang="en" class="sect1" id="id-1.3.7" data-id-title="Documentation conventions"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">4 </span><span class="title-name">Documentation conventions</span></span> <a title="Permalink" class="permalink" href="#id-1.3.7">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/common_intro_convention.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  The following notices and typographic conventions are used in this
  document:
 </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
    <code class="filename">/etc/passwd</code>: Directory names and file names
   </p></li><li class="listitem"><p>
    <em class="replaceable">PLACEHOLDER</em>: Replace
    <em class="replaceable">PLACEHOLDER</em> with the actual value
   </p></li><li class="listitem"><p>
    <code class="envar">PATH</code>: An environment variable
   </p></li><li class="listitem"><p>
    <code class="command">ls</code>, <code class="option">--help</code>: Commands, options, and
    parameters
   </p></li><li class="listitem"><p>
    <code class="systemitem">user</code>: The name of a user or group
   </p></li><li class="listitem"><p>
    <span class="package">package_name</span>: The name of a software package
   </p></li><li class="listitem"><p>
    <span class="keycap">Alt</span>, <span class="keycap">Alt</span><span class="key-connector">–</span><span class="keycap">F1</span>: A key to press or a key combination. Keys
    are shown in uppercase as on a keyboard.
   </p></li><li class="listitem"><p>
    <span class="guimenu">File</span>, <span class="guimenu">File</span> › <span class="guimenu">Save
    As</span>: menu items, buttons
   </p></li><li class="listitem"><p><strong class="arch-arrow-start">AMD/Intel</strong>
    This paragraph is only relevant for the AMD64/Intel 64 architectures. The
    arrows mark the beginning and the end of the text block.
   <strong class="arch-arrow-end"> </strong></p><p><strong class="arch-arrow-start">IBM Z, POWER</strong>
    This paragraph is only relevant for the architectures
    <code class="literal">IBM Z</code> and <code class="literal">POWER</code>. The arrows
    mark the beginning and the end of the text block.
   <strong class="arch-arrow-end"> </strong></p></li><li class="listitem"><p>
    <em class="citetitle">Chapter 1, <span class="quote">“<span class="quote">Example chapter</span>”</span></em>:
    A cross-reference to another chapter in this guide.
   </p></li><li class="listitem"><p>
    Commands that must be run with <code class="systemitem">root</code> privileges. You can also
    prefix these commands with the <code class="command">sudo</code> command to run them
    as a non-privileged user:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">command</code>
<code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">command</code></pre></div></li><li class="listitem"><p>
    Commands that can be run by non-privileged users:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">command</code></pre></div></li><li class="listitem"><p>
    Commands can be split into two or multiple lines by a backslash character
    (<code class="literal">\</code>) at the end of a line. The backslash informs the shell that
    the command invocation will continue after the line's end:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">echo</code> a b \
c d</pre></div></li><li class="listitem"><p>
     A code block that shows both the command (preceded by a prompt)
     and the respective output returned by the shell:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">command</code>
output</pre></div></li><li class="listitem"><p>
    Notices
   </p><div id="id-1.3.7.4.15.2" data-id-title="Warning notice" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.svg"/><div class="admon-title">Warning: Warning notice</div><p>
     Vital information you must be aware of before proceeding. Warns you about
     security issues, potential loss of data, damage to hardware, or physical
     hazards.
    </p></div><div id="id-1.3.7.4.15.3" data-id-title="Important notice" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Important notice</div><p>
     Important information you should be aware of before proceeding.
    </p></div><div id="id-1.3.7.4.15.4" data-id-title="Note notice" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Note notice</div><p>
     Additional information, for example about differences in software
     versions.
    </p></div><div id="id-1.3.7.4.15.5" data-id-title="Tip notice" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><div class="admon-title">Tip: Tip notice</div><p>
     Helpful information, like a guideline or a piece of practical advice.
    </p></div></li><li class="listitem"><p>
    Compact Notices
   </p><div id="id-1.3.7.4.16.2" class="admonition note compact"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><p>
     Additional information, for example about differences in software
     versions.
    </p></div><div id="id-1.3.7.4.16.3" class="admonition tip compact"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><p>
     Helpful information, like a guideline or a piece of practical advice.
    </p></div></li></ul></div></section><section xml:lang="en" class="sect1" id="id-1.3.8" data-id-title="Support"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5 </span><span class="title-name">Support</span></span> <a title="Permalink" class="permalink" href="#id-1.3.8">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/common_intro_support.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  Find the support statement for SUSE Linux Enterprise Server for SAP Applications and general information about
  technology previews below.
  For details about the product lifecycle, see
  <a class="link" href="https://www.suse.com/lifecycle" target="_blank">https://www.suse.com/lifecycle</a>.
 </p><p>
  If you are entitled to support, find details on how to collect information
  for a support ticket at
  <a class="link" href="https://documentation.suse.com/sles-15/html/SLES-all/cha-adm-support.html" target="_blank">https://documentation.suse.com/sles-15/html/SLES-all/cha-adm-support.html</a>.
 </p><section class="sect2" id="id-1.3.8.5" data-id-title="Support statement for SUSE Linux Enterprise Server for SAP Applications"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">5.1 </span><span class="title-name">Support statement for SUSE Linux Enterprise Server for SAP Applications</span></span> <a title="Permalink" class="permalink" href="#id-1.3.8.5">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/common_intro_support.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   To receive support, you need an appropriate subscription with SUSE.
   To view the specific support offers available to you, go to
   <a class="link" href="https://www.suse.com/support/" target="_blank">https://www.suse.com/support/</a> and select your product.
  </p><p>
   The support levels are defined as follows:
  </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.3.8.5.4.1"><span class="term">L1</span></dt><dd><p>
      Problem determination, which means technical support designed to provide
      compatibility information, usage support, ongoing maintenance,
      information gathering and basic troubleshooting using available
      documentation.
     </p></dd><dt id="id-1.3.8.5.4.2"><span class="term">L2</span></dt><dd><p>
      Problem isolation, which means technical support designed to analyze
      data, reproduce customer problems, isolate a problem area and provide a
      resolution for problems not resolved by Level 1 or prepare for
      Level 3.
     </p></dd><dt id="id-1.3.8.5.4.3"><span class="term">L3</span></dt><dd><p>
      Problem resolution, which means technical support designed to resolve
      problems by engaging engineering to resolve product defects which have
      been identified by Level 2 Support.
     </p></dd></dl></div><p>
   For contracted customers and partners, SUSE Linux Enterprise Server for SAP Applications is delivered with L3
   support for all packages, except for the following:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     Technology previews.
    </p></li><li class="listitem"><p>
     Sound, graphics, fonts, and artwork.
    </p></li><li class="listitem"><p>
     Packages that require an additional customer contract.
    </p></li><li class="listitem"><p>
     Some packages shipped as part of the module <span class="emphasis"><em>Workstation
     Extension</em></span> are L2-supported only.
    </p></li><li class="listitem"><p>
     Packages with names ending in <span class="package">-devel</span> (containing header
     files and similar developer resources) will only be supported together
     with their main packages.
    </p></li></ul></div><p>
   SUSE will only support the usage of original packages.
   That is, packages that are unchanged and not recompiled.
  </p></section><section class="sect2" id="id-1.3.8.6" data-id-title="Technology previews"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">5.2 </span><span class="title-name">Technology previews</span></span> <a title="Permalink" class="permalink" href="#id-1.3.8.6">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/common_intro_support.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Technology previews are packages, stacks, or features delivered by SUSE
   to provide glimpses into upcoming innovations.
   Technology previews are included for your convenience to give you a chance
   to test new technologies within your environment.
   We would appreciate your feedback.
   If you test a technology preview, please contact your SUSE representative
   and let them know about your experience and use cases.
   Your input is helpful for future development.
  </p><p>
   Technology previews have the following limitations:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     Technology previews are still in development.
     Therefore, they may be functionally incomplete, unstable, or otherwise
     <span class="emphasis"><em>not</em></span> suitable for production use.
    </p></li><li class="listitem"><p>
     Technology previews are <span class="emphasis"><em>not</em></span> supported.
    </p></li><li class="listitem"><p>
     Technology previews may only be available for specific hardware
     architectures.
    </p></li><li class="listitem"><p>
     Details and functionality of technology previews are subject to change.
     As a result, upgrading to subsequent releases of a technology preview may
     be impossible and require a fresh installation.
    </p></li><li class="listitem"><p>
     SUSE may discover that a preview does not meet customer or market needs,
     or does not comply with enterprise standards.
     Technology previews can be removed from a product at any time.
     SUSE does not commit to providing a supported version of such
     technologies in the future.
    </p></li></ul></div><p>
   For an overview of technology previews shipped with your product, see the
   release notes at <a class="link" href="https://www.suse.com/releasenotes" target="_blank">https://www.suse.com/releasenotes</a>.
  </p></section></section></section><section class="chapter" id="cha-about" data-id-title="What is SUSE Linux Enterprise Server for SAP Applications?"><div class="titlepage"><div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">1 </span><span class="title-name">What is SUSE Linux Enterprise Server for SAP Applications?</span></span> <a title="Permalink" class="permalink" href="#cha-about">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_about.xml" title="Edit source document"> </a></div></div></div><div><div class="abstract"><p>
   SUSE® Linux Enterprise Server for SAP Applications is a bundle of software and services that addresses the
   specific needs of SAP users. It is the only operating system that is
   optimized for all SAP software solutions.
  </p></div></div></div></div><p>
  Target use cases include:
 </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
    Unix to Linux migrations and replatforming
   </p></li><li class="listitem"><p>
    SAP appliances
   </p></li><li class="listitem"><p>
    SAP cloud deployments
   </p></li></ul></div><p>
  SUSE Linux Enterprise Server for SAP Applications consists of software components and service offerings which are
  described in the following sections. The figure
  <a class="xref" href="#fig-offering" title="Offerings of SUSE Linux Enterprise Server for SAP Applications">Offerings of SUSE Linux Enterprise Server for SAP Applications</a> shows an
  overview of which software components and services
  are also available with other products from SUSE (green)
  and which are exclusively available with SUSE Linux Enterprise Server for SAP Applications (blue).
 </p><div class="figure" id="fig-offering"><div class="figure-contents"><div class="mediaobject"><a href="images/s4s_overview.png"><img src="images/s4s_overview.png" width="85%" alt="Offerings of SUSE Linux Enterprise Server for SAP Applications" title="Offerings of SUSE Linux Enterprise Server for SAP Applications"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 1.1: </span><span class="title-name">Offerings of SUSE Linux Enterprise Server for SAP Applications </span></span><a title="Permalink" class="permalink" href="#fig-offering">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_about.xml" title="Edit source document"> </a></div></div></div><section class="sect1" id="sec-component" data-id-title="Software components"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">1.1 </span><span class="title-name">Software components</span></span> <a title="Permalink" class="permalink" href="#sec-component">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_components.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  As depicted in <a class="xref" href="#fig-offering" title="Offerings of SUSE Linux Enterprise Server for SAP Applications">Figure 1.1, “Offerings of SUSE Linux Enterprise Server for SAP Applications”</a>,
  SUSE Linux Enterprise Server for SAP Applications is based on SUSE Linux Enterprise Server but contains several additional
  software components such as SUSE Linux Enterprise High Availability, and the installation
  workflow. These software components are briefly explained in the
  following sections.
 </p><section class="sect2" id="sec-component-sles" data-id-title="SUSE Linux Enterprise Server"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">1.1.1 </span><span class="title-name">SUSE Linux Enterprise Server</span></span> <a title="Permalink" class="permalink" href="#sec-component-sles">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_components.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The current release is based on SUSE Linux Enterprise Server 15 SP2. SUSE Linux Enterprise Server
   is the most interoperable platform for mission-critical computing,
   both physical and virtual.
  </p></section><section class="sect2" id="sec-component-sleha" data-id-title="SUSE Linux Enterprise High Availability"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">1.1.2 </span><span class="title-name">SUSE Linux Enterprise High Availability</span></span> <a title="Permalink" class="permalink" href="#sec-component-sleha">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_components.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   This component consists of:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     Flexible, policy-driven clustering
    </p></li><li class="listitem"><p>
     Cluster-aware file system and volume management
    </p></li><li class="listitem"><p>
     Continuous data replication
    </p></li><li class="listitem"><p>
     Setup and installation
    </p></li><li class="listitem"><p>
     Management and administration tools
    </p></li><li class="listitem"><p>
     Resource agents, also for SAP
    </p></li><li class="listitem"><p>
     Virtualization-aware
    </p></li></ul></div><p>
   SUSE Linux Enterprise High Availability provides two resource agents specifically for working with
   SAP applications:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     <code class="systemitem">SAPInstance</code> which allows starting
     and stopping instances of SAP products.
    </p></li><li class="listitem"><p>
     <code class="systemitem">SAPDatabase</code> which allows starting
     and stopping all databases supported by SAP applications (SAP HANA,
     SAP MaxDB, SAP ASE, Oracle, Sybase, IBM DB2).
    </p></li></ul></div><p>
   For more information about SUSE Linux Enterprise High Availability, see the Administration Guide (<a class="link" href="https://documentation.suse.com/sle-ha-15" target="_blank">https://documentation.suse.com/sle-ha-15</a>)
   and the White Papers and Best Practice Guides in the
   SUSE Linux Enterprise Server for SAP Applications Resource Library (<a class="link" href="https://www.suse.com/products/sles-for-sap/resource-library/" target="_blank">https://www.suse.com/products/sles-for-sap/resource-library/</a>).
  </p></section><section class="sect2" id="sec-hana-replicate" data-id-title="Simplified SAP HANA system replication setup"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">1.1.3 </span><span class="title-name">Simplified SAP HANA system replication setup</span></span> <a title="Permalink" class="permalink" href="#sec-hana-replicate">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_components.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   SUSE Linux Enterprise Server for SAP Applications supports SAP HANA System Replication using components of SUSE Linux Enterprise High Availability
   and two additional resource agents (RA). Additionally, SUSE Linux Enterprise Server for SAP Applications ships with
   a YaST wizard that simplifies the cluster setup.
  </p><section class="sect3" id="sec-hana-ra" data-id-title="SAPHana Resource agent"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">1.1.3.1 </span><span class="title-name"><code class="systemitem">SAPHana</code> Resource agent</span></span> <a title="Permalink" class="permalink" href="#sec-hana-ra">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_components.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    This resource agent from SUSE supports scale-up scenarios by checking the
    SAP HANA database instances for whether a takeover needs to happen.
    Unlike with the pure SAP solution, takeovers can be automated.
   </p><p>
    It is configured as a parent/child resource: The parent assumes
    responsibility for the SAP HANA databases running in primary mode, whereas
    the child is responsible for instances that are operated in synchronous
    (secondary) status. In case of a takeover, the secondary (child resource
    instance) can automatically be promoted to become the new primary (parent
    resource instance).
   </p><p>
    This resource agent supports system replication for the following
    scale-up scenarios:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><span class="formalpara-title">Performance-optimized scenario. </span>
       Two servers (A and B) in the same SUSE Linux Enterprise High Availability cluster, one primary (A)
       and one secondary (B). The SAP HANA instance from the primary server (A) is
       replicated synchronously to the secondary server (B).
      </p></li><li class="listitem"><p><span class="formalpara-title">Cost-optimized scenario. </span>
       The basic setup of A and B is the same as in the
       <span class="emphasis"><em>Performance-Optimized Scenario</em></span>.
       However, the secondary server (B) is also used for non-productive
       purposes, such as for an additional SAP HANA database for development or
       QA. The production
       database is only kept on permanent memory, such as a hard disk.
       If a takeover needs to occur, the non-productive server will be stopped
       before the takeover is processed. The system resources for the
       productive database are then increased as quickly as possible via an
       SAP hook call-out script.
      </p></li><li class="listitem"><p><span class="formalpara-title">Chain/multi-tier scenario. </span>
       Three servers (A, B, and C), of which two are located in the
       same SUSE Linux Enterprise High Availability cluster (A and B). The third server (C) is located
       externally. The SAP HANA system on the primary server (A) is replicated
       synchronously to the secondary server (B). The secondary server (B) is
       replicated asynchronously to the external server (C).
      </p><p>
      If a takeover from A to B occurs, the connection between B and C remains
      untouched. However, B is not allowed to be the source for two servers
      (A and C), as this would be a <span class="quote">“<span class="quote">star</span>”</span> topology, which
      is not supported with current SAP HANA versions (such as SPS11).
     </p><p>
      Using SAP HANA commands, you can then manually decide what to do:
     </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
        The connection between B and C can be broken, so that B can
        connect to A.
       </p></li><li class="listitem"><p>
        If replication to the external site (C) is more important than
        local system replication, the connection between B and C can be kept.
       </p></li></ul></div></li></ul></div><p>
    For all of the scenarios, SUSE Linux Enterprise Server for SAP Applications supports both single-tenant and
    multi-tenant (MDC) SAP HANA databases. That is, you can use SAP HANA databases that
    serve multiple SAP applications.
   </p></section><section class="sect3" id="sec-topology-ra" data-id-title="SAPHanaTopology Resource agent"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">1.1.3.2 </span><span class="title-name"><code class="systemitem">SAPHanaTopology</code> Resource agent</span></span> <a title="Permalink" class="permalink" href="#sec-topology-ra">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_components.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    To make configuring the cluster as simple as possible, SUSE has
    developed the <code class="systemitem">SAPHanaTopology</code> resource agent.
    This agent runs on all
    nodes of a SUSE Linux Enterprise High Availability cluster and gathers information about the status and
    configurations of SAP HANA system replications. It is designed as a
    normal (stateless) clone.
   </p></section><section class="sect3" id="sec-hana-replicate-wizard" data-id-title="YaST wizard to set up SAP HANA clusters"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">1.1.3.3 </span><span class="title-name">YaST wizard to set up SAP HANA clusters</span></span> <a title="Permalink" class="permalink" href="#sec-hana-replicate-wizard">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_components.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    SUSE Linux Enterprise Server for SAP Applications now additionally ships a YaST wizard that manages the
    initial setup of such clusters according to best practices.
    The wizard is part of the package <span class="package">yast2-sap-ha</span> and can
    be started using YaST, via <span class="guimenu">HA Setup for SAP Products</span>.
   </p><p>
    For more information, see <a class="xref" href="#cha-cluster" title="Chapter 7. Setting up an SAP HANA cluster">Chapter 7, <em>Setting up an SAP HANA cluster</em></a>.
   </p></section><section class="sect3" id="sec-hana-replicate-more" data-id-title="For more information"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">1.1.3.4 </span><span class="title-name">For more information</span></span> <a title="Permalink" class="permalink" href="#sec-hana-replicate-more">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_components.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    For more information, see:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
      The Administration Guide at <a class="link" href="https://documentation.suse.com/sles-15" target="_blank">https://documentation.suse.com/sles-15</a>.
     </p></li><li class="listitem"><p>
      The <span class="emphasis"><em>Best Practices</em></span> in the Resource Library
      at <a class="link" href="https://www.suse.com/products/sles-for-sap/resource-library/" target="_blank">https://www.suse.com/products/sles-for-sap/resource-library/</a>.
      In particular, see <em class="citetitle">Setting up a SAP HANA SR performance
      optimized infrastructure</em> and <em class="citetitle">Setting up a SAP
      HANA SR cost optimized infrastructure</em>.
     </p></li></ul></div></section></section><section class="sect2" id="sec-component-install" data-id-title="Installation workflow"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">1.1.4 </span><span class="title-name">Installation workflow</span></span> <a title="Permalink" class="permalink" href="#sec-component-install">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_components.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The installation workflow offers a guided installation path for both the
   SUSE Linux Enterprise Server operating system and the SAP application.
   
   For more information, see <a class="xref" href="#sec-workflow-overview" title="2.5. Overview of the installation workflow">Section 2.5, “Overview of the installation workflow”</a>.
  </p><p>
   Additionally, the installation workflow can be extended by
   third-party vendors or customers using Supplementary Media. For more information about
   creating Supplementary Media, see <a class="xref" href="#app-component-supplement" title="Appendix C. Supplementary Media">Appendix C, <em>Supplementary Media</em></a>.
  </p></section><section class="sect2" id="sec-component-clamsap" data-id-title="Malware protection with ClamSAP"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">1.1.5 </span><span class="title-name">Malware protection with ClamSAP</span></span> <a title="Permalink" class="permalink" href="#sec-component-clamsap">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_components.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   ClamSAP integrates the ClamAV anti-malware toolkit into SAP NetWeaver and
   SAP Mobile Platform applications to enable cross-platform threat
   detection. For example, you can use ClamSAP to allow an SAP
   application to scan for malicious uploads in HTTP uploads.
  </p><p>
   For more information, see <a class="xref" href="#cha-clamsap" title="Chapter 12. Protecting against malware with ClamSAP">Chapter 12, <em>Protecting against malware with ClamSAP</em></a>.
  </p></section><section class="sect2" id="sec-component-hana-secure" data-id-title="SAP HANA security"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">1.1.6 </span><span class="title-name">SAP HANA security</span></span> <a title="Permalink" class="permalink" href="#sec-component-hana-secure">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_components.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   SUSE Linux Enterprise Server for SAP Applications contains additional features to help set up well-secured SAP HANA
   installations.
  </p><section class="sect3" id="sec-component-firewall-hana" data-id-title="Firewall for SAP HANA"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">1.1.6.1 </span><span class="title-name">Firewall for SAP HANA</span></span> <a title="Permalink" class="permalink" href="#sec-component-firewall-hana">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_components.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    Securing SAP HANA can require many additional firewall rules. To simplify
    firewall setups for SAP HANA, SUSE Linux Enterprise Server for SAP Applications
    contains the package <span class="package">HANA-Firewall</span> which
    provides preconfigured rules and integrates with <code class="systemitem">firewalld</code>.
   </p><p>
    For more information, see <a class="xref" href="#sec-configure-firewall-hana" title="11.2. Configuring HANA-Firewall">Section 11.2, “Configuring HANA-Firewall”</a>.
   </p></section><section class="sect3" id="sec-component-harden" data-id-title="Hardening guide for SAP HANA"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">1.1.6.2 </span><span class="title-name">Hardening guide for SAP HANA</span></span> <a title="Permalink" class="permalink" href="#sec-component-harden">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_components.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    For information on hardening the underlying operating system, see the
    SUSE Linux Enterprise Server for SAP Applications resource library: <a class="link" href="https://www.suse.com/products/sles-for-sap/resource-library/" target="_blank">https://www.suse.com/products/sles-for-sap/resource-library/</a>. There, find the document
    <em class="citetitle">OS Security Hardening for SAP HANA</em>.
   </p></section></section><section class="sect2" id="sec-component-manage-operation" data-id-title="Simplified operations management"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">1.1.7 </span><span class="title-name">Simplified operations management</span></span> <a title="Permalink" class="permalink" href="#sec-component-manage-operation">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_components.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    SUSE Linux Enterprise Server for SAP Applications combines several features that enable simplified operations
    management.
  </p><section class="sect3" id="sec-component-sapconf" data-id-title="System tuning with saptune"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">1.1.7.1 </span><span class="title-name">System tuning with <code class="command">saptune</code></span></span> <a title="Permalink" class="permalink" href="#sec-component-sapconf">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_components.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The system tuning application <code class="command">saptune</code> allows you to
    automatically and comprehensively tune your system as recommended by
    SAP for use with SAP S/4HANA, SAP NetWeaver, or SAP HANA/SAP BusinessOne. To do this,
    <code class="command">saptune</code> activates
    <code class="systemitem">tuned</code> profiles. These allow
    tuning several kernel parameters, depending on the hardware components
    you are using, such as the amount of available RAM.
   </p><p>
    For more information, see <a class="xref" href="#cha-tune" title="Chapter 9. Tuning systems with saptune">Chapter 9, <em>Tuning systems with <code class="command">saptune</code></em></a>.
   </p></section><section class="sect3" id="sec-component-pattern" data-id-title="Patterns providing dependencies of SAP applications"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">1.1.7.2 </span><span class="title-name">Patterns providing dependencies of SAP applications</span></span> <a title="Permalink" class="permalink" href="#sec-component-pattern">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_components.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    To simplify working with software dependencies of SAP applications, SUSE
    has created patterns that combine relevant dependency RPM packages for
    specific applications:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
      <span class="guimenu">SAP BusinessOne Server Base</span>
     </p></li><li class="listitem"><p>
      <span class="guimenu">SAP HANA Server Base</span>
     </p></li><li class="listitem"><p>
      <span class="guimenu">SAP NetWeaver Server Base</span>
     </p></li></ul></div><div id="id-1.4.7.9.4.4" data-id-title="Packages May Be Missing from Patterns" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: 
     Packages May Be Missing from Patterns
    </div><p>
     The selection of packages of the software patterns is defined while a
     specific release (Service Pack or major version) of SUSE Linux Enterprise Server for SAP Applications is
     developed. This package selection is stable over the lifetime of this
     particular release. When working with SAP applications that have been
     released more recently than your SUSE Linux Enterprise Server for SAP Applications version,
     dependencies can be missing from the patterns.
    </p><p>
     For definitive information about the dependencies of your SAP application,
     see the documentation provided to you by SAP.
    </p></div></section><section class="sect3" id="sec-component-clustertool" data-id-title="ClusterTools2"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">1.1.7.3 </span><span class="title-name"><code class="systemitem">ClusterTools2</code></span></span> <a title="Permalink" class="permalink" href="#sec-component-clustertool">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_components.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    <code class="systemitem">ClusterTools2</code> provides tools that help set up
    and manage a Corosync/<code class="systemitem">pacemaker</code> cluster. Among
    them are <code class="systemitem">wow</code> which helps create
    highly available system resources, and
    <code class="systemitem">ClusterService</code> which allows managing a cluster.
   </p><p>
    Additionally, <code class="systemitem">ClusterTools2</code> provides scripts that
    automate common cluster tasks:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
      Scripts that perform checks. For example, to find out whether a system is
      set up correctly for creating a <code class="systemitem">pacemaker</code>
      cluster.
     </p></li><li class="listitem"><p>
      Scripts that simplify configuration. For example, to create a Corosync
      configuration.
     </p></li><li class="listitem"><p>
      Scripts that monitor the system and scripts that show or collect
      system information. For example, to find known error patterns in
      log files.
     </p></li></ul></div><p>
    For more information, see the man page of the respective tool,
    included with the package <span class="package">ClusterTools2</span>.
   </p></section></section></section><section class="sect1" id="sec-repository" data-id-title="Software repository setup"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">1.2 </span><span class="title-name">Software repository setup</span></span> <a title="Permalink" class="permalink" href="#sec-repository">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_about.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Software included with operating systems based on SUSE Linux Enterprise is delivered as
   RPM packages, a form of installation package that can have dependencies on
   other packages. On a server or an installation medium, these packages are
   stored in software repositories (sometimes also called
   <span class="quote">“<span class="quote">channels</span>”</span>).
  </p><p>
   By default, computers running SUSE Linux Enterprise Server for SAP Applications are set up to receive
   packages from multiple repositories. Of each of the standard repositories,
   there is a <span class="quote">“<span class="quote">Pool</span>”</span> variant that represents the state of the
   software when it was first shipped. There is also an <span class="quote">“<span class="quote">Update</span>”</span>
   variant that includes the newest maintenance updates for the software
   in the <span class="quote">“<span class="quote">Pool</span>”</span> variant.
  </p><p>
   If you registered your system during installation, your repository
   setup should include the following:
  </p><div class="table" id="tab-repository" data-id-title="Standard repositories"><div class="title-container"><div class="table-title-wrap"><div class="table-title"><span class="title-number-name"><span class="title-number">Table 1.1: </span><span class="title-name">Standard repositories </span></span><a title="Permalink" class="permalink" href="#tab-repository">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_about.xml" title="Edit source document"> </a></div></div><div class="table-contents"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="type"/><col class="base"/><col class="update"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">
            <p>Content</p>
          </th><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">
            <p>Base repository (<span class="quote">“<span class="quote">Pool</span>”</span>)</p>
          </th><th style="border-bottom: 1px solid ; ">
            <p>Update repository</p>
          </th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
            <p>
              Base packages of SUSE Linux Enterprise Server
            </p>
          </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
            <p><code class="literal">SLE-Module-Basesystem15-SP2-Pool</code></p>
          </td><td style="border-bottom: 1px solid ; ">
            <p><code class="literal">SLE-Module-Basesystem15-SP2-Updates</code></p>
          </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
            <p>
              Basic server functionality of SUSE Linux Enterprise Server
            </p>
          </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
            <p><code class="literal">SLE-Module-Server-Applications15-SP2-Pool</code></p>
          </td><td style="border-bottom: 1px solid ; ">
            <p><code class="literal">SLE-Module-Server-Applications15-SP2-Updates</code></p>
          </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
            <p>
              Packages specific to SUSE Linux Enterprise Server for SAP Applications
            </p>
          </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
            <p>
              <code class="literal">SLE-Module-SAP-Applications15-SP2-Pool</code>
            </p>
          </td><td style="border-bottom: 1px solid ; ">
            <p><code class="literal">SLE-Module-SAP-Applications15-SP2-Updates</code></p>
          </td></tr><tr><td style="border-right: 1px solid ; ">
            <p>
              Packages specific to SUSE Linux Enterprise High Availability
            </p>
          </td><td style="border-right: 1px solid ; ">
            <p><code class="literal">SLE-Product-HA15-SP2-Pool</code></p>
          </td><td>
            <p><code class="literal">SLE-Product-HA15-SP2-Updates</code></p>
          </td></tr></tbody></table></div></div><p>
   The tables in this section do not show <span class="emphasis"><em>Debuginfo</em></span> and
   <span class="emphasis"><em>Source</em></span> repositories, which are also set up but
   disabled by default. The <span class="emphasis"><em>Debuginfo</em></span> repositories
   contain packages that can be used for debugging regular packages. The
   <span class="emphasis"><em>Source</em></span> repositories contain source code for packages.
  </p><p>
   Depending on your installation method, you may also see
   <code class="literal">SLE-15-SP2-SAP-15.2-0</code>
   which is the installation medium.
   It contains packages from all of the base software repositories listed
   above.
  </p><p>
   Because there are own repositories for SUSE Linux Enterprise Server for SAP Applications, SUSE can ship
   packages and patches that are specific to SUSE Linux Enterprise Server for SAP Applications.
  </p><div id="id-1.4.8.10" data-id-title="ESPOS updates shipped directly in update repositories" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: ESPOS updates shipped directly in update repositories</div><p>
    Unlike in SUSE Linux Enterprise Server for SAP Applications 11, updates related to Extended Service Pack
    Overlay Support (ESPOS) are shipped directly from the
    <code class="literal">Update</code> repositories. This means there is no separate
    ESPOS repository to set up.
   </p></div><p>
   In addition to the standard repositories, you can enable
   SLE Modules and SLE Extensions either during the installation or from
   the running system using YaST or the command
   <code class="command">SUSEConnect</code>.
  </p><p>
   For information about all modules and extensions available for the SUSE Linux Enterprise
   product line, see
   <a class="link" href="https://documentation.suse.com/sles/15-SP2/html/SLES-all/art-modules.html" target="_blank">https://documentation.suse.com/sles/15-SP2/html/SLES-all/art-modules.html</a>.
  </p><p>
   For more information about SUSE Package Hub, see <a class="xref" href="#sec-packagehub" title="A.3. SUSE Package Hub">Section A.3, “SUSE Package Hub”</a>.
   For information about life cycle and support of modules and extensions, see
   <a class="xref" href="#sec-s4s-service" title="1.3. Included Services">Section 1.3, “Included Services”</a>.
  </p></section><section class="sect1" id="sec-s4s-service" data-id-title="Included Services"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">1.3 </span><span class="title-name">Included Services</span></span> <a title="Permalink" class="permalink" href="#sec-s4s-service">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_about.xml" title="Edit source document"> </a></div></div></div></div></div><div class="variablelist"><dl class="variablelist"><dt id="id-1.4.9.2.1"><span class="term"><span class="emphasis"><em>Extended Service Pack Overlap Support (ESPOS)</em></span>
    </span></dt><dd><p>
      Subscriptions for SUSE Linux Enterprise Server for SAP Applications include Extended Service Pack Overlap Support
      (ESPOS). It extends the overlap between the support periods of two
      consecutive service packs by three years. During this period, you receive
      support and all relevant maintenance updates under the terms of Long Term
      Service Pack Support (LTSS).
     </p><p>
        Extended Service Pack Overlap Support allows you to perform service pack
        migrations within three and a half years instead of only six months.
        This enables you to schedule migrations more easily and perform testing
        before a migration under less restrictive time constraints. At an
        additional cost, SUSE also offers LTSS. With LTSS, you receive support
        for a particular service pack after the ESPOS period ends. SUSE Linux Enterprise Server for SAP Applications
        includes one and a half years of general support and three years of
        ESPOS for each service pack.
     </p><p>
        The last service pack in each SLE family does not have ESPOS. Instead
        of ESPOS, it includes a longer general support period. Because of that,
        LTSS is available only for the last service pack. All other service
        packs already include three years of ESPOS, which equals LTSS.
     </p><p>
      For more information, refer to the following resources:
     </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
        Product Lifecycle Support Policies: <a class="link" href="https://www.suse.com/support/policy-products/#sap" target="_blank">https://www.suse.com/support/policy-products/#sap</a>
       </p></li><li class="listitem"><p>
        Product Support Lifecycle Lifecycle Dates by Product: <a class="link" href="https://www.suse.com/lifecycle/" target="_blank">https://www.suse.com/lifecycle/</a>
       </p></li><li class="listitem"><p>
        Long Term Service Pack Support: <a class="link" href="https://www.suse.com/products/long-term-service-pack-support/" target="_blank">https://www.suse.com/products/long-term-service-pack-support/</a>
       </p></li></ul></div></dd><dt id="id-1.4.9.2.2"><span class="term"><span class="emphasis"><em>SUSE Linux Enterprise Server Priority Support for SAP Applications</em></span>
    </span></dt><dd><p>
      Subscriptions for SUSE Linux Enterprise Server for SAP Applications include SUSE Linux Enterprise Server
      Priority Support for SAP Applications. It offers technical support for
      SUSE Linux Enterprise Server for SAP Applications directly from SAP. The joint support infrastructure is
      provided by support engineers from SUSE Technical Support and SAP. It is
      based upon SAP Resolve and offers seamless communication
      with both SAP and SUSE. This <span class="quote">“<span class="quote">One Face to the Customer</span>”</span>
      support model reduces complexity and lowers the total cost of ownership.
     </p><p>
      For more information, see <em class="citetitle">SAP Note 1056161: SUSE
       Priority Support for SAP Applications</em> (<a class="link" href="https://launchpad.support.sap.com/#/notes/1056161" target="_blank">https://launchpad.support.sap.com/#/notes/1056161</a>).
     </p></dd></dl></div><div id="id-1.4.9.3" data-id-title="Life Cycle and Support for Modules and Extensions" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Life Cycle and Support for Modules and Extensions</div><p>
    Modules and extensions have a different life cycle than SLES for SAP and SUSE
    provides different support offerings for them:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
      Modules:
     </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><span class="formalpara-title">Life Cycle. </span>
         Varies depending on the module.
        </p></li><li class="listitem"><p><span class="formalpara-title">Support. </span>
         Only up-to-date packages are supported. Support is included with
         your subscription for SUSE Linux Enterprise Server for SAP Applications. You do not need an additional
         registration key.
        </p></li></ul></div></li><li class="listitem"><p>
      Extensions
     </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><span class="formalpara-title">Life Cycle. </span>
         Releases are usually coordinated with SUSE Linux Enterprise Server for SAP Applications.
        </p></li><li class="listitem"><p><span class="formalpara-title">Support. </span>
         Support is available but not included with your subscription for
         SUSE Linux Enterprise Server for SAP Applications. You need an additional
         registration key.
        </p></li></ul></div></li><li class="listitem"><p>
      Unsupported Extensions (SUSE Package Hub and SUSE Software Development Kit)
     </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><span class="formalpara-title">Life Cycle. </span>
         Releases are usually coordinated with SUSE Linux Enterprise Server for SAP Applications.
        </p></li><li class="listitem"><p><span class="formalpara-title">Support. </span>
         There is no support beyond fixes for security and packaging issues.
         You do not need an additional registration key.
        </p></li></ul></div></li></ul></div></div></section></section><section class="chapter" id="cha-plan" data-id-title="Planning the installation"><div class="titlepage"><div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">2 </span><span class="title-name">Planning the installation</span></span> <a title="Permalink" class="permalink" href="#cha-plan">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_planning.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  Read this chapter carefully, as it helps you plan the installation: It lists
  requirements and helps you collect data about your system.
 </p><section class="sect1" id="sec-hardware" data-id-title="Hardware requirements"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2.1 </span><span class="title-name">Hardware requirements</span></span> <a title="Permalink" class="permalink" href="#sec-hardware">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_planning.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   This section lists minimum hardware requirements for the installation of
   SUSE Linux Enterprise Server for SAP Applications and gives basic guidance on the expected hardware requirements of
   certain SAP software. For the most up-to-date information about the
   hardware requirements of SAP software, see the official sizing
   guidelines at <a class="link" href="https://service.sap.com/sizing" target="_blank">https://service.sap.com/sizing</a>.
  </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.5.3.3.1"><span class="term">Supported CPU</span></dt><dd><p>
      Intel 64
     </p><p>
      IBM POWER 8 (with PowerVM)
     </p><p>
      IBM POWER 9 (with PowerVM)
     </p></dd><dt id="id-1.5.3.3.2"><span class="term">Hard disk</span></dt><dd><p>
      SUSE Linux Enterprise Server for SAP Applications requires at least 41 GB (without swap) of hard disk space for the
      system volume.
      In addition to that, reserve an appropriate amount of hard disk space
      for the swap partition.
     </p><p>
      To install an SAP application such as SAP NetWeaver, you need at least 200 GB of
      free disk space in addition to the required space for the operating
      system for the application's <code class="filename">/data</code> partition.
     </p><p>
      To install SAP HANA, you need either:
     </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
        An SAP BusinessOne-certified machine
       </p></li><li class="listitem"><p>
        A compatible machine that meets the requirements for SAP HANA TDI
        (Tailored Datacenter Integration). That is, you need the following
        amounts of free disk space in addition to the required space for the
        operating system:
       </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
          52 GB of free disk space for the partition
          <code class="filename">/usr/sap</code>
         </p></li><li class="listitem"><p>
          Space for three partitions for SAP HANA data:
          <code class="filename">/hana/data</code> (same size as RAM),
          <code class="filename">/hana/log</code> (same size as RAM up to a maximum of
          512 GB), and <code class="filename">/hana/shared</code> (same size as RAM up
          to a maximum of 1 TB).
         </p></li></ul></div></li></ul></div><p>
      For more information about SAP HANA refer to <a class="link" href="https://help.sap.com/docs/SAP_HANA_PLATFORM" target="_blank">https://help.sap.com/docs/SAP_HANA_PLATFORM</a> (the section <span class="guimenu">Implement</span> › <span class="guimenu">SAP HANA Master Guide</span> › <span class="guimenu">SAP HANA Deployment Options </span> › <span class="guimenu">On-Premise Deployments</span>).
     </p></dd><dt id="id-1.5.3.3.3"><span class="term">RAM</span></dt><dd><p>
      The SUSE Linux Enterprise Server operating system itself requires a minimum of 1024 MB of total
      RAM or a minimum of 512 MB of RAM per CPU core (choose whichever is
      higher).
     </p><p>
      Any SAP software you install will require additional RAM.
     </p><p>
      To install SAP HANA, your machine needs a minimum of 24 GB of RAM.
     </p></dd></dl></div><p>
   For more information about configuring hardware for SAP HANA, see
   <em class="citetitle">SAP Note 1944415: Hardware Configuration Guide and Software
   Installation Guide for SUSE Linux Enterprise Server with SAP HANA and
   SAP Business One</em>
   (<a class="link" href="https://launchpad.support.sap.com/#/notes/1944415" target="_blank">https://launchpad.support.sap.com/#/notes/1944415</a>).
  </p><p>
   For more information about partitioning, see
   <a class="xref" href="#sec-partition" title="2.7. Partitioning">Section 2.7, “Partitioning”</a>.
  </p></section><section class="sect1" id="sec-download" data-id-title="Installation image"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2.2 </span><span class="title-name">Installation image</span></span> <a title="Permalink" class="permalink" href="#sec-download">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_planning.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Unlike previous SLE products, the entire SLE 15 SP2
   product line can be installed from a single installation medium:
   <code class="literal">SLE 15 SP2 Online media 1</code>. If you want to
   install without network access or registration, download the
   <code class="literal">SLE 15 SP2 Full media 1</code> image. Both ISO images
   are available from <a class="link" href="https://download.suse.com/" target="_blank">https://download.suse.com/</a>.
  </p><p>
   Burn the image onto a physical DVD or copy it to a removable flash disk.
   Make sure the size of the disk is sufficient for the desired image.
   Alternatively, use a virtual DVD-ROM device for installation
   in a virtual machine.
  </p><div id="id-1.5.4.4" data-id-title="Copying the Installation Media Image to a Removable Flash Disk" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><div class="admon-title">Tip: 
    Copying the Installation Media Image to a Removable Flash Disk
   </div><p>
    Use the following command to copy the contents of the installation image
    to a removable flash disk.
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> dd if=<em class="replaceable">IMAGE</em> of=<em class="replaceable">FLASH_DISK</em> bs=4M &amp;&amp; sync</pre></div><p>
    Replace <em class="replaceable">IMAGE</em> with the path to the
    installation media image file and <em class="replaceable">FLASH_DISK</em>
    with the flash device.
   </p></div></section><section class="sect1" id="sec-migration" data-id-title="Offline migration"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2.3 </span><span class="title-name">Offline migration</span></span> <a title="Permalink" class="permalink" href="#sec-migration">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_planning.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The migration paths for SUSE Linux Enterprise Server for SAP Applications are identical to those for SUSE Linux Enterprise Server with
   <span class="productname">Enhanced Service Pack Overlay Support</span> (ESPOS).
   Find detailed information in the <em class="citetitle">SUSE Linux Enterprise Server</em>
   Upgrade Guide at
   <a class="link" href="https://documentation.suse.com/sles/html/SLES-all/cha-upgrade-paths.html" target="_blank">https://documentation.suse.com/sles/html/SLES-all/cha-upgrade-paths.html</a>.
  </p></section><section class="sect1" id="sec-how-install" data-id-title="Installation methods"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2.4 </span><span class="title-name">Installation methods</span></span> <a title="Permalink" class="permalink" href="#sec-how-install">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_planning.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   There are multiple ways of installing SUSE Linux Enterprise Server for SAP Applications:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     <a class="xref" href="#sec-install-workflow" title="3.1. Using the installation workflow">Using the installation workflow</a>
     (standard way of installation)
    </p></li><li class="listitem"><p>
     <a class="xref" href="#sec-autoyast" title="3.3. Using an external AutoYaST profile">Using an external AutoYaST profile</a>
    </p></li></ul></div></section><section class="sect1" id="sec-workflow-overview" data-id-title="Overview of the installation workflow"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2.5 </span><span class="title-name">Overview of the installation workflow</span></span> <a title="Permalink" class="permalink" href="#sec-workflow-overview">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_planning.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The installation workflow of SUSE Linux Enterprise Server for SAP Applications consists of the following steps:
  </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
     Installation of the operating system (SUSE Linux Enterprise Server). See
     <a class="xref" href="#sec-install-workflow" title="3.1. Using the installation workflow">Section 3.1, “Using the installation workflow”</a>.
    </p></li><li class="listitem"><p>
     SAP Installation Wizard, part 1: Copying all required SAP media to the
     local disk or selecting a shared storage medium to use.
     See <a class="xref" href="#sec-install-sap-product" title="4.3. Using the SAP Installation Wizard">Section 4.3, “Using the SAP Installation Wizard”</a>, in particular
     <a class="xref" href="#st-copy-master" title="Step 1">Step 1</a>.
    </p></li><li class="listitem"><p>
     SAP Installation Wizard, part 2: Collecting all parameters for the
     actual installation by querying the user interactively.
     See <a class="xref" href="#sec-install-sap-product" title="4.3. Using the SAP Installation Wizard">Section 4.3, “Using the SAP Installation Wizard”</a>, in particular
     <a class="xref" href="#st-collect-parameter" title="Step 10">Step 10</a>.
    </p></li><li class="listitem"><p>
     SAP Installation Wizard, part 3: Running the SAP Installer.
     See <a class="xref" href="#sec-install-sap-product" title="4.3. Using the SAP Installation Wizard">Section 4.3, “Using the SAP Installation Wizard”</a>, in particular
     <a class="xref" href="#st-sapinst" title="Step 13">Step 13</a>.
    </p></li></ol></div><p>
   Most of these steps do not need to be run immediately after each other, which
   allows for flexibility in how you install systems.
   This means that you can prepare a single installation
   as a first step and then continue from there. For example:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     Install the operating system (SUSE Linux Enterprise Server) only.
    </p><p>
     <span class="emphasis"><em>or</em></span>
    </p></li><li class="listitem"><p>
     Install the operating system (SUSE Linux Enterprise Server), copy SAP media, and collect
     SAP installation parameters.
    </p></li></ul></div><p>
   Then, create disk images, copy them to other systems, and adjust SAP
   installation parameters. Finally, finish the installation on each machine
   individually.
  </p></section><section class="sect1" id="sec-data" data-id-title="Required data for installing"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2.6 </span><span class="title-name">Required data for installing</span></span> <a title="Permalink" class="permalink" href="#sec-data">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_planning.xml" title="Edit source document"> </a></div></div></div></div></div><div class="variablelist"><dl class="variablelist"><dt id="id-1.5.8.2.1"><span class="term">Operating system</span></dt><dd><p>
      The SUSE Linux Enterprise Server installation requires the following data for every
      physical server:
     </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
        Network configuration parameters, such as host name, domain, IP address,
        subnet mask, domain search list (DNS), IP for name server, IP for gateway
       </p></li><li class="listitem"><p>
        Administrator (<code class="systemitem">root</code>) password for the SUSE Linux Enterprise Server
        installation
       </p></li></ul></div></dd><dt id="id-1.5.8.2.2"><span class="term">SAP application</span></dt><dd><p>
      The installation of an SAP application generally requires specifying:
     </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
        SAP SID
       </p></li><li class="listitem"><p>
        SAP Instance Number
       </p></li><li class="listitem"><p>
        A password for the SAP application
       </p></li></ul></div><p>
      Depending on the SAP application you are installing, more parameters may be
      necessary, such as T-Shirt Sizing or parameters for virtual networking.
     </p></dd><dt id="id-1.5.8.2.3"><span class="term">SAP HANA database</span></dt><dd><p>
      The installation of SAP HANA requires specifying:
     </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
        SAP SID
       </p></li><li class="listitem"><p>
        SAP Instance Number
       </p></li><li class="listitem"><p>
        Whether to enable Multitenant Database Containers (MDC).
        The multi-tenant support of SAP HANA allows having multiple
        databases that run as one SAP HANA installation.
        (To use SAP HANA MDC, you need SAP HANA Life Cycle Manager.)
       </p><p>
        For a single-tenant installation, choose <span class="guimenu">No</span>.
       </p><p>
        For a multi-tenant instance administrated by one
        <code class="systemitem"><em class="replaceable">SID</em>adm</code>
        user, choose <span class="guimenu">Yes with low isolation</span>.
       </p><p>
        For a multi-tenant instance administrated in which each database
        has its own
        <code class="systemitem"><em class="replaceable">SID</em>adm</code>
        user, choose <span class="guimenu">Yes with high isolation</span>.
       </p></li><li class="listitem"><p>
        A password for the SAP HANA database
       </p></li></ul></div></dd></dl></div><p>
   For more information about installing SAP software, see the SAP
   documentation at <a class="link" href="https://help.sap.com" target="_blank">https://help.sap.com</a> and
   <a class="link" href="https://support.sap.com" target="_blank">https://support.sap.com</a>.
  </p></section><section class="sect1" id="sec-partition" data-id-title="Partitioning"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">2.7 </span><span class="title-name">Partitioning</span></span> <a title="Permalink" class="permalink" href="#sec-partition">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_partitioning.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  SUSE Linux Enterprise Server for SAP Applications creates the partitioning table in two stages:
 </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
    <a class="xref" href="#sec-partition-os" title="2.7.1. Partitioning for the operating system (stage 1)">Partitioning for the operating system (stage 1)</a> (during
    the installation of the operating system)
   </p></li><li class="listitem"><p>
    <a class="xref" href="#sec-partition-sap" title="2.7.2. Partitioning for the SAP system (stage 2)">Partitioning for the SAP system (stage 2)</a> (during
    the installation of the SAP product)
   </p></li></ol></div><section class="sect2" id="sec-partition-os" data-id-title="Partitioning for the operating system (stage 1)"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.7.1 </span><span class="title-name">Partitioning for the operating system (stage 1)</span></span> <a title="Permalink" class="permalink" href="#sec-partition-os">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_partitioning.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   During the installation of the operating system, partitions for the
   operating system are created.
  </p><p>
   A logical volume group (LVG) named <code class="literal">/dev/system</code> will be
   created. This LVG contains two logical volumes (LVs):
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     <code class="filename">/dev/system/root</code>: by default 60 GB to account for
     the operating system and SAP media
    </p></li><li class="listitem"><p>
     <code class="filename">/dev/system/swap</code>: by default 2 GB, avoid setting a
     smaller size.  See also <em class="citetitle">SAP Note 2578899: SUSE Linux Enterprise
     Server 15: Installation notes</em>
     (<a class="link" href="https://launchpad.support.sap.com/#/notes/2578899" target="_blank">https://launchpad.support.sap.com/#/notes/2578899</a>).
    </p></li></ul></div><p>
   Additionally, a <code class="filename">boot</code> or UEFI partition will be created
   as necessary.
  </p></section><section class="sect2" id="sec-partition-sap" data-id-title="Partitioning for the SAP system (stage 2)"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">2.7.2 </span><span class="title-name">Partitioning for the SAP system (stage 2)</span></span> <a title="Permalink" class="permalink" href="#sec-partition-sap">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_partitioning.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The partitioning for the SAP system can be created by:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     The SAP Installation Wizard (see <a class="xref" href="#sec-install-sap-product" title="4.3. Using the SAP Installation Wizard">Section 4.3, “Using the SAP Installation Wizard”</a>).
    </p></li><li class="listitem"><p>
     Using YaST on the command line
     (see <a class="xref" href="#sec-partition-command" title="4.5. Partitioning for an SAP application without the SAP Installation Wizard">Section 4.5, “Partitioning for an SAP application without the SAP Installation Wizard”</a>).
    </p></li></ul></div><p>
   This part of the partitioning can only be created after the operating
   system has been installed. That means the partitions are created either in
   the installation workflow after the reboot or in the running system.
  </p><p>
   Depending on the product you are installing and your particular use case,
   the amount of hard disk space necessary can vary.
  </p><p>
   For information on partitioning for the SAP system using AutoYaST, see
   <a class="xref" href="#app-autoyast-partition" title="Appendix B. Partitioning for the SAP system using AutoYaST">Appendix B, <em>Partitioning for the SAP system using AutoYaST</em></a>.
  </p></section></section></section><section class="chapter" id="cha-install" data-id-title="Installing the operating system"><div class="titlepage"><div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">3 </span><span class="title-name">Installing the operating system</span></span> <a title="Permalink" class="permalink" href="#cha-install">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_installation.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  The following section provides instructions for installing the base operating
  system. Using the installation workflow, you can install either using a local
  installation medium or over the network. Alternatively, you can install using
  AutoYaST.
 </p><section class="sect1" id="sec-install-workflow" data-id-title="Using the installation workflow"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">3.1 </span><span class="title-name">Using the installation workflow</span></span> <a title="Permalink" class="permalink" href="#sec-install-workflow">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_installation.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The installation workflow is a guided installation of the operating system
   with optimized settings for SAP applications. During the installation
   workflow, you can choose whether you want to install an SAP application. If
   so, you will be asked to provide SAP installation media when the SUSE Linux Enterprise Server
   installation is finished. You can also choose whether to install third-party
   extensions.
  </p><p>
   This section assumes that you are starting the installation from a local
   medium.
   <span class="phrase">
   To learn how to start the installation from a remote medium, see
   <a class="xref" href="#sec-install-network" title="3.2. Using SLES for SAP media from the network">Section 3.2, “Using SLES for SAP media from the network”</a>.
   </span>
  </p><p>
   For more information, see <a class="xref" href="#sec-workflow-overview" title="2.5. Overview of the installation workflow">Section 2.5, “Overview of the installation workflow”</a>.
  </p><p>
   This section guides you through the installation of the SUSE Linux Enterprise Server for SAP Applications
   operating system.
  </p><div id="id-1.6.3.6" data-id-title="Installing oracle databases" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Installing oracle databases</div><p>
    To be able to install an Oracle database later, install
    SUSE Linux Enterprise Server first and then convert your installation to SUSE Linux Enterprise Server for SAP Applications.
   </p><p>
    This is necessary because the installer for Oracle databases queries
    for the existence of certain files, not all of which are included in
    an SLES for SAP installation.
   </p><p>
    For more information about converting, see
    <a class="xref" href="#sec-convert-sles" title="3.4. Converting an SLES installation to an SLES for SAP installation">Section 3.4, “Converting an SLES installation to an SLES for SAP installation”</a>.
   </p></div><div class="procedure" id="pro-workflow-start" data-id-title="Starting the OS installation"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 3.1: </span><span class="title-name">Starting the OS installation </span></span><a title="Permalink" class="permalink" href="#pro-workflow-start">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_installation.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
       On AMD64/Intel 64, boot from the installation media.
       From the boot menu, select <span class="guimenu">Installation</span>.
       
       
      </p></li><li class="listitem"><p>
       On POWER, follow the instructions in the SUSE Linux Enterprise Server documentation, see
       <em class="citetitle">Deployment Guide,
       Part <span class="quote">“<span class="quote">Installation Preparation</span>”</span>,
       Chapter <span class="quote">“<span class="quote">Installation on IBM POWER</span>”</span></em>
       (<a class="link" href="https://documentation.suse.com/sles-15" target="_blank">https://documentation.suse.com/sles-15</a>).
      </p></li></ul></div><div class="figure" id="fig-install-media-bootmenu"><div class="figure-contents"><div class="mediaobject"><a href="images/s4s-install-media-boot-menu.png"><img src="images/s4s-install-media-boot-menu.png" width="73%" alt="Installation media boot menu" title="Installation media boot menu"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 3.1: </span><span class="title-name">Installation media boot menu </span></span><a title="Permalink" class="permalink" href="#fig-install-media-bootmenu">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_installation.xml" title="Edit source document"> </a></div></div></div><p>
     While the initial operating system is starting, you can view boot messages
     by pressing <span class="keycap">Esc</span>.
     When this process has completed, the graphical installation workflow
     will start. As the first step, the installation workflow will check for
     updates for itself. After that, it will be ready to start the
     installation.
    </p></li><li class="step"><p>
     Select the default system language under <span class="guimenu">Language</span>.
    </p><div class="figure" id="fig-install-license"><div class="figure-contents"><div class="mediaobject"><a href="images/s4s-install-product.png"><img src="images/s4s-install-product.png" width="73%" alt="Language, keyboard and product selection" title="Language, keyboard and product selection"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 3.2: </span><span class="title-name">Language, keyboard and product selection </span></span><a title="Permalink" class="permalink" href="#fig-install-license">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_installation.xml" title="Edit source document"> </a></div></div></div></li><li class="step"><p>
     Select the appropriate keyboard layout under
     <span class="guimenu">Keyboard Layout</span>.
     To test whether the selected layout matches your physical keyboard,
     use the text box <span class="guimenu">Keyboard Test</span>.
    </p></li><li class="step"><p>
     SLE 15 SP2 provides a single installation ISO for the entire
     product line. Therefore, you need to select the product to install
     on this page.
    </p><p>
     Under <span class="guimenu">Product to install</span>, choose
     <span class="guimenu">SUSE Linux Enterprise Server for SAP Applications 15 SP2</span>.
    </p></li><li class="step"><p>
     Read the license agreement. If you agree, select
     <span class="guimenu">I Agree to the License Terms</span>.
     Proceed with <span class="guimenu">Next</span>.
    </p><p>
     Otherwise, cancel the installation with
     <span class="guimenu">Abort</span> › <span class="guimenu">Abort Installation</span>.
    </p></li><li class="step"><p><span class="step-optional">(Optional)</span> 
     If automatic network configuration via DHCP fails, the screen
     <span class="guimenu">Network Settings</span> will open.
    </p><p>
     If instead the screen <span class="guimenu">Registration</span> appears,
     your network connection works. To change network settings anyway, click
     <span class="guimenu">Network Configuration</span>.
    </p><p>
     When you are finished configuring networking, proceed with
     <span class="guimenu">Next</span>.
    </p><div id="id-1.6.3.7.7.4" data-id-title="Configure networking as recommended by SAP" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Configure networking as recommended by SAP</div><p>
      Make sure to configure the network connection as recommended in the
      documentation provided to you by SAP.
     </p></div><p>
     For information about configuring networking, see
     <em class="citetitle">
      Administration Guide, Chapter <span class="quote">“<span class="quote">Basic Networking</span>”</span>,
      Section <span class="quote">“<span class="quote">Configuring a Network Connection with YaST</span>”</span>
     </em> (<a class="link" href="https://documentation.suse.com/sles-15" target="_blank">https://documentation.suse.com/sles-15</a>).
    </p></li><li class="step"><p>
     On the screen <span class="guimenu">Registration</span>, enter your
     <span class="guimenu">E-mail Address</span> and <span class="guimenu">Registration Code</span>.
     Successful registration is a prerequisite for receiving product updates and
     the entitlement to technical support.
    </p><p>
     Proceed with <span class="guimenu">Next</span>.
    </p><div id="id-1.6.3.7.8.3" data-id-title="Register at this step" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Register at this step</div><p>
      Make sure to register your system at this step in the installation.
      Otherwise, you can only install a minimal SLE system and will not
      receive updates.
     </p><p>
      To install a full (but not updated) SLES for SAP system without network
      access during the installation, use the SLE 15 SP2 Packages
      ISO image from <a class="link" href="https://download.suse.com" target="_blank">https://download.suse.com</a>. You can
      then choose <span class="guimenu">Skip registration</span> on this page and
      select the SLE 15 SP2 Packages ISO image as an add-on
      product on the next page.
     </p></div><div class="figure" id="fig-install-reg-dialog"><div class="figure-contents"><div class="mediaobject"><a href="images/s4s-install-registration.png"><img src="images/s4s-install-registration.png" width="73%" alt="Registration" title="Registration"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 3.3: </span><span class="title-name">Registration </span></span><a title="Permalink" class="permalink" href="#fig-install-reg-dialog">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_installation.xml" title="Edit source document"> </a></div></div></div></li><li class="step"><p>
     When asked whether to enable update repositories, choose
     <span class="guimenu">Yes</span>.
    </p></li><li class="step"><p>
     After the system is successfully registered, YaST lists available
     modules for SUSE Linux Enterprise Server for SAP Applications from the SUSE Customer Center. The default selection
     covers the most common cases. To enable an additional module,
     activate its entry.
    </p><div id="id-1.6.3.7.10.2" data-id-title="Release notes" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Release notes</div><p>
      From this point on, the Release Notes can be viewed from any screen during
      the installation process by selecting <span class="guimenu">Release Notes</span>.
     </p></div><p>
     Proceed with <span class="guimenu">Next</span>.
    </p></li><li class="step"><p><span class="step-optional">(Optional)</span> The <span class="guimenu">Add On Product</span> dialog allows you
     to add additional software sources (so-called
     <span class="quote">“<span class="quote">repositories</span>”</span>) to SUSE Linux Enterprise Server for SAP Applications, that are not provided
     by the SUSE Customer Center. Such add-on products may include third-party products,
     drivers, or additional software for your system.
    </p></li><li class="step"><p>
     Choose the <span class="guimenu">System Role</span>. System roles are predefined
     use cases which tailor the system for the selected scenario. For
     SUSE Linux Enterprise Server for SAP Applications, you can choose between:
    </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
       <span class="guimenu">SLES for SAP Applications</span>:
       Default, recommended for most situations.
       This system role contains the following properties:
      </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
         Supports the installation wizard for SUSE Linux Enterprise Server for SAP Applications.
        </p></li><li class="listitem"><p>
         Enables RDP access (<span class="emphasis"><em>Remote Desktop Protocol</em></span>).
        </p></li><li class="listitem"><p>
         Provides special partitioning recommendations.
        </p></li></ul></div></li><li class="listitem"><p>
       <span class="guimenu">SLES with GNOME</span>: Can be necessary in specific
       cases. This installation path is not covered in this document.
       For more information about this installation path, see
       <em class="citetitle">
        Installation Quick Start, Section <span class="quote">“<span class="quote">Installing SUSE Linux Enterprise Server</span>”</span>
       </em> (<a class="link" href="https://documentation.suse.com/sles-15" target="_blank">https://documentation.suse.com/sles-15</a>).
      </p></li></ul></div><p>
     Additional system roles are available for specific use cases (High Availability,
     text mode, minimal, and KVM/XEN virtualization hosts).
    </p><p>
     Proceed with <span class="guimenu">Next</span>.
    </p><div class="figure" id="fig-install-type"><div class="figure-contents"><div class="mediaobject"><a href="images/s4s-install-installationtype.png"><img src="images/s4s-install-installationtype.png" width="73%" alt="System role" title="System role"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 3.4: </span><span class="title-name">System role </span></span><a title="Permalink" class="permalink" href="#fig-install-type">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_installation.xml" title="Edit source document"> </a></div></div></div></li></ol></div></div><div class="procedure" id="pro-workflow-finish" data-id-title="Finishing the OS installation"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 3.2: </span><span class="title-name">Finishing the OS installation </span></span><a title="Permalink" class="permalink" href="#pro-workflow-finish">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_installation.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Choose whether to enable the following options:
    </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
       To install an SAP Application along with the system,
       activate <span class="guimenu">Launch the SAP Installation Wizard right after the
       operating system is installed</span>.
      </p></li><li class="listitem"><p>
       To enable RDP access (Remote Desktop Protocol) to this machine,
       activate <span class="guimenu">Enable RDP service and open port in
       firewall</span>.
      </p><p>
       For more information about connecting via RDP, see
       <a class="xref" href="#cha-configure-rdp" title="Chapter 13. Connecting via RDP">Chapter 13, <em>Connecting via RDP</em></a>.
      </p></li></ul></div></li><li class="step"><p>
     Review the proposed partition setup for the volumes
     <code class="literal">/dev/system/root</code> and <code class="literal">/dev/system/swap</code>.
     The volume <code class="literal">/dev/system/data</code> will be created later,
     as described in <a class="xref" href="#sec-partition" title="2.7. Partitioning">Section 2.7, “Partitioning”</a>.
    </p><p>
     Suitable values are preselected. However, if necessary, change the
     partition layout.
     You have the following options:
    </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.6.3.8.3.3.1"><span class="term"><span class="guimenu">Guided setup</span></span></dt><dd><p>
        Create a new partitioning suggestion based on your input.
       </p></dd><dt id="id-1.6.3.8.3.3.2"><span class="term"><span class="guimenu">Expert partitioner</span></span></dt><dd><p>
        Open the <span class="guimenu">Expert Partitioner</span> described in
        <em class="citetitle">Deployment Guide,
         Chapter <span class="quote">“<span class="quote">Advanced Disk Setup</span>”</span>,
         Section <span class="quote">“<span class="quote">Using the YaST Partitioner</span>”</span></em>
         (<a class="link" href="https://documentation.suse.com/sles-15" target="_blank">https://documentation.suse.com/sles-15</a>).
       </p><p>
        For partitioning advice specific to SUSE Linux Enterprise Server for SAP Applications, see
        <a class="xref" href="#sec-partition" title="2.7. Partitioning">Section 2.7, “Partitioning”</a>.
       </p></dd></dl></div><p>
     To accept the proposed setup without changes, proceed with
     <span class="guimenu">Next</span>.
    </p><div class="figure" id="fig-install-partition"><div class="figure-contents"><div class="mediaobject"><a href="images/s4s-install-partitioning.png"><img src="images/s4s-install-partitioning.png" width="73%" alt="Suggested partitioning" title="Suggested partitioning"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 3.5: </span><span class="title-name">Suggested partitioning </span></span><a title="Permalink" class="permalink" href="#fig-install-partition">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_installation.xml" title="Edit source document"> </a></div></div></div></li><li class="step"><p>
     Select the clock and time zone to use on your system. To manually adjust
     the time or to configure an NTP server for time synchronization, choose
     <span class="guimenu">Other Settings</span>.
     For detailed information, see
     <em class="citetitle">Deployment Guide,
     Chapter <span class="quote">“<span class="quote">Installation with YaST</span>”</span>,
     Section <span class="quote">“<span class="quote">Clock and Time Zone</span>”</span></em> (<a class="link" href="https://documentation.suse.com/sles-15" target="_blank">https://documentation.suse.com/sles-15</a>).
    </p><p>
     Proceed with <span class="guimenu">Next</span>.
    </p></li><li class="step"><p>
     Type a password for the system administrator account (called
     <code class="systemitem">root</code>) and repeat the password under
     <span class="guimenu">Confirm Password</span>.
     You can use the text box <span class="guimenu">Test Keyboard Layout</span> to
     make sure that all special characters appear correctly.
    </p><p>
     
     In case you would like to enable password-less authentication via SSH
     login, you can import a key via <span class="guimenu">Import Public SSH
     Key</span>. If you want to completely disable <code class="systemitem">root</code> login via
     password, upload a key only and do not provide a root password. A login
     as system administrator will only be possible via SSH using the
     respective key in this case.
    </p><p>
     For more information, see
     <em class="citetitle">Deployment Guide,
     Chapter <span class="quote">“<span class="quote">Installation with YaST</span>”</span>,
     Section <span class="quote">“<span class="quote">Password for the System Administrator
     root</span>”</span></em>
     (<a class="link" href="https://documentation.suse.com/sles-15" target="_blank">https://documentation.suse.com/sles-15</a>).
    </p><p>
     Proceed with <span class="guimenu">Next</span>.
    </p><div id="id-1.6.3.8.5.5" data-id-title="Do not forget the root password" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Do not forget the <code class="systemitem">root</code> password</div><p>
      The user <code class="systemitem">root</code> has the
      permission to carry out all administrative tasks. Without this password,
      you cannot log in to the system as
      <code class="systemitem">root</code>.
      The password entered here cannot be retrieved later.
     </p></div></li><li class="step"><p>
     On the screen <span class="guimenu">Installation Settings</span>, you can review
     and, if necessary, change several proposed installation settings.
     Each setting is shown alongside its current configuration.
     To change parts of the configuration, click the appropriate headline or
     other underlined items.
    </p><div id="id-1.6.3.8.6.2" data-id-title="Firewall configuration" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Firewall configuration</div><p>
      The software firewall of SLES for SAP is enabled by default.
      However, often, the ports your SAP product requires to be open
      are not opened automatically.
      This means that there may be network issues until you open the required
      ports manually.
     </p><p>
      For details, see <a class="xref" href="#sec-configure-firewall" title="11.1. Configuring firewalld">Section 11.1, “Configuring <code class="systemitem">firewalld</code>”</a>.
     </p></div><div class="figure" id="fig-install-overview"><div class="figure-contents"><div class="mediaobject"><a href="images/s4s-install-overview.png"><img src="images/s4s-install-overview.png" alt="Installation settings" title="Installation settings"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 3.6: </span><span class="title-name">Installation settings </span></span><a title="Permalink" class="permalink" href="#fig-install-overview">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_installation.xml" title="Edit source document"> </a></div></div></div></li><li class="step"><p>
     When you are satisfied with the system configuration, click
     <span class="guimenu">Install</span>.
    </p><p>
     Depending on your software selection, you may need to agree to further
     license agreements before you are asked to confirm that you want to start
     the installation process.
    </p><div id="id-1.6.3.8.7.3" data-id-title="Deletion of data" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.svg"/><div class="admon-title">Warning: Deletion of data</div><p>
      The installation process fully or partially overwrites existing
      data on the disk.
     </p></div><p>
     In the installation confirmation box, click <span class="guimenu">Install</span>.
    </p><p>
     When the installation of the operating system is finished, the system
     will reboot automatically:
    </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
       If you chose to only prepare the system for installation, the system will
       boot to a desktop login screen.
      </p></li><li class="listitem"><p>
       If you chose to install an SAP application now, the installation
       will continue after a reboot. Continue with
       <a class="xref" href="#cha-install-sap" title="Chapter 4. Installing SAP applications">Chapter 4, <em>Installing SAP applications</em></a>.
      </p></li></ul></div></li></ol></div></div></section><section class="sect1" id="sec-install-network" data-id-title="Using SLES for SAP media from the network"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">3.2 </span><span class="title-name">Using SLES for SAP media from the network</span></span> <a title="Permalink" class="permalink" href="#sec-install-network">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_installation.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   This section provides a short description of how to install from an
   installation medium served over the network. This allows, for example,
   using a regular SLES medium to install SLES for SAP.
  </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Copy the content of the SUSE Linux Enterprise Server for SAP Applications installation media to a Web server
     (for example, <code class="literal">example.com</code>), to the directory
     <code class="filename">/srv/www/htdocs/sap_repo</code>.
    </p></li><li class="step"><p>
     Boot from an SLES installation medium.
    </p></li><li class="step"><p>
     Select one of the boot menu options using the keys
     <span class="keycap">↓</span>/<span class="keycap">↑</span>.
     Then add to the command line. To do so, specify the parameters listed
     below:
    </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
       To allow network usage, add <code class="literal">ifcfg=*=dhcp</code> (though this
       should be the default).
      </p></li><li class="listitem"><p>
       Add the parameter
       <code class="literal">install=<em class="replaceable">SERVER</em>/<em class="replaceable">DIRECTORY</em></code>.
      </p></li></ul></div></li><li class="step"><p>
     Follow the instructions in <a class="xref" href="#sec-install-workflow" title="3.1. Using the installation workflow">Section 3.1, “Using the installation workflow”</a>.
    </p></li></ol></div></div><p>
   For more information, see
   <em class="citetitle">Deployment Guide, Chapter <span class="quote">“<span class="quote">Remote Installation</span>”</span></em>
   (<a class="link" href="https://documentation.suse.com/sles-15" target="_blank">https://documentation.suse.com/sles-15</a>).
  </p><p>
   To avoid having to use an SLES installation medium to initialize the
   system, you can boot over the network via PXE.
   For details, see <em class="citetitle">AutoYaST Guide,
   Chapter <span class="quote">“<span class="quote">Booting via PXE over the Network</span>”</span></em>
   (<a class="link" href="https://documentation.suse.com/sles-15" target="_blank">https://documentation.suse.com/sles-15</a>).
  </p></section><section class="sect1" id="sec-autoyast" data-id-title="Using an external AutoYaST profile"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">3.3 </span><span class="title-name">Using an external AutoYaST profile</span></span> <a title="Permalink" class="permalink" href="#sec-autoyast">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_autoyast.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  For more information about installing with AutoYaST, see:
 </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
    <em class="citetitle">Deployment Guide, Part <span class="quote">“<span class="quote">Automated Installations</span>”</span>,
     Chapter <span class="quote">“<span class="quote">Automated Installation</span>”</span>
    </em> (<a class="link" href="https://documentation.suse.com/sles-15" target="_blank">https://documentation.suse.com/sles-15</a>).
   </p></li><li class="listitem"><p>
    <em class="citetitle">AutoYaST Guide</em> (<a class="link" href="https://documentation.suse.com/sles-15" target="_blank">https://documentation.suse.com/sles-15</a>).
   </p></li></ul></div><p>
  For more information about partitioning for SAP applications with AutoYaST, see
  <a class="xref" href="#sec-partition" title="2.7. Partitioning">Section 2.7, “Partitioning”</a>.
 </p><p>
   If you plan to deploy SUSE Linux Enterprise Server for SAP Applications from a SUSE Manager server, refer to
   <em class="citetitle">SUSE Manager <span class="quote">“<span class="quote">Reference Manual</span>”</span>, <span class="quote">“<span class="quote">Systems</span>”</span>, <span class="quote">“<span class="quote">Autoinstallation</span>”</span></em> and <em class="citetitle">SUSE Manager <span class="quote">“<span class="quote">Advanced Topics</span>”</span>, Chapter <span class="quote">“<span class="quote">Minimalist AutoYaST Profile for Automated Installations and Useful Enhancements</span>”</span></em> (<a class="link" href="https://documentation.suse.com/suma" target="_blank">https://documentation.suse.com/suma</a>).
 </p></section><section class="sect1" id="sec-convert-sles" data-id-title="Converting an SLES installation to an SLES for SAP installation"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">3.4 </span><span class="title-name">Converting an SLES installation to an SLES for SAP installation</span></span> <a title="Permalink" class="permalink" href="#sec-convert-sles">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_installation.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   To convert an installation of SUSE Linux Enterprise Server 15 SP2 or JeOS
   15 SP2 to an installation of SLES for SAP, use the script
   <code class="command">Migrate_SLES_to_SLES-for-SAP.sh</code>. The script will
   register the system correctly and subscribe it to the appropriate
   repositories.
  </p><p>
   Make sure that you have an e-mail address for registration and a
   registration code for SLES for SAP.
  </p><div class="procedure" id="pro-convert-sles"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Install the package <span class="package">migrate-sles-to-sles4sap</span>.
    </p></li><li class="step"><p>
     Execute the following command:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">Migrate_SLES_to_SLES-for-SAP.sh</code></pre></div></li><li class="step"><p>
     When asked to confirm to continue the migration, press
     <span class="keycap">Y</span>, then <span class="keycap">Enter</span>.
    </p></li><li class="step"><p>
     When asked, type the e-mail address to use for registration, then press
     <span class="keycap">Enter</span>.
    </p></li><li class="step"><p>
     When asked, type the registration key, then press
     <span class="keycap">Enter</span>.
    </p><p>
     Wait until the script is finished. Afterward, you are subscribed to the
     SUSE Linux Enterprise Server for SAP Applications software repositories and the package
     <span class="package">SLES-release</span> is removed in favor of
     <span class="package">SLES_SAP-release</span>.
    </p></li></ol></div></div><div id="id-1.6.6.5" data-id-title="Script does not install default SLES for SAP packages" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Script does not install default SLES for SAP packages</div><p>
    The script does not install all packages that are included with a default
    SLES for SAP installation. However, you can install these yourself manually.
    To install the default package selection, use:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">zypper in patterns-server-enterprise-sap_server</code></pre></div></div></section></section><section class="chapter" id="cha-install-sap" data-id-title="Installing SAP applications"><div class="titlepage"><div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">4 </span><span class="title-name">Installing SAP applications</span></span> <a title="Permalink" class="permalink" href="#cha-install-sap">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_installation_sap.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  This section guides you through the installation of SAP media sets you
  received from SAP.
 </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
    If you are installing an SAP application within the installation workflow,
    continue with <a class="xref" href="#sec-install-sap-welcome" title="4.2. First steps">Section 4.2, “First steps”</a>.
   </p></li><li class="listitem"><p>
    If you are installing an SAP application within an installed system,
    continue with <a class="xref" href="#sec-install-sap-product" title="4.3. Using the SAP Installation Wizard">Section 4.3, “Using the SAP Installation Wizard”</a>.
   </p></li></ul></div><section class="sect1" id="sec-install-sap-list" data-id-title="Products that can be installed using SAP Installation Wizard"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">4.1 </span><span class="title-name">Products that can be installed using SAP Installation Wizard</span></span> <a title="Permalink" class="permalink" href="#sec-install-sap-list">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_installation_sap.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Using the SAP Installation Wizard, you can install stand-alone SAP HANA database instances.
   Additionally, the following SAP products (along with a database) can be
   installed using the SAP Installation Wizard:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>SAP S/4HANA, on-premise edition 1511</p></li><li class="listitem"><p>SAP NetWeaver 7.5</p></li><li class="listitem"><p>SAP NetWeaver 7.4 Support Release 2</p></li><li class="listitem"><p>SAP NetWeaver 7.4 Support Release 1</p></li><li class="listitem"><p>SAP NetWeaver 7.4</p></li><li class="listitem"><p>SAP Enhancement Package 1 for SAP NetWeaver 7.3</p></li><li class="listitem"><p>SAP NetWeaver 7.3</p></li><li class="listitem"><p>SAP NetWeaver Composition Environment (CE) 7.2</p></li><li class="listitem"><p>SAP EHP1 for SAP NetWeaver Composition Environment (CE) 7.1</p></li><li class="listitem"><p>SAP NetWeaver Composition Environment (CE) 7.1</p></li><li class="listitem"><p>SAP EHP1 for SAP NetWeaver Mobile/Banking 7.1</p></li><li class="listitem"><p>SAP EHP1 SAP NetWeaver Process Integration 7.1</p></li><li class="listitem"><p>SAP EHP1 for SAP NetWeaver Adaptive Computing Controller 7.1</p></li><li class="listitem"><p>SAP NetWeaver Mobile/Banking 7.1</p></li><li class="listitem"><p>SAP NetWeaver Process Integration 7.1</p></li><li class="listitem"><p>SAP NetWeaver Adaptive Computing Controller 7.1</p></li><li class="listitem"><p>SAP Business Suite powered by SAP HANA</p></li><li class="listitem"><p>SAP Business Suite 7i 2016</p></li><li class="listitem"><p>SAP Business Suite 7i 2013 Support Release 2</p></li><li class="listitem"><p>SAP Business Suite 7i 2013 Support Release 1</p></li><li class="listitem"><p>SAP Business Suite 7i 2011 Java</p></li><li class="listitem"><p>SAP Business Suite 7i 2010 Java</p></li><li class="listitem"><p>SAP Business Suite 7 Support Release 1 Java</p></li><li class="listitem"><p>SAP Solution Manager 7.2 Support Release 1</p></li><li class="listitem"><p>SAP Solution Manager 7.1 powered by SAP HANA</p></li><li class="listitem"><p>SAP NetWeaver AS ABAP 7.4, OEM version 1.0</p></li></ul></div><div id="id-1.7.4.4" data-id-title="Installation of Oracle databases not possible" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Installation of Oracle databases not possible</div><p>
     The SAP Installation Wizard does not allow installing products together with Oracle
     databases. To install an Oracle database, install the base product SUSE Linux Enterprise Server
     first, then install the Oracle database and later convert your
     installation to SLES for SAP. This is necessary because the Oracle databases
     installer queries for the existence of certain files, not all of which are
     included in a SLES for SAP installation.
    </p><p>
     For more information about converting, see
     <a class="xref" href="#sec-convert-sles" title="3.4. Converting an SLES installation to an SLES for SAP installation">Section 3.4, “Converting an SLES installation to an SLES for SAP installation”</a>.
    </p></div></section><section class="sect1" id="sec-install-sap-welcome" data-id-title="First steps"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">4.2 </span><span class="title-name">First steps</span></span> <a title="Permalink" class="permalink" href="#sec-install-sap-welcome">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_installation_sap.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   These first steps are only relevant during the installation workflow.
  </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     When the system is booted, it displays the screen
     <span class="guimenu">Welcome</span>.
     Proceed with <span class="guimenu">Next</span>.
    </p></li><li class="step"><p>
     The screen <span class="guimenu">Network Settings</span> will now open.
     This gives you an opportunity to change the network settings.
    </p><p>
     When you are finished configuring networking, proceed with
     <span class="guimenu">Next</span>.
    </p><div id="id-1.7.5.3.2.3" data-id-title="Configure networking as recommended by SAP" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Configure networking as recommended by SAP</div><p>
      Make sure to configure the network connection according to the
      documentation of your SAP application.
     </p></div><p>
     For information about configuring networking, see
     <em class="citetitle">
      Administration Guide, Chapter <span class="quote">“<span class="quote">Basic Networking</span>”</span>,
      Section <span class="quote">“<span class="quote">Configuring a Network Connection with YaST</span>”</span>
     </em> (<a class="link" href="https://documentation.suse.com/sles-15" target="_blank">https://documentation.suse.com/sles-15</a>).
    </p><p>
      (While the next screen loads, the <span class="guimenu">Welcome</span>
      screen may appear again for a few seconds.)
     </p></li><li class="step"><p>
     Choose one of the following options:
    </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.7.5.3.3.2.1"><span class="term">
       <span class="guimenu">Create SAP file systems and start SAP product
       installation</span>
      </span></dt><dd><p>
        Allows installing an SAP application and setting up the system as a
        server providing SAP installation routines to other systems.
       </p><p>
        Continue with <a class="xref" href="#sec-install-sap-product" title="4.3. Using the SAP Installation Wizard">Section 4.3, “Using the SAP Installation Wizard”</a>.
       </p></dd><dt id="id-1.7.5.3.3.2.2"><span class="term">
       <span class="guimenu">Only create SAP HANA file systems, do not install SAP products
       now</span>
      </span></dt><dd><p>
        Create an SAP HANA file system on SAP BusinessOne-certified hardware.
       </p><div id="id-1.7.5.3.3.2.2.2.3" data-id-title="Hardware requirements" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Hardware requirements</div><p>
         Make sure your machine fulfills the hardware requirements for SAP HANA
         detailed in <a class="xref" href="#sec-hardware" title="2.1. Hardware requirements">Section 2.1, “Hardware requirements”</a>.
         Otherwise, this option will not create a new file system and the
         installation workflow ends at this point.
        </p></div></dd><dt id="id-1.7.5.3.3.2.3"><span class="term">
       <span class="guimenu">Finish wizard and proceed to OS login</span>
      </span></dt><dd><p>
        Do not install an SAP application and continue to the login screen of
        SUSE Linux Enterprise Server for SAP Applications.
       </p></dd></dl></div><p>
     Proceed with <span class="guimenu">Next</span>.
    </p></li></ol></div></div></section><section class="sect1" id="sec-install-sap-product" data-id-title="Using the SAP Installation Wizard"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">4.3 </span><span class="title-name">Using the SAP Installation Wizard</span></span> <a title="Permalink" class="permalink" href="#sec-install-sap-product">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_installation_sap.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Use the SAP Installation Wizard to install an SAP NetWeaver system (including database) or an
   SAP HANA system.
  </p><p>
   To install other SAP applications or to create a more advanced SAP HANA
   setup, directly use one of the installation methods provided by SAP instead
   of this wizard.
  </p><div id="id-1.7.6.4" data-id-title="Installing an SAP application in a fully installed system" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><div class="admon-title">Tip: Installing an SAP application in a fully installed system</div><p>
    This process is documented as it appears during the installation workflow.
    However, it also applies to the YaST module <span class="guimenu">SAP Installation Wizard</span>
    which is available in the installed system.
   </p><p>
    To start the SAP Installer, from the desktop, choose
    <span class="guimenu">Applications</span> › <span class="guimenu">System</span> › <span class="guimenu">YaST</span>, continue in the YaST control center
    by choosing
    <span class="guimenu">Miscellaneous</span> › <span class="guimenu">SAP Installation Wizard</span>.
   </p></div><div id="id-1.7.6.5" data-id-title="SAP Installation Wizard configuration" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><div class="admon-title">Tip: SAP Installation Wizard configuration</div><p>
    The SAP Installation Wizard configuration is specified and
    documented in
    <code class="filename">/etc/sysconfig/sap-installation-wizard</code>. You can
    change it according to your needs.
   </p></div><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step" id="st-copy-master"><p>
     In the screen <span class="guimenu">SAP Installation Wizard</span>, provide the
     <span class="guimenu">Location of the SAP Installation Master</span>
     (<a class="xref" href="#fig-sap-wizard-source" title="Location of SAP installation master">Figure 4.1, “Location of SAP installation master”</a>). The
     location can either be a local, removable, or remote installation source.
    </p><div class="figure" id="fig-sap-wizard-source"><div class="figure-contents"><div class="mediaobject"><a href="images/s4s_sap_wizard_source.png"><img src="images/s4s_sap_wizard_source.png" width="73%" alt="Location of SAP installation master" title="Location of SAP installation master"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 4.1: </span><span class="title-name">Location of SAP installation master </span></span><a title="Permalink" class="permalink" href="#fig-sap-wizard-source">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_installation_sap.xml" title="Edit source document"> </a></div></div></div><p>
     Select the appropriate option from the drop-down box.
     In the text box, specify the path to your source according to the format
     given in the following table.
    </p><div class="table" id="tab-sap-media-source" data-id-title="Media source path"><div class="title-container"><div class="table-title-wrap"><div class="table-title"><span class="title-number-name"><span class="title-number">Table 4.1: </span><span class="title-name">Media source path </span></span><a title="Permalink" class="permalink" href="#tab-sap-media-source">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_installation_sap.xml" title="Edit source document"> </a></div></div><div class="table-contents"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="option"/><col class="desc"/><col class="format"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">
         <p>
          Option
         </p>
        </th><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">
         <p>
          Description
         </p>
        </th><th style="border-bottom: 1px solid ; ">
         <p>
          Format of Path
         </p>
        </th></tr></thead><tbody><tr><td style="border-bottom: 1px solid ; " colspan="3">
         <span class="strong"><strong>Local Sources</strong></span>
        </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
         <p>
          <span class="guimenu">dir://</span>
         </p>
        </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
         <p>
          a local directory
         </p>
        </td><td style="border-bottom: 1px solid ; ">
         <p>
          <code class="filename"><em class="replaceable">/path/to/dir/</em></code>
         </p>
        </td></tr><tr><td style="border-bottom: 1px solid ; " colspan="3">
         <span class="strong"><strong>Removable Sources</strong></span>
        </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
         <p>
          <span class="guimenu">device://</span>
         </p>
        </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
         <p>
          a locally connected hard disk
         </p>
        </td><td style="border-bottom: 1px solid ; ">
         <p>
          <code class="filename"><em class="replaceable">devicename</em><em class="replaceable">/path/to/dir/on/device</em></code>
         </p>
        </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
         <p>
          <span class="guimenu">usb://</span>
         </p>
        </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
         <p>
          a USB mass storage device
         </p>
        </td><td style="border-bottom: 1px solid ; ">
         <p>
          <code class="filename"><em class="replaceable">/path/to/dir/on/USB</em></code>
         </p>
        </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
         <p>
          <span class="guimenu">cdrom://</span>
         </p>
        </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
         <p>
          a CD or DVD
         </p>
        </td><td style="border-bottom: 1px solid ; ">
         <p>
          <code class="filename"><em class="replaceable">//</em></code>
         </p>
         
        </td></tr><tr><td style="border-bottom: 1px solid ; " colspan="3">
         <span class="strong"><strong>Remote Sources</strong></span>
        </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
         <p>
          <span class="guimenu">nfs://</span>
         </p>
        </td><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
         <p>
          an NFS share
         </p>
        </td><td style="border-bottom: 1px solid ; ">
         <p>
          <code class="filename"><em class="replaceable">server_name</em><em class="replaceable">/path/to/dir/on/device</em></code>
         </p>
         
        </td></tr><tr><td style="border-right: 1px solid ; ">
         <p>
          <span class="guimenu">smb://</span>
         </p>
        </td><td style="border-right: 1px solid ; ">
         <p>
          an SMB share
         </p>
        </td><td>
         <p>
          <code class="filename">[<em class="replaceable">user_name</em>:<em class="replaceable">password</em>@]<em class="replaceable">server_name</em>/<em class="replaceable">/path/to/dir/on/server</em>[?workgroup=<em class="replaceable">workgroup_name</em>]</code>
         </p>
        </td></tr></tbody></table></div></div><div id="id-1.7.6.6.1.5" data-id-title="Remote location specification" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><div class="admon-title">Tip: Remote location specification</div><p>
      To install from an NFS source, specify the name of
      the server and the complete path to the media data. For
      information about setting up a remote installation server, see
      <a class="xref" href="#cha-serve-mediaset" title="Chapter 6. Setting up an installation server for SAP media sets">Chapter 6, <em>Setting up an installation server for SAP media sets</em></a>.
     </p></div><p>
     If you have installed an SAP application from an installation server
     before or set up your
     system to be an installation server, you can also directly choose
     that server as the provider of the Installation Master.
     To do so, use the drop-down box below <span class="guimenu">Choose an installation
     master</span>.
    </p></li><li class="step"><p>
     Under <span class="guimenu">Advanced Options</span>, choose from the following
     options:
    </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.7.6.6.2.2.1"><span class="term">
       <span class="guimenu">Collect installation profiles for SAP products but do not execute
        installation</span>
      </span></dt><dd><p>
        Use this option to set the installation parameters,
        but not perform the actual installation. With this option, the
        SAP Installer (SAPinst) will stop without performing the actual SAP
        product installation. However, the steps that follow fully apply.
       </p><p>
        For more information, see <a class="xref" href="#sec-install-continue" title="4.4. Continuing an installation using an installation profile">Section 4.4, “Continuing an installation using an installation profile”</a>.
       </p></dd><dt id="id-1.7.6.6.2.2.2"><span class="term">
       <span class="guimenu">Serve all installation media (including master) to local
       network via NFS</span>
      </span></dt><dd><p>
        Set up this system as an installation server for other SUSE Linux Enterprise Server for SAP Applications
        systems.
        The media copied to this installation server will be offered through
        NFS and can be discovered via Service Location Protocol (SLP).
       </p></dd></dl></div><p>
     Proceed with <span class="guimenu">Next</span>.
    </p><p>
     The SAP Installation Wizard will now copy the Installation Master to your local disk.
     Depending on the type of Installation Master you selected, the installation
     will continue differently:
    </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
       If you are installing an SAP HANA database, skip ahead to
       <a class="xref" href="#st-supplement" title="Step 8">Step 8</a>.
      </p></li><li class="listitem"><p>
       If you are installing an SAP NetWeaver application, continue with the
       next step.
      </p></li></ul></div></li><li class="step" id="st-copy-media"><p>
     On the screen <span class="guimenu">SAP Installation Wizard</span>, provide
     the location of additional Installation Media you want to install.
     This can include an SAP kernel, a database, and
     database exports.
    </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.7.6.6.3.2.1"><span class="term"><span class="guimenu">Copy a medium</span></span></dt><dd><p>
        Specify a path to additional Installation Media. For more information about
        specifying the path, see <a class="xref" href="#tab-sap-media-source" title="Media source path">Table 4.1, “Media source path”</a>.
       </p></dd><dt id="id-1.7.6.6.3.2.2"><span class="term"><span class="guimenu">Skip copying of medium</span></span></dt><dd><p>
        Do not copy additional Installation Media. Choose this option
        if you do not need additional Installation Media or to install
        additional Installation Media directly from their source, for example
        CDs/DVDs or flash disks.
       </p><p>
        When choosing this option despite your SAP product requiring additional
        Installation Media, you will later need to provide the SAP Installer (SAPinst)
        with the relevant paths.
       </p></dd></dl></div><p>
     Proceed with <span class="guimenu">Next</span>.
    </p><p>
     If you chose to copy Installation Media, the SAP Installation Wizard will copy the relevant
     files to your local hard disk.
    </p><div class="figure" id="fig-sap-wizard-sapmedia"><div class="figure-contents"><div class="mediaobject"><a href="images/s4s_sap_wizard_location_sapmedia.png"><img src="images/s4s_sap_wizard_location_sapmedia.png" width="73%" alt="SAP Installation Wizard: additional Installation Media" title="SAP Installation Wizard: additional Installation Media"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 4.2: </span><span class="title-name">SAP Installation Wizard: additional Installation Media </span></span><a title="Permalink" class="permalink" href="#fig-sap-wizard-sapmedia">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_installation_sap.xml" title="Edit source document"> </a></div></div></div></li><li class="step"><p>
     After copying the Installation Media, you will be asked whether you want to
     prepare additional Installation Media.
     To do so, click <span class="guimenu">Yes</span>.
     Then follow the instructions in
     <a class="xref" href="#st-copy-media" title="Step 3">Step 3</a>.
    </p><p>
     Otherwise, click <span class="guimenu">No</span>.
    </p></li><li class="step"><p>
     In the screen <span class="guimenu">What Would You Like to Install</span>,
     under <span class="guimenu">The SAP product is</span>, choose how you want to
     install the product:
    </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.7.6.6.5.2.1"><span class="term"><span class="guimenu">SAP standard system</span></span></dt><dd><p>
        Install an SAP application including its database.
       </p></dd><dt id="id-1.7.6.6.5.2.2"><span class="term"><span class="guimenu">SAP standalone engines</span></span></dt><dd><p>
        Engines that add functionality to a standard product: SAP TREX,
        SAP Gateway, and Web Dispatcher.
       </p></dd><dt id="id-1.7.6.6.5.2.3"><span class="term"><span class="guimenu">Distributed system</span></span></dt><dd><p>
        An SAP application that is separated onto multiple servers.
       </p></dd><dt id="id-1.7.6.6.5.2.4"><span class="term"><span class="guimenu">SAP high-availability system</span></span></dt><dd><p>
        Installation of SAP NetWeaver in a high-availability setup.
       </p></dd><dt id="id-1.7.6.6.5.2.5"><span class="term"><span class="guimenu">System rename</span></span></dt><dd><p>
        Allows changing the various system properties such as the SAP system
        ID, database ID, instance number, or host name. This can be used to
        install the same product in a very similar configuration on different
        systems.
       </p></dd></dl></div><div class="figure" id="fig-sap-wizard-mode-db"><div class="figure-contents"><div class="mediaobject"><a href="images/s4s_sap_wizard_mode_db.png"><img src="images/s4s_sap_wizard_mode_db.png" width="73%" alt="SAP Installation Wizard: installation type and database" title="SAP Installation Wizard: installation type and database"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 4.3: </span><span class="title-name">SAP Installation Wizard: installation type and database </span></span><a title="Permalink" class="permalink" href="#fig-sap-wizard-mode-db">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_installation_sap.xml" title="Edit source document"> </a></div></div></div></li><li class="step"><p>
     If you selected <span class="guimenu">SAP Standard System</span>,
     <span class="guimenu">Distributed System</span>, or
     <span class="guimenu">SAP High-Availability System</span>,
     additionally choose a back-end database under
     <span class="guimenu">Back-end Databases</span>.
    </p><p>
     Proceed with <span class="guimenu">Next</span>.
    </p></li><li class="step"><p>
     You will now see the screen <span class="guimenu">Choose a Product</span>.
     The products shown depend on the Media Set and Installation Master you received
     from SAP.
     From the list, select the product you want to install.
    </p><p>
     Proceed with <span class="guimenu">Next</span>.
    </p><div class="figure" id="fig-sap-wizard-avail-products"><div class="figure-contents"><div class="mediaobject"><a href="images/s4s_sap_wizard_available_products.png"><img src="images/s4s_sap_wizard_available_products.png" width="73%" alt="SAP Installation Wizard: choose a product" title="SAP Installation Wizard: choose a product"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 4.4: </span><span class="title-name">SAP Installation Wizard: choose a product </span></span><a title="Permalink" class="permalink" href="#fig-sap-wizard-avail-products">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_installation_sap.xml" title="Edit source document"> </a></div></div></div></li><li class="step" id="st-supplement"><p>
     You will be asked whether to copy Supplementary Media or
     Third-Party Media.
     To do so, click <span class="guimenu">Yes</span> and then follow the instructions in
     <a class="xref" href="#st-copy-media" title="Step 3">Step 3</a>.
    </p><p>
     Otherwise, click <span class="guimenu">No</span>.
    </p><div id="id-1.7.6.6.8.3" data-id-title="Difference between Supplementary Media/Third-Party Media and additional software repositories" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Difference between Supplementary Media/Third-Party Media and additional software repositories</div><p>
      Both types of delivery mechanisms allow installing software
      that is neither part of the SUSE Linux Enterprise Server for SAP Applications media nor part of your Media Set
      from SAP. However, the delivery mechanism is different:
     </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
        Supplementary Media/Third-Party Media is installed using an AutoYaST file which allows
        creating an installation wizard and custom installation scripts.
       </p></li><li class="listitem"><p>
        Additional software repositories are RPM package repositories that you will
        remain subscribed to. This means you receive updates for Third-Party Media
        along with your regular system updates.
       </p></li></ul></div></div><p>
     For information on creating Supplementary Media, see
     <a class="xref" href="#app-component-supplement" title="Appendix C. Supplementary Media">Appendix C, <em>Supplementary Media</em></a>.
    </p></li><li class="step"><p>
     On the screen <span class="guimenu">Additional software repositories for your
     SAP installation</span>, you can add further software repositories.
     For example, for add-ons that are packaged
     as RPM. To do so, click <span class="guimenu">Add new software repositories</span>.
     For more information about adding repositories, see
     <em class="citetitle">Deployment Guide,
     Chapter <span class="quote">“<span class="quote">Installing and Removing Software</span>”</span>,
     Section <span class="quote">“<span class="quote">Adding Software Repositories</span>”</span></em>
     (<a class="link" href="https://documentation.suse.com/sles-15" target="_blank">https://documentation.suse.com/sles-15</a>).
    </p><p>
     Proceed with <span class="guimenu">Next</span>.
    </p><div id="id-1.7.6.6.9.3" data-id-title="Location of copied SAP media" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Location of copied SAP media</div><p>
      At this point, all data required for the SAP installation has been
      copied to <code class="filename">/data/SAP_CDs</code> (unless you chose to skip
      the process of copying).
      Each Installation Medium is copied to a separate directory. You might find
      the following directory structure, for example:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>ls /data/SAP_CDs
742-KERNEL-SAP-Kernel-742
742-UKERNEL-SAP-Unicode-Kernel-742
RDBMS-MAX-DB-LINUX_X86_64
SAP-NetWeaver-740-SR2-Installation-Export-CD-1-3
SAP-NetWeaver-740-SR2-Installation-Export-CD-2-3
SAP-NetWeaver-740-SR2-Installation-Export-CD-3-3</pre></div><p>
      <code class="filename">/data/SAP_CDs</code> is the default directory as specified
      in the <code class="filename">/etc/sysconfig/sap-installation-wizard</code>
      configuration file.
     </p></div></li><li class="step" id="st-collect-parameter"><p>
     Depending on the product you are installing, one or more dialogs will
     prompt you to supply values for several configuration parameters for the
     SAP application you are installing.
    </p><p>
     Supply the values as described in the documentation provided to you by
     SAP. Help for the configuration parameters is also
     available on the left side of the dialog. For more information, see
     <a class="xref" href="#sec-data" title="2.6. Required data for installing">Section 2.6, “Required data for installing”</a>.
    </p><p>
     Fill out the form (or forms), then proceed with <span class="guimenu">OK</span>.
    </p><div class="figure" id="fig-product-parameter"><div class="figure-contents"><div class="mediaobject"><a href="images/s4s_sap_wizard_product_param.png"><img src="images/s4s_sap_wizard_product_param.png" alt="Dialog to configure product parameters" title="Dialog to configure product parameters"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 4.5: </span><span class="title-name">Product parameters </span></span><a title="Permalink" class="permalink" href="#fig-product-parameter">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_installation_sap.xml" title="Edit source document"> </a></div></div></div><p>
     When you are done, the SAP Installation Wizard will download additional software packages.
    </p></li><li class="step"><p>
     You will be asked whether to continue the installation or prepare another
     SAP product for installation. If you choose to prepare another SAP
     product, start from the beginning of this procedure.
    </p></li><li class="step"><p><span class="step-optional">(Optional)</span> 
     When installing SAP HANA on a system that is not certified for SAP HANA and
     does not meet the minimum hardware requirements for SAP HANA TDI
     (Tailored Datacenter Integration), you will be
     asked whether to continue. If you receive this message unexpectedly,
     check <a class="xref" href="#sec-hardware" title="2.1. Hardware requirements">Section 2.1, “Hardware requirements”</a> and the sizing guidelines from
     SAP at <a class="link" href="https://service.sap.com/sizing" target="_blank">https://service.sap.com/sizing</a>
     (you need your SAP ID to access the information).
    </p><p>
     Otherwise, continue with <span class="guimenu">Yes</span>.
    </p></li><li class="step" id="st-sapinst"><p>
     The following steps differ depending on the type of
     SAP application you are installing:
    </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
       When installing an SAP HANA database, SAP HANA will now be installed
       without further question.
      </p></li><li class="listitem"><p>
       When installing an SAP NetWeaver application, the actual installation will
       be performed using the SAP Installer (SAPinst). After a few seconds, SAP Installer
       will open automatically.
      </p><p>
       Follow the SAP Installer as described in the documentation provided
       by SAP. Most configuration parameters are correctly filled already.
      </p></li></ul></div><div class="figure" id="fig-sapinst-param"><div class="figure-contents"><div class="mediaobject"><a href="images/s4s_sapinst_param.png"><img src="images/s4s_sapinst_param.png" width="73%" alt="SAP Installer: defining parameters" title="SAP Installer: defining parameters"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 4.6: </span><span class="title-name">SAP Installer: defining parameters </span></span><a title="Permalink" class="permalink" href="#fig-sapinst-param">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_installation_sap.xml" title="Edit source document"> </a></div></div></div><div id="id-1.7.6.6.13.4" data-id-title="Installation log files" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><div class="admon-title">Tip: Installation log files</div><p>
      If the installation of the SAP application fails, refer to the
      installation log files. They are located in
      <code class="filename">/var/adm/autoinstall</code>. Failed installations are
      recorded in files with names ending in <code class="filename">.err</code>.
     </p><p>
      For more information about log files, see
      <a class="xref" href="#cha-trouble" title="Chapter 15. Important log files">Chapter 15, <em>Important log files</em></a>.
     </p></div></li><li class="step"><p>
     The final screen is <span class="guimenu">Installation Completed</span>.
    </p><p>
     To create an AutoYaST file for this installation, activate
     <span class="guimenu">Clone This System for AutoYaST</span>.
     The AutoYaST file will be placed in <code class="filename">/root/autoinst.xml</code>.
    </p><p>
     Click <span class="guimenu">Finish</span>.
    </p></li></ol></div></div></section><section class="sect1" id="sec-install-continue" data-id-title="Continuing an installation using an installation profile"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">4.4 </span><span class="title-name">Continuing an installation using an installation profile</span></span> <a title="Permalink" class="permalink" href="#sec-install-continue">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_installation_sap.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   If you chose <span class="guimenu">Collect installation profiles but do not execute
   installation</span> during the previous run of the SAP Installation Wizard, this section
   will show you how to continue the installation of the selected
   SAP applications.
  </p><p>
   When collecting an installation profile, the SAP Installation Wizard copies
   product images to <code class="filename">/data/SAP_CDs</code>.
   It also prepares an installation environment for every product under the
   path <code class="filename">/data/SAP_INST</code>:
  </p><div class="verbatim-wrap"><pre class="screen">/data/SAP_INST/0/Instmaster
/data/SAP_INST/1/Instmaster
/data/SAP_INST/2/Instmaster
[...]</pre></div><p>
   These files are re-used in the following.
   To continue the installation, follow these steps:
  </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     In <code class="filename">/etc/sysconfig/sap-installation-wizard</code>,
     set the following:
    </p><div class="verbatim-wrap"><pre class="screen">SAP_AUTO_INSTALL="yes"</pre></div></li><li class="step"><p>
     In the case of an SAP HANA/SAP BusinessOne installation, the SAP Installation Wizard will later use
     the parameters documented in the AutoYaST files in
     <code class="filename">/data/SAP_INST/<em class="replaceable">number</em></code>.
    </p><p>
     If you need to change any parameters, make sure to adapt the AutoYaST files at
     this point.
    </p></li><li class="step"><p>
     Open the YaST control center and start
     <span class="guimenu">SAP Installation Wizard</span>.
    </p></li><li class="step"><p>
     You will be asked whether to continue the pending installation.
     Select <span class="guimenu">Install</span>.
    </p></li><li class="step"><p>
     All further interactions happen within the SAP Installer.
     Follow the steps of SAP Installer as described in the documentation provided to
     you by SAP.
    </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
       In the case of an SAP NetWeaver installation, all parameters of the SAP Installer
       will be offered again for fine-tuning.
      </p></li><li class="listitem"><p>
       In the case of an SAP HANA/SAP BusinessOne installation, the installer will not be
       offer to make any changes to parameters.
      </p></li></ul></div></li></ol></div></div></section><section class="sect1" id="sec-partition-command" data-id-title="Partitioning for an SAP application without the SAP Installation Wizard"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">4.5 </span><span class="title-name">Partitioning for an SAP application without the SAP Installation Wizard</span></span> <a title="Permalink" class="permalink" href="#sec-partition-command">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_installation_sap.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   If you do not want to use the SAP Installation Wizard, you can also create the partitioning
   for SAP applications directly from the command line. First, find the
   correct partitioning file in the directory
   <code class="filename">/usr/share/YaST2/include/sap-installation-wizard/</code> or
   create your own partitioning file. For more information, see
   <a class="xref" href="#sec-partition-sap" title="2.7.2. Partitioning for the SAP system (stage 2)">Section 2.7.2, “Partitioning for the SAP system (stage 2)”</a>.
  </p><p>
   When you have determined the correct partitioning XML file, run:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">yast2 sap_create_storage_ng <em class="replaceable">ABSOLUTE_PATH_TO_PARTITIONING_FILE</em></code></pre></div></section><section class="sect1" id="sec-install-sap-autoyast" data-id-title="Automated installation of SAP applications with AutoYaST"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">4.6 </span><span class="title-name">Automated installation of SAP applications with AutoYaST</span></span> <a title="Permalink" class="permalink" href="#sec-install-sap-autoyast">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_installation_sap.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The SAP Installation Wizard can be used from AutoYaST to automate the installation of SAP
   Applications.
  </p><section class="sect2" id="sec-install-sap-autoyast-hana" data-id-title="SAP HANA installation"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">4.6.1 </span><span class="title-name">SAP HANA installation</span></span> <a title="Permalink" class="permalink" href="#sec-install-sap-autoyast-hana">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_installation_sap.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The following AutoYaST snippet shows how an SAP HANA or SAP TREX installation can
    be automated:
   </p><div class="verbatim-wrap highlight xml"><pre class="screen">&lt;sap-inst&gt;
  &lt;products config:type="list"&gt;
    &lt;product&gt;
      &lt;media config:type="list"&gt;
        &lt;medium&gt;
          &lt;url&gt;nfs://server/path1&lt;/url&gt;
          &lt;type&gt;sap&lt;/type&gt;
        &lt;/medium&gt;
        &lt;medium&gt;
          &lt;url&gt;nfs://server/path3&lt;/url&gt;
          &lt;type&gt;supplement&lt;/type&gt;
        &lt;/medium&gt;
      &lt;/media&gt;
      &lt;sapMasterPW&gt;<em class="replaceable">PASSWORD</em>&lt;/sapMasterPW&gt;
      &lt;sid&gt;<em class="replaceable">SID</em>&lt;/sid&gt;
      &lt;sapInstNr&gt;<em class="replaceable">INSTANCE_NUMBER</em>&lt;/sapInstNr&gt;
      &lt;sapMDC&gt;no&lt;/sapMDC&gt;
    &lt;/product&gt;
  &lt;/products&gt;
&lt;/sap-inst&gt;</pre></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
      The <code class="sgmltag-element">sapMDC</code> element is only applicable to SAP HANA.
     </p></li><li class="listitem"><p>
      The <code class="sgmltag-element">sapVirtHostname</code> element must be specified for
      distributed or highly available installations.
     </p></li></ul></div><p>
     For a full SAP HANA example, including partitioning, see
     <code class="filename">/usr/share/doc/packages/sap-installation-wizard/hana-autoyast.xml</code>.
   </p></section><section class="sect2" id="sec-install-sap-autoyast-netweaver" data-id-title="SAP NetWeaver installation"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">4.6.2 </span><span class="title-name">SAP NetWeaver installation</span></span> <a title="Permalink" class="permalink" href="#sec-install-sap-autoyast-netweaver">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_installation_sap.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    For SAP NetWeaver, the following example shows how the installation can be
    automated. Specifically, this example is tailored to installing ASCS
    Instance of an SAP NetWeaver 7.5 ABAP Server distributed system with MaxDB
    (product ID <code class="literal">NW_ABAP_ASCS:NW750.ADA.ABAP</code>). When
    installing other products based on SAP NetWeaver, not all of the following
    variables may be necessary or these variables might need to be replaced
    by others:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
      The master password for the SAP NetWeaver instance:
      <em class="replaceable">MASTER_PASSWORD</em>
     </p></li><li class="listitem"><p>
      The SAP Identifier (SID): <em class="replaceable">SID</em>
     </p></li><li class="listitem"><p>
      The SAP kernel: <em class="replaceable">KERNEL</em>
     </p></li><li class="listitem"><p>
      The SAP instance number: <em class="replaceable">INSTANCE_NUMBER</em>
     </p></li><li class="listitem"><p>
      The ASCS virtual host name:
      <em class="replaceable">ASCS_VIRTUAL_HOSTNAME</em>
     </p></li><li class="listitem"><p>
      The SCS virtual host name: <em class="replaceable">SCS_VIRTUAL_HOSTNAME</em>
     </p></li></ul></div><div class="verbatim-wrap highlight xml"><pre class="screen">&lt;sap-inst&gt;
  &lt;products config:type="list"&gt;
    &lt;product&gt;
      &lt;media config:type="list"&gt;
        &lt;medium&gt;
          &lt;url&gt;<em class="replaceable">nfs://SERVER/PATH1</em>&lt;/url&gt;
          &lt;type&gt;sap&lt;/type&gt;
        &lt;/medium&gt;
        &lt;medium&gt;
          &lt;url&gt;<em class="replaceable">nfs://SERVER/PATH2</em>&lt;/url&gt;
          &lt;type&gt;sap&lt;/type&gt;
        &lt;/medium&gt;
        &lt;medium&gt;
          &lt;url&gt;<em class="replaceable">nfs://SERVER/PATH3</em>&lt;/url&gt;
          &lt;type&gt;supplement&lt;/type&gt;
        &lt;/medium&gt;
      &lt;/media&gt;
      &lt;productID&gt;NW_ABAP_ASCS:NW750.ADA.ABAP&lt;/productID&gt;
      &lt;iniFile&gt;
        &lt;![CDATA[
# Password for the Diagnostics Agent specific &lt;dasid&gt;adm user. Provided value
# may be encoded.
DiagnosticsAgent.dasidAdmPassword =

# Windows domain in which the Diagnostics Agent users must be created.
# The property is Microsoft Windows only. This is an optional property.
DiagnosticsAgent.domain =

# Password for the Diagnostics Agent specific SAPService&lt;DASID&gt; user.
# Provided value may be encoded.
# The property is Microsoft Windows only.
DiagnosticsAgent.sapServiceDASIDPassword =

NW_GetMasterPassword.masterPwd = <em class="replaceable">MASTER_PASSWORD</em>

# Human readable form of the Default Login language - valid names are stored
# in a table of the subcomponent NW_languagesInLoadChecks. Used when freshly
# installing an ABAP stack for the machine that performs an ABAP load (in the
# case of a distributed system, that is the database, otherwise it is used by
# the normal installer). The available languages must be declared in the
# LANGUAGES_IN_LOAD parameter of the product.xml . In this file, the one
# character representation of the languages is used. Check the same table in
# the subcomponent mentioned above.
NW_GetSidNoProfiles.SAP_GUI_DEFAULT_LANGUAGE =

# The drive to use (Windows only)
NW_GetSidNoProfiles.sapdrive =

# The /sapmnt path (Unix only)
NW_GetSidNoProfiles.sapmnt = /sapmnt

# The SAP System ID of the system to install
NW_GetSidNoProfiles.sid = <em class="replaceable">SID</em>

# Will this system be unicode system?
NW_GetSidNoProfiles.unicode = true

NW_SAPCrypto.SAPCryptoFile = /data/SAP_CDs/745-UKERNEL-SAP-Unicode-Kernel-745/DBINDEP/SAPEXE.SAR

NW_SCS_Instance.ascsInstanceNumber =

NW_SCS_Instance.ascsVirtualHostname = <em class="replaceable">ASCS_VIRTUAL_HOSTNAME</em>

NW_SCS_Instance.instanceNumber = <em class="replaceable">INSTANCE_NUMBER</em>

NW_SCS_Instance.scsInstanceNumber =

NW_SCS_Instance.scsMSPort =

NW_SCS_Instance.scsVirtualHostname = <em class="replaceable">SCS_VIRTUAL_HOSTNAME</em>

NW_System.installSAPHostAgent = true

NW_Unpack.igsExeSar =

NW_Unpack.igsHelperSar =

NW_Unpack.sapExeDbSar =

NW_Unpack.sapExeSar =

NW_Unpack.sapJvmSar =

NW_Unpack.xs2Sar =

NW_adaptProfile.templateFiles =

# The FQDN of the system.
NW_getFQDN.FQDN =

# Do we want to set the FQDN for the system?
NW_getFQDN.setFQDN = false

# The path to the JCE policy archive to install into the Java home directory
# if it is not already installed.
NW_getJavaHome.jcePolicyArchive =

hostAgent.domain =

# Password for the SAP Host Agent specific sapadm user. Provided value may be
# encoded.
hostAgent.sapAdmPassword = <em class="replaceable">MASTER_PASSWORD</em>

nwUsers.sapDomain =

nwUsers.sapServiceSIDPassword =

nwUsers.sidadmPassword =
            ]]&gt;
      &lt;/iniFile&gt;
    &lt;/product&gt;
  &lt;/products&gt;
&lt;/sap-inst&gt;</pre></div></section></section></section><section class="chapter" id="cha-upgrade-sap-hana-cluster" data-id-title="Upgrading a SAP HANA cluster"><div class="titlepage"><div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">5 </span><span class="title-name">Upgrading a SAP HANA cluster</span></span> <a title="Permalink" class="permalink" href="#cha-upgrade-sap-hana-cluster">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_upgrade_sap_hana_cluster.xml" title="Edit source document"> </a></div></div></div><div><div class="abstract"><p>
    This chapter describes how to upgrade your SAP HANA cluster
    with the YaST module <span class="guimenu">SUSE HANA Cluster Update</span>.
    This acts as a wizard and guides you through all the SAP HANA cluster
    maintenance procedures.
   </p></div></div></div></div><p>
   The official SAP HANA documentation describes the so-called <span class="emphasis"><em>Near
   Zero Downtime Upgrade Process</em></span>. The YaST module is based on
   this process and handles the part of the procedure related to the SUSE
   cluster. Not all steps can be done automatically. Some steps need to be
   performed manually by the SAP HANA administrator. The YaST module will inform
   you during the process.
  </p><p>
   This YaST module is available in the <span class="package">yast2-sap-ha</span>
   package for SUSE Linux Enterprise Server for SAP Applications 12 SP3 and higher.
   Currently, the wizard is only prepared to handle the
   <span class="emphasis"><em>SAP HANA Scale-up Performance Optimized</em></span> scenario.
  </p><p>The upgrade covers the following tasks:</p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p><a class="xref" href="#sec-upgrade-sap-hana-cluster-preparing" title="5.1. Preparing the upgrade">Section 5.1, “Preparing the upgrade”</a></p></li><li class="step"><p><a class="xref" href="#sec-upgrade-sap-hana-cluster-upgrading" title="5.2. Upgrading your SAP HANA cluster">Section 5.2, “Upgrading your SAP HANA cluster”</a></p></li><li class="step"><p><a class="xref" href="#sec-upgrade-sap-hana-cluster-finishing" title="5.3. Finishing the upgrade task">Section 5.3, “Finishing the upgrade task”</a></p></li></ol></div></div><section class="sect1" id="sec-upgrade-sap-hana-cluster-preparing" data-id-title="Preparing the upgrade"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5.1 </span><span class="title-name">Preparing the upgrade</span></span> <a title="Permalink" class="permalink" href="#sec-upgrade-sap-hana-cluster-preparing">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_upgrade_sap_hana_cluster.xml" title="Edit source document"> </a></div></div></div></div></div><div class="procedure"><div class="procedure-contents"><p>
    Ensure passwordless SSH access between the two nodes (primary and secondary) for <code class="systemitem">root</code>.
    Keep in mind, some cloud service providers might not have set up SSH access
    for the <code class="systemitem">root</code> by default.
   </p><ol class="procedure" type="1"><li class="step"><p>
     Install the <span class="package">yast2-hana-update</span> package on both nodes:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">zypper</code> install yast2-hana-update</pre></div><p>
     After the installation, you can find the module <span class="guimenu">SUSE HANA
     Cluster Update</span> in the <span class="guimenu">YaST Control Center</span>.
    </p></li><li class="step"><p>
     On the secondary node, start the <span class="guimenu">YaST Control Center</span> and open the
     <span class="guimenu">SUSE HANA Cluster Update</span> module.
    </p></li><li class="step"><p>
     In the YaST module, review the prerequisites. Make sure to fulfill all
     of them before continuing with the next step. Keep in mind that the
     wizard supports only the HANA Scale-up Performance Optimized scenario.
    </p></li><li class="step"><p>
     To upgrade the SAP HANA system, select the secondary node.
    </p></li><li class="step"><p>
     Select the location of the installation medium.
    </p><p>
     Point to the location where the SAP medium is located. If wanted, check
     <span class="guimenu">Mount an update medium on all hosts</span> and provide the NFS
     share and path.
    </p><div id="id-1.8.7.2.6.3" data-id-title="Differences between SAP HANA version 1.0 and 2.0" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Differences between SAP HANA version 1.0 and 2.0</div><p>
      If you are upgrading from SAP HANA version 1.0 to version 2.0,
      make sure to check <span class="guimenu">This is a HANA 1.0 to HANA 2.0 upgrade</span>.
     </p><p>
      The YaST module will copy the <span class="emphasis"><em>PKI SSFS keys</em></span> from
      the former secondary node to the former primary node. More information is
      available through the <span class="guimenu">Help</span> button.
     </p></div></li></ol></div></div><p>
   Continue with <a class="xref" href="#sec-upgrade-sap-hana-cluster-upgrading" title="5.2. Upgrading your SAP HANA cluster">Section 5.2, “Upgrading your SAP HANA cluster”</a>.
  </p></section><section class="sect1" id="sec-upgrade-sap-hana-cluster-upgrading" data-id-title="Upgrading your SAP HANA cluster"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5.2 </span><span class="title-name">Upgrading your SAP HANA cluster</span></span> <a title="Permalink" class="permalink" href="#sec-upgrade-sap-hana-cluster-upgrading">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_upgrade_sap_hana_cluster.xml" title="Edit source document"> </a></div></div></div></div></div><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Review the update plan generated by the wizard.
    </p><p>
     The wizard shows you two steps: automatic and manual. In this automatic
     step, the wizard puts cluster resources into maintenance mode before it
     starts with the automatic steps. The manual steps are SAP HANA specific and
     need to be executed by a SAP HANA administrator. For more information, see
     the official SAP HANA documentation.
    </p></li><li class="step"><p>
     Update the SAP HANA software.
    </p><p>
     The wizard executes the automatic actions and waits until the SAP HANA
     administrator performs the SAP HANA upgrade.
    </p></li><li class="step"><p>
     Perform the SAP HANA upgrade.
    </p></li><li class="step"><p>
     Review the plan for the primary (remote) node.
    </p><p>
     After the SAP HANA upgrade is done, the wizard shows the
     update plan. When you continue with this step, the wizard turns the
     primary node into a secondary node to make it ready for the upgrade.
    </p><p>
     Keep in mind that this step can take some time.
    </p></li></ol></div></div><p>
   Continue with <a class="xref" href="#sec-upgrade-sap-hana-cluster-finishing" title="5.3. Finishing the upgrade task">Section 5.3, “Finishing the upgrade task”</a>.
  </p></section><section class="sect1" id="sec-upgrade-sap-hana-cluster-finishing" data-id-title="Finishing the upgrade task"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">5.3 </span><span class="title-name">Finishing the upgrade task</span></span> <a title="Permalink" class="permalink" href="#sec-upgrade-sap-hana-cluster-finishing">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_upgrade_sap_hana_cluster.xml" title="Edit source document"> </a></div></div></div></div></div><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
    Update the former primary node.
   </p><p>
    Pay special attention to the <code class="option">--hdbupd_server_nostart</code>
    option in this step.
   </p></li><li class="step"><p>
    Restore the previous state of the cluster.
   </p><p>
    By default, the wizard registers the former master as now being secondary on
    the SAP HANA system replication. If you wish to revert the system
    replication to its original state, click the <span class="guimenu">Reverse</span>
    button.
   </p></li><li class="step"><p>
     Review the update summary.
    </p><p>
     You can review the original and current SAP HANA versions and the cluster
     state.
    </p><div id="id-1.8.9.3.3.3" data-id-title="Dealing with intermediate cluster state" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Dealing with intermediate cluster state</div><p>
      If the wizard is faster than the status update of the cluster resources,
      the summary shows an intermediate cluster state. The cluster state is
      <code class="literal">UNDEFINED</code> or <code class="literal">DEMOTED</code>.
     </p><p>
      To overcome this, check the cluster status again with the command
      <code class="command">SAPHanaSR-showAttr</code> and make sure the former
      secondary node is now in the state <code class="literal">PROMOTED</code>.
     </p></div></li></ol></div></div><p>
   Refer to the SUSE blog post <a class="link" href="https://www.suse.com/c/how-to-upgrade-your-suse-sap-hana-cluster-in-an-easy-way/" target="_blank">https://www.suse.com/c/how-to-upgrade-your-suse-sap-hana-cluster-in-an-easy-way/</a>
   for further information.
  </p></section></section><section class="chapter" id="cha-serve-mediaset" data-id-title="Setting up an installation server for SAP media sets"><div class="titlepage"><div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">6 </span><span class="title-name">Setting up an installation server for SAP media sets</span></span> <a title="Permalink" class="permalink" href="#cha-serve-mediaset">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_install_network.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  Using the SAP Installation Wizard, it is possible to copy the SAP media sets from a
  remote server (for example, via NFS or SMB).
  However, using the option provided there means that you need to install
  the product at the same time.
  Additionally, it does not allow for copying all SAP media used in your
  organization to a single server.
 </p><p>
  However, you can easily create such a server on your own.
  For example, to put the SAP media sets on an NFS
  Server, proceed as follows:
 </p><div class="procedure" id="pro-nfs-server" data-id-title="Adding SAP product installation files to an NFS server"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 6.1: </span><span class="title-name">Adding SAP product installation files to an NFS server </span></span><a title="Permalink" class="permalink" href="#pro-nfs-server">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_install_network.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
    On your installation server, create the directory
    <code class="filename">/srv/www/htdocs/sap_repo</code>.
   </p></li><li class="step"><p>
    Open the file <code class="filename">/etc/exports</code> and add the following:
   </p><div class="verbatim-wrap"><pre class="screen">/srv/www/htdocs/sap_repo *(ro,no_root_squash,sync,no_subtree_check,insecure)</pre></div><div id="id-1.9.4.3.3" data-id-title="Executable rights must be visible" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Executable rights must be visible</div><p>
     Clients must be able to see which files are executable. Otherwise,
     SUSE's SAP Installation Wizard will not be able to execute the SAP Installer.
    </p></div></li><li class="step"><p>
    In <code class="filename">/srv/www/htdocs/sap_repo</code>, create a directory for
    every SAP medium you have. Give these directories speaking names, so you
    can identify them later on. For example, you could use names like
    <code class="filename">kernel</code>, <code class="filename">java</code>, or
    <code class="filename">hana</code>.
   </p></li><li class="step"><p>
    Copy the contents of each SAP medium to the corresponding directory
    with <code class="command">cp -a</code>.
   </p><div id="id-1.9.4.5.2" data-id-title="Avoid using Windows* operating systems for copying" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Avoid using Windows* operating systems for copying</div><p>
     Using a Windows operating system for copying from/to Windows
     file systems like NTFS can break permission settings and capitalization
     of files and directories.
    </p></div></li></ol></div></div><p>
  You can now install from the NFS server you set up.
  In the SAP Installation Wizard, specify the path this way:
  <code class="filename"><em class="replaceable">server_name</em>/srv/www/htdocs/sap_repo</code>.
  For more information about specifying the path, see
  <a class="xref" href="#tab-sap-media-source" title="Media source path">Table 4.1, “Media source path”</a>.
 </p><p>
  For information about setting up an NFS server from scratch, see
  <em class="citetitle">
   Administration Guide,
   Part <span class="quote">“<span class="quote">Services</span>”</span>,
   Chapter <span class="quote">“<span class="quote">Sharing File Systems with NFS</span>”</span>,
   Section <span class="quote">“<span class="quote">Installing NFS Server</span>”</span>
  </em> (<a class="link" href="https://documentation.suse.com/sles-15" target="_blank">https://documentation.suse.com/sles-15</a>).
 </p><p>
  For information about installing SUSE Linux Enterprise Server from an NFS server, see
  <em class="citetitle">Deployment Guide, Chapter <span class="quote">“<span class="quote">Remote Installation</span>”</span>,
  Section <span class="quote">“<span class="quote">Setting Up an NFS Repository Manually</span>”</span>
  </em> (<a class="link" href="https://documentation.suse.com/sles-15" target="_blank">https://documentation.suse.com/sles-15</a>).
 </p></section><section class="chapter" id="cha-cluster" data-id-title="Setting up an SAP HANA cluster"><div class="titlepage"><div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">7 </span><span class="title-name">Setting up an SAP HANA cluster</span></span> <a title="Permalink" class="permalink" href="#cha-cluster">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_setup_cluster.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  You can use a YaST wizard to set up SAP HANA or SAP S/4HANA Database Server clusters according
  to best practices, including SAP HANA system replication. A summary of the
  setup options is given in <a class="xref" href="#sec-hana-replicate" title="1.1.3. Simplified SAP HANA system replication setup">Section 1.1.3, “Simplified SAP HANA system replication setup”</a>.
 </p><p>
  Administrators can now use the SAP HANA-SR Wizard to run the module unattended,
  usually for on-premises deployments.
  Additionally, it is possible to configure the SAP HANA cluster on Azure now.
  The YaST module identifies automatically when running on Azure and
  configures an extra resource needed on Pacemaker.
 </p><p>
  The following <span class="emphasis"><em>Best Practices</em></span> from the SUSE Linux Enterprise Server for SAP Applications
  Resource Library (<a class="link" href="https://www.suse.com/products/sles-for-sap/resource-library/" target="_blank">https://www.suse.com/products/sles-for-sap/resource-library/</a>) contain setup instructions:
 </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><span class="formalpara-title">Performance-optimized scenario and multi-tier/chained scenario:</span>
     <em class="citetitle">Setting up a SAP HANA SR Performance Optimized
     Infrastructure</em>
    </p></li><li class="listitem"><p><span class="formalpara-title">Cost-optimized scenario:</span>
     <em class="citetitle">Setting up a SAP HANA SR Cost Optimized
     Infrastructure</em>
    </p></li></ul></div><div id="id-1.10.6" data-id-title="Wizard can only be used for initial configuration" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Wizard can only be used for initial configuration</div><p>
   The YaST wizard described in the following can only be used for the
   initial cluster configuration.
  </p><p>
   To reconfigure a cluster, use the separate
   YaST module <span class="guimenu">Cluster</span> (available from package
   <span class="package">yast2-cluster</span>).
   For more information about its usage, see <em class="citetitle">Administration Guide, Part
   <span class="quote">“<span class="quote">Installation, Setup and Upgrade</span>”</span>, Chapter <span class="quote">“<span class="quote">Using the
   YaST Cluster Module</span>”</span></em> at <a class="link" href="https://documentation.suse.com/sle-ha-15" target="_blank">https://documentation.suse.com/sle-ha-15</a>.
  </p></div><section class="sect1" id="sec-hana-cluster-prerequisite" data-id-title="Prerequisites"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">7.1 </span><span class="title-name">Prerequisites</span></span> <a title="Permalink" class="permalink" href="#sec-hana-cluster-prerequisite">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_setup_cluster.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The following procedure has prerequisites:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     Two machines which both have an SAP HANA installation created by the
     SAP Installation Wizard or SAP HANA Application Lifecycle Management. Both machines need to be on the same L2 network
     (subnet).
    </p><p>
     In the case of a multi-tier/chained scenario, there must also be a third
     machine elsewhere.
    </p></li><li class="listitem"><p>
     The machines are not yet set up as a high-availability cluster.
    </p></li><li class="listitem"><p>
     <span class="productname">openSSH</span> is running on both machines
     and the nodes can reach each other via SSH. However, if that has not
     already happened, the wizard will perform the SSH key exchange itself.
    </p><p>
     For more information about SSH, see <em class="citetitle">Security and Hardening Guide, Part
     <span class="quote">“<span class="quote">Network Security</span>”</span>, Chapter <span class="quote">“<span class="quote">SSH: Secure Network
     Operations</span>”</span></em> at <a class="link" href="https://documentation.suse.com/sles-15" target="_blank">https://documentation.suse.com/sles-15</a>.
    </p></li><li class="listitem"><p>
     A disk device that is available to both nodes under the same path for
     SBD. It must not use host-based RAID, cLVM2 or reside on a DRBD
     instance. The device can have a small size, for example, 100 MB.
    </p></li><li class="listitem"><p>
     You have created either:
    </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
       A key in the SAP HANA Secure User Store on the primary node
      </p></li><li class="listitem"><p>
       An initial SAP HANA backup on the primary node
      </p></li></ul></div></li><li class="listitem"><p>
     The package <span class="package">yast2-sap-ha</span> is installed on both
     the primary and the secondary node.
    </p></li><li class="listitem"><p>
     HANA-Firewall is set up on both computers with the rules
     <code class="option">HANA_HIGH_AVAILABILITY</code> and
     <code class="option">HANA_SYSTEM_REPLICATION</code> on all relevant network
     interfaces.
    </p><p>
     For information about setting up HANA-Firewall, see
     <a class="xref" href="#sec-configure-firewall-hana" title="11.2. Configuring HANA-Firewall">Section 11.2, “Configuring HANA-Firewall”</a>.
    </p></li><li class="listitem"><p>
     <span class="emphasis"><em>Cost-optimized scenario only:</em></span> The secondary node
     has a second SAP HANA installation. The database may be running but
     will be stopped automatically by the wizard.
    </p></li><li class="listitem"><p>
     <span class="emphasis"><em>Cost-optimized scenario only:</em></span> For the
     non-production SAP HANA instance, you have created an SAP HANA Secure User
     Store key <code class="literal">QASSAPDBCTRL</code> for monitoring purposes. For
     more information, see <em class="citetitle">SAP HANA SR Cost Optimized Scenario,
     Chapter <span class="quote">“<span class="quote">Installing the SAP HANA Databases on both cluster
     nodes</span>”</span>, Section <span class="quote">“<span class="quote">Postinstallation configuration</span>”</span>,
     Section <span class="quote">“<span class="quote">Install the non-productive SAP HANA database
     (QAS)</span>”</span></em> at <a class="link" href="https://www.suse.com/products/sles-for-sap/resource-library/" target="_blank">https://www.suse.com/products/sles-for-sap/resource-library/</a>.
    </p></li></ul></div></section><section class="sect1" id="sec-hana-cluster-wizard" data-id-title="Setup"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">7.2 </span><span class="title-name">Setup</span></span> <a title="Permalink" class="permalink" href="#sec-hana-cluster-wizard">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_setup_cluster.xml" title="Edit source document"> </a></div></div></div></div></div><div class="procedure" id="pro-hana-cluster"><div class="procedure-contents"><p>
    The following procedure needs to be executed on the primary node (also
    called the <span class="quote">“<span class="quote">master</span>”</span>). Before proceeding, make sure the
    prerequisites listed in
    <a class="xref" href="#sec-hana-cluster-prerequisite" title="7.1. Prerequisites">Section 7.1, “Prerequisites”</a> are fulfilled.
   </p><ol class="procedure" type="1"><li class="step"><p>
     Open the YaST control center. In it, click <span class="guimenu">HA Setup for SAP
     Products</span> in the category
     <span class="guimenu">High Availability</span>.
    </p></li><li class="step"><p>
     If an SAP HANA instance has been detected, you can choose between the
     scale-up scenarios <span class="guimenu">Performance-optimized</span>,
     <span class="guimenu">Cost-optimized</span>, or
     <span class="guimenu">Chained (multi-tier)</span>. For information about
     these scale-up scenarios, see <a class="xref" href="#sec-hana-replicate" title="1.1.3. Simplified SAP HANA system replication setup">Section 1.1.3, “Simplified SAP HANA system replication setup”</a>.
    </p><p>
     Continue with <span class="guimenu">Next</span>.
    </p><div class="informalfigure"><div class="mediaobject"><a href="images/s4s-cluster-scenario.png"><img src="images/s4s-cluster-scenario.png" alt="Screenshot of replication scenario selection" title="Screenshot of replication scenario selection"/></a></div></div></li><li class="step"><p>
     This step of the wizard presents a list of prerequisites for the chosen
     scale-up scenario. These prerequisites are the same as those presented in
     <a class="xref" href="#sec-hana-cluster-prerequisite" title="7.1. Prerequisites">Section 7.1, “Prerequisites”</a>.
    </p><p>
     Continue with <span class="guimenu">Next</span>.
    </p></li><li class="step"><p>
     The next step lets you configure the communication layer of your cluster.
    </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
       Provide a name for the cluster.
      </p></li><li class="listitem"><p>
       The default transport mode <span class="guimenu">Unicast</span> is usually
       appropriate.
      </p></li><li class="listitem"><p>
       Under <span class="guimenu">Number of rings</span>, a single communication ring
       usually suffices.
      </p><p>
       For redundancy, it is often better to use network interface bonding
       instead of multiple communication rings. For more information, see
       <em class="citetitle">Administration Guide, Part <span class="quote">“<span class="quote">Configuration and
       Administration</span>”</span>, Chapter <span class="quote">“<span class="quote">Network Device
       Bonding</span>”</span></em> at <a class="link" href="https://documentation.suse.com/sle-ha-15" target="_blank">https://documentation.suse.com/sle-ha-15</a>.
      </p></li><li class="listitem"><p>
       From the list of communication rings, configure each enabled ring. To
       do so, click <span class="guimenu">Edit selected</span>, then select a network
       mask (<span class="guimenu">IP address</span>) and a port
       (<span class="guimenu">Port number</span>) to communicate over.
      </p><p>
       Finish with <span class="guimenu">OK</span>.
      </p></li><li class="listitem"><p>
       Additionally, decide whether to enable the configuration
       synchronization service Csync2 and Corosync secure authentication
       using HMAC/SHA1.
      </p><p>
       For more information about Csync2, see
       <em class="citetitle">Administration Guide Part <span class="quote">“<span class="quote">Installation, Setup and
       Upgrade</span>”</span>, Chapter <span class="quote">“<span class="quote">Using the YaST Cluster
       Module</span>”</span>, Section <span class="quote">“<span class="quote">Transferring the Configuration to All
       Nodes</span>”</span></em> at <a class="link" href="https://documentation.suse.com/sle-ha-15" target="_blank">https://documentation.suse.com/sle-ha-15</a>.
      </p><p>
       For more information about
       Corosync secure authentication, see
       <em class="citetitle">Administration Guide, Part <span class="quote">“<span class="quote">Installation, Setup and
       Upgrade</span>”</span>, Chapter <span class="quote">“<span class="quote">Using the YaST Cluster
       Module</span>”</span>, Section <span class="quote">“<span class="quote">Defining Authentication
       Settings</span>”</span></em> at <a class="link" href="https://documentation.suse.com/sle-ha-15" target="_blank">https://documentation.suse.com/sle-ha-15</a>.
      </p></li></ul></div><p>
     Proceed with <span class="guimenu">Next</span>.
    </p><div class="informalfigure"><div class="mediaobject"><a href="images/s4s-cluster-communication.png"><img src="images/s4s-cluster-communication.png" alt="Screenshot of communication layer configuration" title="Screenshot of communication layer configuration"/></a></div></div></li><li class="step"><p>
     The wizard will now check whether it can connect to the secondary
     machine using SSH. If it can, it will ask for the
     <code class="systemitem">root</code> password to the machine.
    </p><p>
     Enter the <code class="systemitem">root</code> password.
    </p><p>
     The next time the primary machine needs to connect to the secondary
     machine, it will connect using an SSH certificate instead of a password.
    </p></li><li class="step"><p>
     For both machines, set up the host names and IP address (for each ring).
    </p><p>
     Host names chosen here are independent from the virtual host names
     chosen in SAP HANA. However, to avoid issues with SAP HANA, host names must
     not include hyphen characters (<code class="literal">-</code>).
     
     
    </p><p>
     If this has not already been done before, such as during the initial
     installation of SAP HANA, host names of all cluster servers must now be
     added to the file <code class="filename">/etc/hosts</code>. For this purpose,
     activate <span class="guimenu">Append to /etc/hosts</span>.
    </p><p>
     Proceed with <span class="guimenu">Next</span>.
    </p></li><li class="step"><p>
     If NTP is not yet set up, do so. This avoids the two machines from running
     into issues because of time differences.
    </p><ol type="a" class="substeps"><li class="step"><p>
        Click <span class="guimenu">Reconfigure</span>.
      </p></li><li class="step"><p>
       On the tab <span class="guimenu">General Settings</span>, activate <span class="guimenu">Now and on Boot</span>.
      </p></li><li class="step"><p>
       Add a time server by clicking <span class="guimenu">Add</span>. Click
       <span class="guimenu">Server</span> and <span class="guimenu">Next</span>. Then specify the
       IP address of a time server outside of the cluster. Test the connection to the
       server by clicking <span class="guimenu">Test</span>.
      </p><p>
       To use a public time server, click
       <span class="guimenu">Select</span> › <span class="guimenu">Public server</span> and select a time server.
       Finish with <span class="guimenu">OK</span>.
      </p><p>
       Proceed with <span class="guimenu">OK</span>.
      </p></li><li class="step"><p>
       On the tab <span class="guimenu">Security Settings</span>, activate
       <span class="guimenu">Open Port in Firewall</span>.
      </p></li><li class="step"><p>
       Proceed with <span class="guimenu">Next</span>.
      </p></li></ol></li><li class="step"><p>
     In the next step, choose fencing options. The YaST wizard only
     supports the fencing mechanism SBD (<span class="emphasis"><em>STONITH block
     device</em></span>). To avoid split-brain situations, SBD uses a disk
     device which stores cluster state.
    </p><p>
     The chosen disk must be available from all machines in the cluster under
     the same path. Ideally, use either <span class="guimenu">by-uuid</span> or
     <span class="guimenu">by-path</span> for identification.
    </p><p>
     The disk must not use host-based RAID, cLVM2 or reside on
     a DRBD instance. The device can have a small size, for example,
     100 MB.
    </p><div id="id-1.10.8.2.9.4" data-id-title="Data on device will be lost" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.svg"/><div class="admon-title">Warning: Data on device will be lost</div><p>
      All data on the chosen SBD device or devices will be deleted.
     </p></div><p>
     To define a device to use, click <span class="guimenu">Add</span>, then choose an
     identification method such as <span class="guimenu">by-uuid</span> and select the
     appropriate device. Click <span class="guimenu">OK</span>.
    </p><p>
     To define additional SBD command-line parameters, add them to
     <span class="guimenu">SBD options</span>.
    </p><p>
     If your machines reboot particularly fast, activate <span class="guimenu">Delay SBD
     start</span>.
    </p><p>
     For more information about fencing, see the
     <em class="citetitle">Administration Guide</em> at <a class="link" href="https://documentation.suse.com/sle-ha-15" target="_blank">https://documentation.suse.com/sle-ha-15</a>.
    </p><p>
     Proceed with <span class="guimenu">Next</span>.
    </p></li><li class="step"><p>
     The following page allows configuring watchdogs which protect against
     the failure of the SBD daemon itself and force a reboot of the machine
     in such a case.
    </p><p>
     It also lists watchdogs already configured using YaST and watchdogs that
     are currently loaded (as detected by <code class="command">lsmod</code>).
    </p><p>
     To configure a watchdog, use <span class="guimenu">Add</span>. Then choose
     the correct watchdog for your hardware and leave the dialog with
     <span class="guimenu">OK</span>.
    </p><p>
     For testing, you can use the watchdog
     <code class="literal">softdog</code>. However, we highly recommend using a
     hardware watchdog in production environments instead of
     <code class="literal">softdog</code>. For more information about
     selecting watchdogs, see <em class="citetitle">Administration Guide, Part <span class="quote">“<span class="quote">Storage and
     Data Replication</span>”</span>, Chapter
     <span class="quote">“<span class="quote">Storage Protection</span>”</span>, Section
     <span class="quote">“<span class="quote">Conceptual Overview</span>”</span>, Section <span class="quote">“<span class="quote">Setting Up
     Storage-based Protection</span>”</span>, Section <span class="quote">“<span class="quote">Setting up the
     Watchdog</span>”</span></em> at <a class="link" href="https://documentation.suse.com/sle-ha-15" target="_blank">https://documentation.suse.com/sle-ha-15</a>.
    </p><p>
     Proceed with <span class="guimenu">Next</span>.
    </p></li><li class="step"><p>
     Set up the parameters for your SAP HANA installation or installations. If
     you have selected the cost-optimized scenario, additionally fill out
     details related to the non-production SAP HANA instance.
    </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.10.8.2.11.2.1"><span class="term">Production SAP HANA instance</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
          Make sure that the <span class="guimenu">System ID</span> and
          <span class="guimenu">Instance number</span> match those of your SAP HANA
          configuration.
         </p></li><li class="listitem"><p>
          <span class="guimenu">Replication mode</span> and
          <span class="guimenu">Operation mode</span> usually do not need to be changed.
         </p><p>
          For more information about these parameters, see the
          <em class="citetitle">HANA Administration Guide</em> provided to you by
          SAP.
         </p></li><li class="listitem"><p>
          Under <span class="guimenu">Virtual IP address</span>, specify a virtual IP
          address for the primary SAP HANA instance. Under <span class="guimenu">Virtual IP
          Mask</span>, set the length of the subnetwork mask in CIDR
          format to be applied to the <span class="guimenu">Virtual IP address</span>.
         </p></li><li class="listitem"><p>
          <span class="guimenu">Prefer site takeover</span> defines whether the
          secondary instance should take over the job of the primary instance
          automatically (<span class="guimenu">true</span>). Alternatively, the cluster
          will restart SAP HANA on the primary machine.
         </p></li><li class="listitem"><p>
          <span class="guimenu">Automatic registration</span> determines whether primary
          and secondary machine should switch roles after a takeover.
         </p></li><li class="listitem"><p>
          Specify the site names for the production SAP HANA instance on the
          two nodes in <span class="guimenu">Site name 1</span> and <span class="guimenu">Site name
          2</span>.
         </p></li><li class="listitem"><p>
          Having a backup of the database is a precondition for setting up
          SAP HANA replication.
         </p><p>
          If you have not previously created a backup, activate
          <span class="guimenu">Create initial backup</span>. Under
          <span class="guimenu">Backup settings</span>, configure the
          <span class="guimenu">File name</span> and the <span class="guimenu">Secure store
          key</span> for the backup. The key in the SAP HANA Secure User
          Store on the primary node must have been created before starting
          the wizard.
         </p><p>
          For more information, see the documentation provided to you by SAP.
         </p></li><li class="listitem"><p>
          <span class="emphasis"><em>Cost-optimized scenario only:</em></span> Within
          <span class="guimenu">Production system constraints</span>, configure how the
          production instance of SAP HANA should behave while inactive on the
          secondary node.
         </p><p>
          Setting the <span class="guimenu">Global allocation limit</span> allows
          directly limiting memory usage. Activating <span class="guimenu">Preload column
          tables</span> will increase memory usage.
         </p><p>
          For information about the necessary global allocation limit, see
          documentation provided to you by SAP such as <em class="citetitle">How to
          Perform System Replication for SAP HANA</em> at
          <a class="link" href="https://archive.sap.com/documents/docs/DOC-47702" target="_blank">https://archive.sap.com/documents/docs/DOC-47702</a>.
         </p></li></ul></div></dd><dt id="id-1.10.8.2.11.2.2"><span class="term"><span class="emphasis"><em>Cost-optimized scenario only:</em></span> non-production SAP HANA instance</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
          Make sure that the <span class="guimenu">System ID</span> and
          <span class="guimenu">Instance number</span> match those of your
          non-production SAP HANA instance.
         </p><p>
          These parameters are needed to allow monitoring the status of the
          non-production SAP HANA instance using the SAPInstance resource agent.
         </p></li><li class="listitem"><p>
          Generate a hook script for stopping the non-production instance and
          starting the production instance and removing the constraints on
          the production system. The script is written in Python 2 and can
          be modified as necessary later.
         </p><p>
          Click <span class="guimenu">Hook script</span> and then set up the correct
          user name and password for the database. Then click
          <span class="guimenu">OK</span>.
         </p><p>
          You can now manually verify and change the details of the generated
          hook script. When you are done, click <span class="guimenu">OK</span> to save
          the hook script at
          <code class="filename">/hana/shared/<em class="replaceable">SID</em>/srHook</code>.
         </p><div id="id-1.10.8.2.11.2.2.2.1.2.4" data-id-title="Passwords stored in plain text" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.svg"/><div class="admon-title">Warning: Passwords stored in plain text</div><p>
           By default, the hook script stores all credentials in plain text.
           To improve security, modify the script yourself.
          </p></div></li></ul></div></dd></dl></div><p>
     Proceed with <span class="guimenu">Next</span>.
    </p><div class="figure" id="id-1.10.8.2.11.4"><div class="figure-contents"><div class="mediaobject"><a href="images/s4s-cluster-hana-option.png"><img src="images/s4s-cluster-hana-option.png" alt="Screenshot of SAP HANA options (cost-optimized scenario)" title="Screenshot of SAP HANA options (cost-optimized scenario)"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 7.1: </span><span class="title-name">SAP HANA options (cost-optimized scenario) </span></span><a title="Permalink" class="permalink" href="#id-1.10.8.2.11.4">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_setup_cluster.xml" title="Edit source document"> </a></div></div></div></li><li class="step"><p>
     On the page <span class="guimenu">High-Availability Configuration
     Overview</span>, check that the setup is correct.
    </p><p>
     To change any of the configuration details, return to the appropriate
     wizard page by clicking one of the underlined headlines.
    </p><p>
     Proceed with <span class="guimenu">Install</span>.
    </p></li><li class="step"><p>
     When asked whether to install additional software, confirm with
     <span class="guimenu">Install</span>.
    </p></li><li class="step"><p>
     After the setup is done, there is a screen showing a log of the cluster
     setup.
    </p><p>
     To close the dialog, click <span class="guimenu">Finish</span>.
    </p></li><li class="step"><p>
     <span class="emphasis"><em>Multi-tier/chain scenario only:</em></span> Using the
     administrative user account for the production SAP HANA instance, register
     the out-of-cluster node for system replication:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user"><em class="replaceable">SID</em>adm &gt; </code><code class="command">hdbnsutil</code> -sr_register --remoteHost=<em class="replaceable">SECONDARY_HOST_NAME</em> \
--remoteInstance=<em class="replaceable">INSTANCE_NUMBER</em> --replicationMode=async \
--name=<em class="replaceable">SITE_NAME</em></pre></div></li></ol></div></div></section><section class="sect1" id="sec-hana-cluster-wizard-semiautomatic" data-id-title="Unattended setup using SAP HANA-SR wizard"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">7.3 </span><span class="title-name">Unattended setup using SAP HANA-SR wizard</span></span> <a title="Permalink" class="permalink" href="#sec-hana-cluster-wizard-semiautomatic">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_setup_cluster.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   An unattended setup requires a manual installation of HANA first.
   The result is saved into a file containing all configuration options that
   were chosen.
   If the administrator needs to reproduce the installation, with this file
   the installation can be run automatically and unattended.
  </p><p>
   To use it, perform the following steps on both nodes:
  </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     On the production machines with SAP HANA installed, create a configuration
     file by running the <code class="literal">sap_ha</code> YaST module.
     
    </p></li><li class="step"><p>
     On the last screen, click the <span class="guimenu">Save configuration</span> button.
    </p></li><li class="step"><p>Decide what you want to do:</p><ul class="stepalternatives">
     <li class="step"><p>
       To review the configuration, upload and validate the configuration
       on the primary SAP HANA machine and run:
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">yast2 sap_ha readconfig <em class="replaceable">CONFIGURATION_FILE_PATH</em></code></pre></div><p>It is possible to start the installation on the review screen.</p></li>
     <li class="step"><p>
       To start the installation based on the provided configuration file
       unattended, run:
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">yast2 sap_ha readconfig <em class="replaceable">CONFIGURATION_FILE_PATH</em> unattended</code></pre></div></li>
    </ul></li><li class="step"><p>
     Import, validate, and install the cluster unattended,
     based on the provided configuration file:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">yast2 sap_ha readconfig <em class="replaceable">CONFIGURATION_FILE_PATH</em> unattended</code></pre></div></li></ol></div></div></section><section class="sect1" id="sec-hawk" data-id-title="Using Hawk"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">7.4 </span><span class="title-name">Using Hawk</span></span> <a title="Permalink" class="permalink" href="#sec-hawk">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_setup_cluster.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   After you have set up the cluster using the wizard, you can open Hawk
   directly from the last screen of the <span class="guimenu">HA Setup for SAP
   Products</span> wizard.
  </p><p>
   To revisit Hawk, open a browser and as the URL, enter the IP address
   or host name of any cluster node running the Hawk Web service.
   Alternatively, enter the virtual IP address you configured in
   <a class="xref" href="#sec-hana-cluster-wizard" title="7.2. Setup">Section 7.2, “Setup”</a>.
  </p><div class="verbatim-wrap"><pre class="screen">https://<em class="replaceable">HAWKSERVER</em>:7630/</pre></div><p>
   On the Hawk login screen, use the following login credentials:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     <span class="guimenu">Username</span>: <code class="systemitem">hacluster</code>
    </p></li><li class="listitem"><p>
     <span class="guimenu">Password</span>: <code class="literal">linux</code>
    </p></li></ul></div><div id="id-1.10.10.7" data-id-title="Secure password" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Secure password</div><p>
    Replace the default password with a secure one as soon as possible:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">passwd hacluster</code></pre></div></div></section><section class="sect1" id="sec-moreinfo" data-id-title="For more information"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">7.5 </span><span class="title-name">For more information</span></span> <a title="Permalink" class="permalink" href="#sec-moreinfo">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_setup_cluster.xml" title="Edit source document"> </a></div></div></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><span class="formalpara-title">Hawk. </span>
      <em class="citetitle">Administration Guide</em>,
      Part <em class="citetitle">Configuration and Administration</em>,
      Chapter <em class="citetitle">Configuring and Managing Cluster Resources with
   Hawk</em> (<a class="link" href="https://documentation.suse.com/sle-ha-15" target="_blank">https://documentation.suse.com/sle-ha-15</a>).
     </p></li><li class="listitem"><p><span class="formalpara-title">Near zero downtime for SAP HANA system replication. </span><a class="link" href="https://help.sap.com/viewer/2c1988d620e04368aa4103bf26f17727/2.0.03/en-US/ee3fd9a0c2e74733a74e4ad140fde60b.html" target="_blank">Use SAP HANA System Replication for Near Zero Downtime Upgrades</a>.
     </p></li><li class="listitem"><p><span class="formalpara-title">Implementing the Python hook SAPHanaSR. </span><a class="link" href="https://documentation.suse.com/sbp/all/html/SLES4SAP-hana-sr-guide-PerfOpt-15/" target="_blank">https://documentation.suse.com/sbp/all/html/SLES4SAP-hana-sr-guide-PerfOpt-15/</a></p></li></ul></div></section></section><section class="chapter" id="cha-tune-sapconf" data-id-title="Tuning systems with sapconf"><div class="titlepage"><div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">8 </span><span class="title-name">Tuning systems with <code class="literal">sapconf</code></span></span> <a title="Permalink" class="permalink" href="#cha-tune-sapconf">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune_sapconf.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The package <code class="systemitem">sapconf</code> is available in SUSE Linux Enterprise Server and SUSE Linux Enterprise Server for SAP Applications.
   It sets recommended parameters for the following types of SAP applications:
   SAP NetWeaver, SAP HANA and SAP HANA-based applications.
  </p><div id="id-1.11.3" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note</div><p>This chapter describes <code class="literal">sapconf</code> version 5.</p></div><div id="id-1.11.4" data-id-title="The sapconf command has been removed" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: The <code class="command">sapconf</code> command has been removed</div><p>
    In SUSE Linux Enterprise Server and SUSE Linux Enterprise Server for SAP Applications 11 and 12, the <code class="command">sapconf</code> command
    was included in the package with the same name.
  </p><p>
    For SUSE Linux Enterprise Server and SUSE Linux Enterprise Server for SAP Applications 15 this has been changed:
    the command <code class="command">sapconf</code> have been removed from the
    <span class="package">sapconf</span> package. The package contains a <code class="systemitem">systemd</code> service
    only. There is no <code class="literal">sapconf</code> command line tool anymore, no <code class="literal">sapconf</code>/<code class="systemitem">tuned</code> profiles,
    and no <code class="systemitem">tuned</code>.
   </p></div><section class="sect1" id="sec-sapconf-5-overview" data-id-title="Overview of sapconf"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">8.1 </span><span class="title-name">Overview of <code class="literal">sapconf</code></span></span> <a title="Permalink" class="permalink" href="#sec-sapconf-5-overview">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune_sapconf.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   To use <code class="literal">sapconf</code>, make sure
   that the package <span class="package">sapconf</span> is installed on your system.
   </p><div class="variablelist"><div class="title-container"><div class="variablelist-title-wrap"><div class="variablelist-title"><span class="title-number-name"><span class="title-name">Overview of <code class="literal">sapconf</code>5 in SUSE® Linux Enterprise Server 12 </span></span><a title="Permalink" class="permalink" href="#id-1.11.5.3">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune_sapconf.xml" title="Edit source document"> </a></div></div><dl class="variablelist"><dt id="id-1.11.5.3.2"><span class="term"><code class="literal">sapconf</code>5 (without <code class="systemitem">tuned</code>)</span></dt><dd><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><code class="systemitem">sapconf-netweaver</code> (<code class="literal">sapconf</code> profile as a replacement for <code class="systemitem">tuned</code> profile)</p></li><li class="listitem"><p><code class="systemitem">sapconf-hana</code> (<code class="literal">sapconf</code> profile as a replacement for <code class="systemitem">tuned</code> profile)</p></li><li class="listitem"><p><code class="systemitem">sapconf-bobj</code> (<code class="literal">sapconf</code> profile as a replacement for <code class="systemitem">tuned</code> profile)</p></li><li class="listitem"><p><code class="systemitem">sapconf-ase</code> (<code class="literal">sapconf</code> profile as a replacement for <code class="systemitem">tuned</code> profile)</p></li></ul></div></dd></dl></div><div class="variablelist"><div class="title-container"><div class="variablelist-title-wrap"><div class="variablelist-title"><span class="title-number-name"><span class="title-name">Overview of <code class="literal">sapconf</code>5 in SUSE® Linux Enterprise Server 15 </span></span><a title="Permalink" class="permalink" href="#id-1.11.5.4">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune_sapconf.xml" title="Edit source document"> </a></div></div><dl class="variablelist"><dt id="id-1.11.5.4.2"><span class="term"><code class="literal">sapconf</code>5 (without <code class="systemitem">tuned</code>)</span></dt><dd><p>no profiles anymore</p></dd></dl></div><p>
   Note that if you previously made changes to the system tuning, those
   changes may be overwritten by <code class="literal">sapconf</code>.
  </p><p>
   <code class="literal">sapconf</code> 5 ships a <code class="systemitem">systemd</code> service which applies the tuning and ensures that
   related services are running.
  </p><div id="id-1.11.5.7" data-id-title="No profiles in SUSE Linux Enterprise Server and SUSE Linux Enterprise Server for SAP Applications 15 SP2" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: No profiles in SUSE Linux Enterprise Server and SUSE Linux Enterprise Server for SAP Applications 15 SP2</div><p>
    In SUSE Linux Enterprise Server and SUSE Linux Enterprise Server for SAP Applications 15, <code class="literal">sapconf</code> no longer supports profiles.
   </p></div></section><section class="sect1" id="sec-sapconf-5-verify" data-id-title="Verifying sapconf setup"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">8.2 </span><span class="title-name">Verifying <code class="literal">sapconf</code> setup</span></span> <a title="Permalink" class="permalink" href="#sec-sapconf-5-verify">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune_sapconf.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    With <code class="literal">sapconf</code> 5.0.2 onwards the check tool <code class="command">sapconf_check</code> is available,
    which verifies the correct setup of <code class="literal">sapconf</code>. For example:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">sapconf_check</code>
This is sapconf_check v1.0.
It verifies if sapconf is set up correctly and will give advice to do so.
Please keep in mind:
- This tool does not check, if the tuning itself works correctly.
- Follow the hints from top to down to minimize side effects.
Checking sapconf
================
[ OK ] sapconf package has version 5.0.2
[ OK ] saptune.service is inactive
[ OK ] saptune.service is disabled
[WARN] tuned.service is enabled/active with profile 'virtual-guest -&gt; Sapconf does not require tuned! Run 'systemctl stop tuned.service', if not needed otherwise.
[FAIL] sapconf.service is inactive -&gt; Run 'systemctl start sapconf.service' to activate the tuning now.
[FAIL] sapconf.service is disabled -&gt; Run 'systemctl enable sapconf.service' to activate sapconf at boot.1 warning(s) have been found.
2 error(s) have been found.
Sapconf will not work properly!</pre></div><p>
    If <code class="command">sapconf_check</code> finds problems, it will give hints how to resolve the issue.
    The tool will not verify if the system has been tuned correctly. It only checks that <code class="literal">sapconf</code>
    is setup correctly and has been started.
   </p></section><section class="sect1" id="sec-sapconf-5-enable" data-id-title="Enabling and disabling sapconf and viewing its status"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">8.3 </span><span class="title-name">Enabling and disabling <code class="literal">sapconf</code> and viewing its status</span></span> <a title="Permalink" class="permalink" href="#sec-sapconf-5-enable">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune_sapconf.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    After the installation of <code class="literal">sapconf</code>, the <code class="literal">sapconf</code> service is enabled.
   </p><p>
    You can inspect or change the status of <code class="literal">sapconf</code> as described in the
    following:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
      To see the status of the service
      <code class="systemitem">sapconf</code>:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">systemctl status sapconf</code></pre></div><p>
      The service should be displayed as <span class="emphasis"><em>active (exited)</em></span>.
     </p></li><li class="listitem"><p>
      To start the service
      <code class="systemitem">sapconf</code>:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">systemctl start sapconf</code></pre></div></li><li class="listitem"><p>
      Should <code class="systemitem">sapconf</code> be disabled,
      enable and start it with:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">systemctl enable --now sapconf</code></pre></div></li><li class="listitem"><p>
      To stop the service
      <code class="systemitem">sapconf</code>:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">systemctl stop sapconf</code></pre></div><p>
      This command will disable the vast majority of optimizations immediately. The only
      exceptions from this rule are options that require a system reboot to enable/disable.
     </p></li><li class="listitem"><p>
      To disable <code class="systemitem">sapconf</code>, use:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">systemctl disable sapconf</code></pre></div><p>
      If you have not specifically enabled any of the services that <code class="literal">sapconf</code>
      depends on yourself, this will also disable most tuning parameters and
      all services used by <code class="literal">sapconf</code>.
     </p></li></ul></div><div id="id-1.11.7.5" data-id-title="Additional services that sapconf relies on" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><div class="admon-title">Tip: Additional services that <code class="literal">sapconf</code> relies on</div><p>
     In addition to the <code class="literal">sapconf</code> service it also relies on the following two services:
    </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
       <code class="systemitem">sysstat</code> which collects data on
       system activity.
      </p></li><li class="listitem"><p>
       <code class="systemitem">uuidd</code> which generates time-based
       UUIDs that are guaranteed to be unique even in settings where many
       processor cores are involved. This is necessary for SAP applications.
      </p></li></ul></div></div></section><section class="sect1" id="sec-sapconf-5-configure" data-id-title="Configuring sapconf"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">8.4 </span><span class="title-name">Configuring <code class="literal">sapconf</code></span></span> <a title="Permalink" class="permalink" href="#sec-sapconf-5-configure">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune_sapconf.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    In general, the default configuration of <code class="literal">sapconf</code> already uses the
    parameter values recommended by SAP. However, if you have special
    needs, you can configure the tool to better suit those.
   </p><p>
    All parameters of <code class="literal">sapconf</code> can be found in the file
    <code class="filename">/etc/sysconfig/sapconf</code>.
    The file can be edited directly. All parameters in this file are
    explained by means of comments and references to SAP Notes which can
    be viewed at <a class="link" href="https://launchpad.support.sap.com/" target="_blank">https://launchpad.support.sap.com/</a>.
   </p><p>
    When <code class="literal">sapconf</code> is updated, all customized parameters from this file will
    be preserved as much as possible. However, sometimes parameters cannot
    be transferred cleanly to the new configuration file. Therefore, after
    updating it is advisable to check the difference between the previous
    custom configuration which during the update is moved to
    <code class="filename">/etc/sysconfig/sapconf.rpmsave</code>
    and the new version at <code class="filename">/etc/sysconfig/sapconf</code>.
   </p><p>
    Log messages related to this file are written to
    <code class="filename">/var/log/sapconf.log</code>.
   </p><p>
    When editing either of these files, you will find that some values are
    commented by means of a <code class="literal">#</code> character at the beginning of
    the line. This means that while the parameter is relevant for tuning, there
    is no suitable default for it.
   </p><p>
    Conversely, you can add <code class="literal">#</code> characters to the beginning of
    the line to comment specific parameters. However, you should avoid this
    practice, as it can lead to <code class="literal">sapconf</code> not properly applying the profile.
   </p><p>
    To apply edited configuration, restart <code class="literal">sapconf</code>:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">systemctl restart sapconf</code></pre></div><p>
    Confirming that a certain parameter value was applied correctly works
    differently for different parameters. Hence, the following serves as an
    example only:
   </p><div class="complex-example"><div class="example" id="ex-sapconf-change-parameter-5" data-id-title="Checking parameters"><div class="title-container"><div class="example-title-wrap"><div class="example-title"><span class="title-number-name"><span class="title-number">Example 8.1: </span><span class="title-name">Checking parameters </span></span><a title="Permalink" class="permalink" href="#ex-sapconf-change-parameter-5">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune_sapconf.xml" title="Edit source document"> </a></div></div><div class="example-contents"><p>
     To confirm that the setting for <code class="literal">TCP_SLOW_START</code> was
     applied, do the following:
    </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
       View the log file of <code class="literal">sapconf</code> to see whether it applied the value.
       Within <code class="filename">/var/log/sapconf.log</code>, check for a line
       containing this text:
      </p><div class="verbatim-wrap"><pre class="screen">Change net.ipv4.tcp_slow_start_after_idle from 1 to 0</pre></div><p>
       Alternatively, the parameter may have already been set correctly
       before <code class="literal">sapconf</code> was started. In this case, <code class="literal">sapconf</code> will not change
       its value:
      </p><div class="verbatim-wrap"><pre class="screen">Leaving net.ipv4.tcp_slow_start_after_idle unchanged at 1</pre></div></li><li class="listitem"><p>
       The underlying option behind <code class="literal">TCP_SLOW_START</code> can be
       manually configured at
       <code class="filename">/proc/sys/net.ipv4.tcp_slow_start_after_idle</code>.
       To check its actual current value, use:
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">sysctl net.ipv4.tcp_slow_start_after_idle</code></pre></div></li></ul></div></div></div></div></section><section class="sect1" id="sec-sapconf-5-remove" data-id-title="Removing sapconf"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">8.5 </span><span class="title-name">Removing <code class="literal">sapconf</code></span></span> <a title="Permalink" class="permalink" href="#sec-sapconf-5-remove">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune_sapconf.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    To remove <code class="literal">sapconf</code> from a system, uninstall its package with:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">zypper rm sapconf</code></pre></div><p>
    Note that when doing this, dependencies of <code class="literal">sapconf</code> will remain installed.
    However, the service <code class="systemitem">sysstat</code> will
    go into a disabled state. If it is still relevant to you, make sure to
    enable it again.
   </p></section><section class="sect1" id="sec-sapconf-5-tuned" data-id-title="Using tuned together with sapconf"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">8.6 </span><span class="title-name">Using <code class="command">tuned</code> together with  <code class="literal">sapconf</code></span></span> <a title="Permalink" class="permalink" href="#sec-sapconf-5-tuned">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune_sapconf.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    With version 5 <code class="literal">sapconf</code> does not rely on <code class="systemitem">tuned</code> anymore. This means both tools
    can be used independently.
    <code class="literal">sapconf</code> will print a warning in it's log if <code class="command">tuned</code> service
    is started.
   </p><div id="id-1.11.10.3" data-id-title="Important: using tuned and sapconf together" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Important: using <code class="command">tuned</code> and <code class="literal">sapconf</code> together</div><p>
     If you are going to use <code class="command">tuned</code> and <code class="literal">sapconf</code> simultaneously,
     be very careful, that bot tools do not configure the same system parameters.
    </p></div></section><section class="sect1" id="sec-sapconf-5-more" data-id-title="For more information"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">8.7 </span><span class="title-name">For more information</span></span> <a title="Permalink" class="permalink" href="#sec-sapconf-5-more">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune_sapconf.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The following man pages provide additional information about <code class="literal">sapconf</code>:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     Detailed description of all tuning parameters set by <code class="literal">sapconf</code>:
     <code class="command">man 5 sapconf</code>
    </p></li><li class="listitem"><p>
     Information about configuring and customizing the <code class="literal">sapconf</code> profile:
     <code class="command">man 7 sapconf</code>
    </p></li></ul></div><p>
    Also see the blog series detailing the updated version of <code class="literal">sapconf</code> at:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><span class="formalpara-title">A new sapconf is available:</span><a class="link" href="https://www.suse.com/c/a-new-sapconf-is-available/" target="_blank">https://www.suse.com/c/a-new-sapconf-is-available/</a></p></li><li class="listitem"><p><span class="formalpara-title">A way to prepare a SLES system for SAP workload - Part 1:</span><a class="link" href="https://www.suse.com/c/sapconf-a-way-to-prepare-a-sles-system-for-sap-workload-part-1/" target="_blank">https://www.suse.com/c/sapconf-a-way-to-prepare-a-sles-system-for-sap-workload-part-1/</a></p></li></ul></div></section></section><section class="chapter" id="cha-tune" data-id-title="Tuning systems with saptune"><div class="titlepage"><div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">9 </span><span class="title-name">Tuning systems with <code class="command">saptune</code></span></span> <a title="Permalink" class="permalink" href="#cha-tune">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  This chapter presents information about tuning SUSE Linux Enterprise Server for SAP Applications to work
  optimally with SAP applications.
 </p><p>
   Using <code class="command">saptune</code>, you can tune a system for SAP NetWeaver, SAP HANA/SAP BusinessObjects, and
   SAP S/4HANA applications.
 </p><div id="id-1.12.4" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important</div><p>
    This chapter describes <code class="command">saptune</code> version 3 which does not use
    <code class="systemitem">tuned</code> anymore.
   </p></div><section class="sect1" id="sec-saptune-enable" data-id-title="Enabling saptune"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">9.1 </span><span class="title-name">Enabling <code class="command">saptune</code></span></span> <a title="Permalink" class="permalink" href="#sec-saptune-enable">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   To enable <code class="command">saptune</code> to tune an SAP application, use the following
   procedure:
   </p><div class="procedure" id="pro-tune"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
      To tune a system, first find a tuning solution. To find the appropriate
      solution, use:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">saptune solution list</code></pre></div><p>
      <code class="command">saptune</code> recognizes the following tuning solutions (groups of SAP Notes):
     </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><span class="formalpara-title"><code class="literal">BOBJ</code>. </span>
         Solution for running SAP BusinessObjects.
        </p></li><li class="listitem"><p><span class="formalpara-title"><code class="literal">HANA</code>. </span>
         Solution for running an SAP HANA database.
        </p></li><li class="listitem"><p><span class="formalpara-title"><code class="literal">MAXDB</code>. </span>
         Solution for running an SAP MaxDB database.
        </p></li><li class="listitem"><p><span class="formalpara-title"><code class="literal">NETWEAVER</code>. </span>
         Solution for running SAP NetWeaver application servers.
        </p></li><li class="listitem"><p><span class="formalpara-title"><code class="literal">S4HANA-APPSERVER</code>. </span>
         Solution for running SAP S/4HANA application servers.
        </p></li><li class="listitem"><p><span class="formalpara-title"><code class="literal">S4HANA-APP+DB</code>. </span>
         Solution for running both SAP S/4HANA application servers and SAP HANA on the
         same host.
        </p></li><li class="listitem"><p><span class="formalpara-title"><code class="literal">S4HANA-DBSERVER</code>. </span>
         Solution for running the SAP HANA database of an SAP S/4HANA installation.

        </p></li><li class="listitem"><p><span class="formalpara-title"><code class="literal">SAP-ASE</code>. </span>
         Solution for running an SAP Adaptive Server Enterprise database.
        </p></li><li class="listitem"><p><span class="formalpara-title"><code class="literal">NETWEAVER+HANA</code>. </span>
         Solution for running both SAP application servers and SAP HANA on the
         same host.
        </p></li><li class="listitem"><p><span class="formalpara-title"><code class="literal">NETWEAVER+MAXDB</code>. </span>
          Solution for running both SAP application servers and MAXDB on the same host.
         </p></li></ul></div><p>
      Alternatively, you can tune the computer according to recommendations
      from specific SAP Notes. A list of notes that you can tune for is
      available via:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">saptune note list</code></pre></div></li><li class="step"><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
        To set up <code class="command">saptune</code> with a preconfigured solution, use:
       </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">saptune solution apply <em class="replaceable">SOLUTION</em></code></pre></div></li><li class="listitem"><p>
        To set up <code class="command">saptune</code> for the recommendations of a specific SAP Note,
        use:
       </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">saptune note apply <em class="replaceable">NOTE</em></code></pre></div></li></ul></div></li><li class="step"><p>
      To start <code class="command">saptune</code> and enable it at boot, make sure to run the following
      command:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">saptune service enablestart</code></pre></div><p>
      To make sure that <code class="literal">sapconf</code> and <code class="systemitem">tuned</code> gets stopped and disabled too,
      run instead:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">saptune service takeover</code></pre></div></li></ol></div></div><div id="id-1.12.5.4" data-id-title="Combining optimizations" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Combining optimizations</div><p>
      It is possible to combine solutions and notes. However, only one solution can be active at a time. In rare cases, notes can have conflicting options or parameters. Arrange your notes carefully to avoid conflicts. The last note always takes priority over conflicting options or parameters of previous notes.
    </p></div></section><section class="sect1" id="sec-saptune-disable" data-id-title="Disabling saptune"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">9.2 </span><span class="title-name">Disabling <code class="command">saptune</code></span></span> <a title="Permalink" class="permalink" href="#sec-saptune-disable">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   To disable and stop <code class="command">saptune</code>, run:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">saptune service disablestop</code></pre></div></section><section class="sect1" id="sec-saptune-update" data-id-title="Updating saptune"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">9.3 </span><span class="title-name">Updating <code class="command">saptune</code></span></span> <a title="Permalink" class="permalink" href="#sec-saptune-update">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune.xml" title="Edit source document"> </a></div></div></div></div></div><p>To update saptune to a new version, just update the package.</p><p>
   Since a package update can contain updates of SAP Notes and SAP Solutions,
   restart <code class="command">saptune</code> with <code class="command">saptune service restart</code> to re-apply
   the tuning. Check afterwards with <code class="command">saptune note verify</code>
   if all recommendations are still met.
  </p><div id="id-1.12.7.4" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important</div><p>
    The <code class="command">saptune</code> tool does not rely on <code class="systemitem">tuned</code> anymore.
    Configuring <code class="systemitem">tuned</code> to set up <code class="command">saptune</code> 3 will not work.
    To start and enable <code class="command">saptune</code> 3 use one of the following methods:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><div class="verbatim-wrap"><pre class="screen">saptune service enablestart</pre></div><p>
      Enables and starts the <code class="systemitem">saptune.service</code>.
     </p></li><li class="listitem"><div class="verbatim-wrap"><pre class="screen">saptune service takeover</pre></div><p>
      Enables and starts the <code class="systemitem">saptune.service</code> and also
      disables <code class="literal">sapconf</code> as well as <code class="systemitem">tuned</code>.
     </p></li><li class="listitem"><div class="verbatim-wrap"><pre class="screen">saptune daemon start</pre></div><p>Deprecated. Gets redirected to <code class="command">saptune</code> service takeover.</p></li></ul></div></div></section><section class="sect1" id="sec-saptune-sapnotes" data-id-title="Managing SAP Notes"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">9.4 </span><span class="title-name">Managing SAP Notes</span></span> <a title="Permalink" class="permalink" href="#sec-saptune-sapnotes">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   In the following sections you will learn how to create, delete, and rename
   SAP Notes and much more.
  </p><section class="sect2" id="sec-saptune-customize" data-id-title="Customizing an SAP Note"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">9.4.1 </span><span class="title-name">Customizing an SAP Note</span></span> <a title="Permalink" class="permalink" href="#sec-saptune-customize">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    Every SAP Note can be configured freely with:
    
    
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">saptune note customise <em class="replaceable">NOTE</em></code></pre></div><p>
    The command includes changing a value or disabling a parameter.
   </p></section><section class="sect2" id="sec-saptune-create" data-id-title="Creating a new SAP Note"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">9.4.2 </span><span class="title-name">Creating a new SAP Note</span></span> <a title="Permalink" class="permalink" href="#sec-saptune-create">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    It is possible to create a new SAP Note with:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">saptune note create <em class="replaceable">NOTE</em></code></pre></div><p>
    All features of <code class="command">saptune</code> are available.
   </p></section><section class="sect2" id="sec-saptune-delete" data-id-title="Deleting an SAP Note"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">9.4.3 </span><span class="title-name">Deleting an SAP Note</span></span> <a title="Permalink" class="permalink" href="#sec-saptune-delete">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The following command deletes a created note, including the corresponding
    override file, if available:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">saptune note delete test</code>
Note to delete is a customer/vendor specific Note.
Do you really want to delete this Note (test2)? [y/n]: y</pre></div><p>
    The note may not be applied at the time. Keep in mind the following points:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
      A confirmation is needed to finish the action.
     </p></li><li class="listitem"><p>
      Internal SAP Notes shipped by <code class="command">saptune</code> cannot be deleted. Instead, the
      override file is removed when available.
     </p></li><li class="listitem"><p>
      If the note is already applied, the command is terminated with the
      information that the note first needs to be reverted before it can be deleted.
     </p></li></ul></div></section><section class="sect2" id="sec-saptune-rename" data-id-title="Renaming an SAP Note"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">9.4.4 </span><span class="title-name">Renaming an SAP Note</span></span> <a title="Permalink" class="permalink" href="#sec-saptune-rename">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    This command allows renaming a created note to a new name. If a
    corresponding override file is available, this file is renamed, too:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">saptune note rename test test2</code>
Note to rename is a customer/vendor specific Note.
Do you really want to rename this Note (test) to the new name 'test2'? [y/n]: y</pre></div><p>
    The note may not be applied at the time. Keep in mind the following points:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
      A confirmation is needed to finish the action.
     </p></li><li class="listitem"><p>
      Internal SAP Notes shipped by <code class="command">saptune</code> cannot be renamed.
     </p></li><li class="listitem"><p>
      If the note is already applied, the command is terminated with the
      information that the note first needs to be reverted before it can be deleted.
     </p></li></ul></div></section><section class="sect2" id="sec-saptune-show" data-id-title="Showing the configuration of an SAP Note"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">9.4.5 </span><span class="title-name">Showing the configuration of an SAP Note</span></span> <a title="Permalink" class="permalink" href="#sec-saptune-show">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The shipped configuration of a note can be listed with:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">saptune note show <em class="replaceable">NOTE</em></code></pre></div></section><section class="sect2" id="sec-saptune-verify" data-id-title="Verifying an SAP Note or an SAP Solution"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">9.4.6 </span><span class="title-name">Verifying an SAP Note or an SAP Solution</span></span> <a title="Permalink" class="permalink" href="#sec-saptune-verify">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The commands <code class="command">saptune note verify
    <em class="replaceable">NOTE</em></code> and <code class="command">saptune solution
    verify <em class="replaceable">SOLUTION</em></code> list the following
    data for each active or requested note:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
      The parameter name
     </p></li><li class="listitem"><p>
      The expected value (default)
     </p></li><li class="listitem"><p>
      A configured override (created using <code class="command">saptune
      customise</code>)
     </p></li><li class="listitem"><p>
      The current system value
     </p></li><li class="listitem"><p>
      Whether the current state follows the SAP recommendation
     </p></li></ul></div></section><section class="sect2" id="sec-saptune-simulate" data-id-title="Simulating the application of an SAP Note or an SAP Solution"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">9.4.7 </span><span class="title-name">Simulating the application of an SAP Note or an SAP Solution</span></span> <a title="Permalink" class="permalink" href="#sec-saptune-simulate">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    To show each parameter of a <code class="literal">note</code>, use the following command:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">saptune note simulate</code></pre></div><p>
    The command to show each parameter of a <code class="literal">solution</code> is as follows:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">saptune solution simulate</code></pre></div><p>
    The command lists the current system value and the expected values (default
    and override).
   </p></section><section class="sect2" id="sec-saptune-revert" data-id-title="Reverting an SAP Note"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">9.4.8 </span><span class="title-name">Reverting an SAP Note</span></span> <a title="Permalink" class="permalink" href="#sec-saptune-revert">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune.xml" title="Edit source document"> </a></div></div></div></div></div><p>To revert an SAP Note, run the following command:</p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">saptune note revert <em class="replaceable">NOTE</em></code></pre></div><p>This restores all parameters of the SAP Note to their values at the time of application.</p><p>To revert everything, use the following command:</p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">saptune note revert all</code></pre></div></section><section class="sect2" id="sec-saptune-edit" data-id-title="Editing a SAP Note"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">9.4.9 </span><span class="title-name">Editing a SAP Note</span></span> <a title="Permalink" class="permalink" href="#sec-saptune-edit">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune.xml" title="Edit source document"> </a></div></div></div></div></div><p>Each custom SAP Note can be edited by:</p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">saptune note edit <em class="replaceable">NOTE</em></code></pre></div></section><section class="sect2" id="sec-saptune-list" data-id-title="Listing all enabled or applied SAP Notes"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">9.4.10 </span><span class="title-name">Listing all enabled or applied SAP Notes</span></span> <a title="Permalink" class="permalink" href="#sec-saptune-list">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    To list all enabled SAP Notes, run:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">saptune note enabled</code></pre></div><p>To list all applied SAP Notes, run:</p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">saptune note applied</code></pre></div></section></section><section class="sect1" id="sec-saptune-sapsolution" data-id-title="Managing SAP Solutions"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">9.5 </span><span class="title-name">Managing SAP Solutions</span></span> <a title="Permalink" class="permalink" href="#sec-saptune-sapsolution">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   This chapter explains how to work with SAP Solutions.
  </p><section class="sect2" id="sec-saptune-create-solution" data-id-title="Creating a new SAP Solution"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">9.5.1 </span><span class="title-name">Creating a new SAP Solution</span></span> <a title="Permalink" class="permalink" href="#sec-saptune-create-solution">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune.xml" title="Edit source document"> </a></div></div></div></div></div><p>To create a new SAP Solution, run:</p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">saptune solution create <em class="replaceable">SOLUTION</em></code></pre></div></section><section class="sect2" id="sec-saptune-delete-solution" data-id-title="Deleting SAP Solution"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">9.5.2 </span><span class="title-name">Deleting  SAP Solution</span></span> <a title="Permalink" class="permalink" href="#sec-saptune-delete-solution">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune.xml" title="Edit source document"> </a></div></div></div></div></div><p>To delete an SAP Solution, run the following command:</p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">saptune solution delete myHANA</code>

Solution to delete is a customer/vendor specific Solution.
Do you really want to delete this Solution 'myHANA'? [y/n]: y</pre></div><p>
   The SAP Solution may not be applied at the time. Keep in mind the following points:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     A confirmation is required to finish the action.
    </p></li><li class="listitem"><p>
      SAP Solutions shipped by <code class="command">saptune</code> cannot be deleted.
    </p></li><li class="listitem"><p>
      If the SAP Solution is already applied, the command is terminated
      with the information that the SAP Solution first needs to be reverted
      before it can be deleted.
    </p></li></ul></div></section><section class="sect2" id="sec-saptune-rename-solution" data-id-title="Renaming an SAP Solution"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">9.5.3 </span><span class="title-name">Renaming an SAP Solution</span></span> <a title="Permalink" class="permalink" href="#sec-saptune-rename-solution">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune.xml" title="Edit source document"> </a></div></div></div></div></div><p>To rename an SAP Solution, run the following command:</p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">saptune solution rename myHANA myHANA2</code>

Solution to rename is a customer/vendor specific Solution.
Do you really want to rename this Solution 'myHANA' to the new name 'myHANA2'? [y/n]:</pre></div><p>
   The SAP Solution may not be applied at the time. Keep in mind the following points:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     A confirmation is needed to finish the action.
    </p></li><li class="listitem"><p>
      SAP Solutions shipped by <code class="command">saptune</code> cannot be renamed.
    </p></li><li class="listitem"><p>
      If the SAP Solution is already applied, the command will be terminated
      with the information, that the SAP Solution first needs to be reverted
      before it can be renamed.
    </p></li></ul></div></section><section class="sect2" id="sec-saptune-show-solution" data-id-title="Showing the configuration of an SAP Solution"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">9.5.4 </span><span class="title-name">Showing the configuration of an SAP Solution</span></span> <a title="Permalink" class="permalink" href="#sec-saptune-show-solution">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune.xml" title="Edit source document"> </a></div></div></div></div></div><p>To list the configuration of an SAP Solution, run the following command:</p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">saptune solution show <em class="replaceable">SOLUTION</em></code></pre></div></section><section class="sect2" id="sec-saptune-switch-solution" data-id-title="Switching to another SAP Solution"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">9.5.5 </span><span class="title-name">Switching to another SAP Solution</span></span> <a title="Permalink" class="permalink" href="#sec-saptune-switch-solution">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune.xml" title="Edit source document"> </a></div></div></div></div></div><p>
      Starting with <code class="command">saptune</code> version 3.1, it is easier to switch to a different solution using the <code class="command">saptune solution change <em class="replaceable">SOLUTION</em></code> command.
    </p><p>
      Keep in mind that internally the current solution is reverted first, and then the new solution is applied. If you have additional notes configured, the order is not preserved.
    </p><p>
      If the same solution is already applied, no action is taken. Otherwise the current solution gets reverted and the new one applied. The command prompts for confirmation before making the change. This can be disabled by adding the <code class="option">--force</code> option.
    </p></section><section class="sect2" id="sec-saptune-revert-solution" data-id-title="Reverting an SAP Solution"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">9.5.6 </span><span class="title-name">Reverting an SAP Solution</span></span> <a title="Permalink" class="permalink" href="#sec-saptune-revert-solution">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune.xml" title="Edit source document"> </a></div></div></div></div></div><p>To revert an SAP Solution, run the following command:</p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">saptune solution revert <em class="replaceable">SOLUTION</em></code></pre></div><p>
     The SAP Solution must be applied. This reverts all SAP Notes parts of the SAP Solution that are still applied.
    </p></section><section class="sect2" id="sec-saptune-edit-custom-solution" data-id-title="Editing a custom SAP Solution"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">9.5.7 </span><span class="title-name">Editing a custom SAP Solution</span></span> <a title="Permalink" class="permalink" href="#sec-saptune-edit-custom-solution">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune.xml" title="Edit source document"> </a></div></div></div></div></div><p>To edit a custom SAP Solution, run:</p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">saptune solution edit <em class="replaceable">SOLUTION</em></code></pre></div></section><section class="sect2" id="sec-saptune-list-solution" data-id-title="Listing enabled/applied SAP Solution"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">9.5.8 </span><span class="title-name">Listing enabled/applied SAP Solution</span></span> <a title="Permalink" class="permalink" href="#sec-saptune-list-solution">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune.xml" title="Edit source document"> </a></div></div></div></div></div><p>To list enabled SAP Solution, run:</p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">saptune solution enabled</code></pre></div><p>To list applied SAP Solution, run:</p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">saptune solution applied</code></pre></div><p>
    If SAP Notes from an applied SAP Solution have been reverted, the string <code class="literal">(partial)</code>
    has been added to the solution name.
   </p></section></section><section class="sect1" id="sec-saptune-verify-and-troubleshooting" data-id-title="Verification and troubleshooting"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">9.6 </span><span class="title-name">Verification and troubleshooting</span></span> <a title="Permalink" class="permalink" href="#sec-saptune-verify-and-troubleshooting">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune.xml" title="Edit source document"> </a></div></div></div></div></div><p>To see the current status of <code class="command">saptune</code>, run the following command:</p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">saptune status</code></pre></div><p>The output contains the following:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>status of the <code class="command">saptune</code>, <code class="literal">sapconf</code>, and <code class="systemitem">tuned</code> service</p></li><li class="listitem"><p>version of package and running <code class="command">saptune</code></p></li><li class="listitem"><p>details about configured SAP Solution and SAP Notes</p></li><li class="listitem"><p>details about staging</p></li><li class="listitem"><p>status of systemd system state</p></li><li class="listitem"><p>virtualization environment (new in <code class="command">saptune</code> version 3.1)</p></li><li class="listitem"><p>tuning compliance (new in <code class="command">saptune</code> version 3.1)</p></li></ul></div><p>
    If a problem occurs, use the <code class="command">saptune_check</code> command (in version 3.1, you can also use the command <code class="command">saptune check</code>) that runs checks, reports problems and offers advice on how to solve them.
   </p></section><section class="sect1" id="sec-saptune-machine-readable-output" data-id-title="Machine-readable output"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">9.7 </span><span class="title-name">Machine-readable output</span></span> <a title="Permalink" class="permalink" href="#sec-saptune-machine-readable-output">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune.xml" title="Edit source document"> </a></div></div></div></div></div><p>
      Starting with version 3.1, <code class="command">saptune</code> supports machine-readable output (JSON) for the following commands:
      </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
            <code class="command">saptune [daemon|service] status</code>
          </p></li><li class="listitem"><p>
            <code class="command">saptune note list|verify|enabled|applied</code>
          </p></li><li class="listitem"><p>
            <code class="command">saptune solution list|verify|enabled|applied</code>
          </p></li><li class="listitem"><p>
            <code class="command">saptune status</code>
          </p></li><li class="listitem"><p>
            <code class="command">saptune version</code>
          </p></li></ul></div><p>
      The machine-readable output makes it possible to integrate <code class="command">saptune</code> into scripts and configuration management solutions.
    </p><p>
      To generate JSON output, add <code class="option">--format json</code> as the first option, for example:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code>saptune --format json note applied | jq
{
"$schema": "file:///usr/share/saptune/schemas/1.0/saptune_note_applied.schema.json",
"publish time": "2023-08-29 17:05:45.627",
"argv": "saptune --format json note applied",
"pid": 1538,
"command": "note applied",
"exit code": 0,
"result": {
    "Notes applied": [
    "941735",
    "1771258",
    "1980196",
    "2578899",
    "2684254",
    "2382421",
    "2534844",
    "2993054",
    "1656250"
    ]
},
"messages": []
}</pre></div><p>
  If a command does not yet support JSON output, the command fails with the <code class="literal">result</code> block set to <code class="literal">"implemented": false</code>:
</p><div class="verbatim-wrap"><pre class="screen">[+]
<code class="prompt user">&gt; </code>saptune --format json staging status | jq
{
"$schema": "file:///usr/share/saptune/schemas/1.0/saptune_staging_status.schema.json",
"publish time": "2023-08-29 17:08:16.708",
"argv": "saptune --format json staging status",
"pid": 1653,
"command": "staging status",
"exit code": 1,
"result": {
    "implemented": false
},
"messages": []
}</pre></div></section><section class="sect1" id="sec-saptune-staging" data-id-title="Staging"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">9.8 </span><span class="title-name">Staging</span></span> <a title="Permalink" class="permalink" href="#sec-saptune-staging">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    It is possible that a new <code class="command">saptune</code> package can contain both binary changes
    (for example, bug fixes) and new or altered SAP Notes and SAP Solutions. In certain situations, it is preferable to deploy bug fixes and new features while leaving modifications to the system configuration out.
   </p><p>
    With staging enabled, SAP Note and SAP Solution changes in a package update are
    <span class="emphasis"><em>not</em></span> activated immediately. They are placed in a staging
    area, which can be reviewed and released later.
   </p><div id="id-1.12.12.4" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important</div><p>With the current implementation, a package update overwrites the
    staging if staging is enabled.</p></div><p>Staging is disabled by default, and it can be enabled with the following command:</p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">saptune staging enable</code></pre></div><p>From that point, SAP Note and SAP Solution changes shipped by a <code class="command">saptune</code>
   package are put in the staging area. To view the staging area, run:</p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">saptune staging list</code></pre></div><p>You can print a tabular overview of the differences of the SAP Note
   and SAP Solution in the staging and working area with the following command:</p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">saptune staging diff [NOTE...|SOLUTION...|all]</code></pre></div><p>
    After reviewing the differences, you can perform an analysis to see if a
    release has potential issues or requires additional steps. To do
    this, run the following command:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">saptune staging analysis [NOTE...|SOLUTION...|all]</code></pre></div><p>
    To release an SAP Note or an SAP Solution from the staging area, use the command as follows:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">saptune staging [--force|--dry-run] [NOTE..|SOLUTION...|all]</code></pre></div><p>
    The command presents an analysis (see <code class="command">saptune staging
    analysis</code>) and carries out the release after asking for
    confirmation.
   </p></section><section class="sect1" id="sec-sysctl" data-id-title="Tuning kernel parameters manually using sysctl"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">9.9 </span><span class="title-name">Tuning kernel parameters manually using <code class="command">sysctl</code></span></span> <a title="Permalink" class="permalink" href="#sec-sysctl">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   In addition to or instead of tuning kernel parameters using <code class="command">saptune</code>, you
   can also use <code class="command">sysctl</code> to make manual adjustments to kernel
   parameters. However, such changes using <code class="command">sysctl</code> do not
   persist across reboots by default. To make them persist across reboots, add
   them to one of the configuration files read by <code class="command">sysctl</code>.
  </p><div id="id-1.12.13.3" data-id-title="sysctl and saptune" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><div class="admon-title">Tip: <code class="command">sysctl</code> and <code class="command">saptune</code></div><p>
    If you plan to configure <code class="command">sysctl</code> parameters for your
    SAP system, consider using <code class="command">saptune</code> as the central tool for managing
    such configurations.
   </p></div><p>

   For more information about <code class="command">sysctl</code>, see the man pages
   <code class="literal">sysctl(8)</code>, <code class="literal">sysctl.conf(5)</code>, and
   <code class="literal">sysctl.d(5)</code>.
  </p></section><section class="sect1" id="sec-saptune-more" data-id-title="For more information"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">9.10 </span><span class="title-name">For more information</span></span> <a title="Permalink" class="permalink" href="#sec-saptune-more">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   See the following man pages:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     <code class="command">man 8 saptune</code>
    </p></li><li class="listitem"><p>
     <code class="command">man 8 saptune-migrate</code>
    </p></li><li class="listitem"><p>
     <code class="command">man 8 saptune-note</code>
    </p></li></ul></div><p>
   Also see the project home page
   <a class="link" href="https://github.com/SUSE/saptune/" target="_blank">https://github.com/SUSE/saptune/</a>.
  </p></section></section><section class="chapter" id="cha-memory-protection" data-id-title="Tuning Workload Memory Protection"><div class="titlepage"><div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">10 </span><span class="title-name">Tuning Workload Memory Protection</span></span> <a title="Permalink" class="permalink" href="#cha-memory-protection">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune_wmp.xml" title="Edit source document"> </a></div></div></div></div></div><div id="id-1.13.2" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important</div><p>
   If you have <code class="systemitem">systemd</code>-based SAP instances, read
   <a class="xref" href="#sec-sap-systemd-mix-wmp" title="10.9. Systems running both systemd-based and regular SAP instances">Section 10.9, “Systems running both <code class="systemitem">systemd</code>-based and regular SAP instances”</a> and
   <a class="xref" href="#sec-sap-systemd-wmp" title="10.10. Systems running only systemd-based instances">Section 10.10, “Systems running only <code class="systemitem">systemd</code>-based instances”</a> before setting up Workload Memory Protection.
  </p></div><p>
  Keeping SAP applications in physical memory is essential for their
  performance. In older product versions, the Page Cache Limit prevented a swap
  out to disk by a growing page cache (in SUSE Linux Enterprise Server for SAP Applications 11 SP1 onwards and in
  SUSE Linux Enterprise Server for SAP Applications 12). In SUSE Linux Enterprise Server for SAP Applications 15, the Page Cache Limit has been
  replaced by the more advanced Workload Memory Protection.
 </p><p>
  Workload Memory Protection puts SAP instances into a dedicated cgroup (v2) and tells the kernel,
  by the <code class="varname">memory.low</code> parameter, the amount of memory to keep
  in physical memory. This protects the processes in this cgroup against any
  form of memory pressure outside that cgroup, including a growing page cache.
  Workload Memory Protection cannot protect against memory pressure inside this cgroup. It covers
  the memory of <span class="emphasis"><em>all</em></span> instances together on one host.
 </p><p>
  The value for <code class="varname">memory.low</code> depends on the kind of SAP
  instance and the workload and needs to be configured manually. If the system
  is under extreme pressure, the Linux kernel will ignore the
  <code class="varname">memory.low</code> value and try to stabilize the whole system,
  even by swapping or invoking the OOM killer.
 </p><p>
  For more information about cgroups, see
  <a class="link" href="https://documentation.suse.com/sles-15/html/SLES-all/cha-tuning-cgroups.html" target="_blank">https://documentation.suse.com/sles-15/html/SLES-all/cha-tuning-cgroups.html</a>.
 </p><section class="sect1" id="sec-memory-protection-architecture" data-id-title="Architecture"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">10.1 </span><span class="title-name">Architecture</span></span> <a title="Permalink" class="permalink" href="#sec-memory-protection-architecture">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune_wmp.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   WMP relies on three components:
  </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.13.7.3.1"><span class="term">cgroup2 memory controller (Linux kernel)</span></dt><dd><p>
      The cgroup2 memory controller parameter <em class="parameter">memory.low</em>
      allows defining an amount of memory, which the Linux kernel will keep in
      physical memory. This amount of memory will be excluded from the
      reclaiming process unless the entire system is in a critical memory
      situation.
     </p><p>
      WMP uses <em class="parameter">memory.low</em> to prevent memory from SAP
      processes from being paged or swapped out to disk. Apart from the memory
      controller, cgroup1 controllers are still available, but are not mounted
      any more.
     </p></dd><dt id="id-1.13.7.3.2"><span class="term"><code class="systemitem">systemd</code></span></dt><dd><p>
      <code class="systemitem">systemd</code> provides the infrastructure to create and maintain the cgroup
      hierarchy and allows the configuration of cgroup parameters. WMP ships
      <code class="systemitem">systemd</code> configuration files to allow easy configuration of
      <em class="parameter">memory.low</em> via <code class="systemitem">systemd</code> methods.
     </p></dd><dt id="id-1.13.7.3.3"><span class="term">SAP start service</span></dt><dd><p>
      The SAP start service manages the starting and stopping of SAP
      instances. An important feature for WMP is the configurable execution of
      programs before the instance itself gets started in the instance profile.
      WMP uses this method to call a program to move the
      <code class="systemitem">sapstart</code> process into a designated cgroup, so
      the SAP instance will be started inside that cgroup.
     </p></dd></dl></div></section><section class="sect1" id="sec-memory-protection-support" data-id-title="Support for Workload Memory Protection"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">10.2 </span><span class="title-name">Support for Workload Memory Protection</span></span> <a title="Permalink" class="permalink" href="#sec-memory-protection-support">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune_wmp.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   WMP is supported for SUSE Linux Enterprise Server for SAP Applications 15 SP2 on AMD64/Intel 64 and POWER
   for one or multiple SAP systems on one host, such as:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     App Server (SAP NetWeaver, SAP S/4HANA) or
    </p></li><li class="listitem"><p>
     SAP HANA 1.0/2.0
    </p></li></ul></div><p>
   Workload Memory Protection does not cover databases other than SAP HANA. Depending on their start
   method, the processes might run inside or outside the dedicated cgroup. If
   they run inside, the memory consumption needs to be taken into account when
   determining <code class="varname">memory.low</code>.
  </p><div id="id-1.13.8.5" data-id-title="Restrictions of WMP" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Restrictions of WMP</div><p>
    Using WMP comes with benefits, but you should be aware of some
    restrictions:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
      WMP cannot protect against memory pressure inside the dedicated cgroup.
     </p></li><li class="listitem"><p>
      WMP cannot protect SAP systems or their instances from each other. All
      SAP processes share the same memory limit. If you have multiple SAP
      systems (for example, SAP NetWeaver and SAP S/4HANA), WMP cannot shield one SAP
      application from the other.
     </p></li><li class="listitem"><p>
      Support for SUSE’s HA cluster solution is not yet available.
     </p></li></ul></div></div></section><section class="sect1" id="sec-memory-protection-setup" data-id-title="Setting up Workload Memory Protection"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">10.3 </span><span class="title-name">Setting up Workload Memory Protection</span></span> <a title="Permalink" class="permalink" href="#sec-memory-protection-setup">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune_wmp.xml" title="Edit source document"> </a></div></div></div></div></div><section class="sect2" id="sec-memory-protection-setup-preparation" data-id-title="Preparing for Workload Memory Protection"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">10.3.1 </span><span class="title-name">Preparing for Workload Memory Protection</span></span> <a title="Permalink" class="permalink" href="#sec-memory-protection-setup-preparation">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune_wmp.xml" title="Edit source document"> </a></div></div></div></div></div><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
      Check if your SAP software (SAP HANA, SAP NetWeaver etc) is installed. The
      group <code class="systemitem">sapsys</code> is needed during
      the package installation of <span class="package">sapwmp</span> later. If you skip
      that part, you will get a warning message (see
      <a class="xref" href="#adm-order-of-packages" title="Important: Watch out for order of packages">Important: Watch out for order of packages</a>).
     </p></li><li class="step"><p>
      Stop the SAP system:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">systemctl</code> stop sapinit</pre></div><p>
      The service can be enabled, but all SAP processes need to be
      terminated.
     </p></li><li class="step"><p>
      Install the package <span class="package">sapwmp</span>:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">zypper</code> install sapwmp</pre></div><div id="adm-order-of-packages" data-id-title="Watch out for order of packages" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Watch out for order of packages</div><p>
       The following message should only appear if no SAP software has been
       installed on the system:
      </p><div class="verbatim-wrap"><pre class="screen">Warning: sapsys group not found warning: group sapsys does not exist - using root</pre></div><p>
       Remove the package <span class="package">sapwmp</span> and install the SAP
       software first before installing <span class="package">sapwmp</span> again.
      </p><p>
       As an alternative, you can fix ownership and permission
       <span class="emphasis"><em>after</em></span> installing the SAP software with:
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">chgrp</code> sapsys /usr/lib/sapwmp/sapwmp-capture &amp;&amp; \
chmod +s /usr/lib/sapwmp/sapwmp-capture</pre></div></div><p>
      The following message can be ignored:
     </p><div class="verbatim-wrap"><pre class="screen">Warning: Found memory controller on v1 hierarchy. Make sure unified hierarchy only is used.</pre></div><p>
      Switching to unified hierarchy is done in the next step.
     </p></li><li class="step"><p>
      Add <code class="varname">systemd.unified_cgroup_hierarchy=true</code> to the
      kernel command line by adding it to
      <code class="varname">GRUB_CMDLINE_LINUX_DEFAULT</code> in
      <code class="filename">/etc/default/grub</code> like:
     </p><div class="verbatim-wrap"><pre class="screen">GRUB_CMDLINE_LINUX_DEFAULT="... systemd.unified_cgroup_hierarchy=true swapaccount=1"</pre></div><p>
      With this change, only cgroup2 controllers will be mounted on
      <code class="filename">/sys/fs/cgroup</code>. Cgroup1 controllers, except the
      memory controller, are still available and can be used though. Tools
      using cgroup1 might not work out of the box any more and might need
      reconfiguration. Also, the required mount structure for cgroup1 needs to
      be provided.
     </p><p>
      The parameter <code class="varname">swapaccount=1</code> is not needed for WMP to
      work, but it aids the analysis in support cases to show the amount of
      swapped out memory for each cgroup.
     </p></li><li class="step"><p>
      Rewrite the GRUB2 configuration:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">grub2-mkconfig</code> -o /boot/grub2/grub.cfg</pre></div><p>
      After reboot (will be done later), the cgroup hierarchy is switched to v2
      (unified hierarchy) only.
     </p></li><li class="step" id="st-conf-memorylow-sap-slice"><p>
      Configure <code class="varname">MemoryLow</code> for the
      <code class="systemitem">SAP.slice</code>:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">systemctl</code> set-property SAP.slice MemoryLow=...</pre></div><p>
      This command creates a drop-in in
      <code class="filename">/etc/systemd/system.control/SAP.slice.d/</code> to set
      <code class="varname">MemoryLow</code>.
     </p><p>
      The <span class="package">sapwmp</span> package includes the <code class="systemitem">systemd</code>
      configuration <code class="systemitem">SAP.slice</code> which creates the cgroup
      of the same name for the SAP instances. <code class="varname">MemoryLow</code> is
      the <code class="systemitem">systemd</code> equivalent of the cgroup parameter
      <code class="varname">memory.low</code> mentioned in the introduction. The value
      for <code class="varname">MemoryLow</code> depends on the type of the SAP
      application and the workload.
     </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.13.9.3.2.6.5.1"><span class="term">For SAP HANA</span></dt><dd><p>
         Since SAP HANA has a Global Allocation Limit, its value can be used
         directly.
        </p></dd><dt id="id-1.13.9.3.2.6.5.2"><span class="term">SAP Application Server (SAP NetWeaver, SAP S/4HANA)</span></dt><dd><p>
         For the Application Server, the sizing for the workload should
         indicate the value for <code class="varname">MemoryLow</code>. The
         <span class="package">sapwmp</span> package contains a monitoring part which
         might be useful to determine <code class="varname">MemoryLow</code>. See
         <a class="xref" href="#sec-memory-protection-operation-monitor-memory-usage" title="10.6. Monitoring memory usage">Section 10.6, “Monitoring memory usage”</a>.
        </p></dd></dl></div><p>
      Keep in mind:
     </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
        All SAP instances on one host are inside the
        <code class="systemitem">SAP.slice</code>. <code class="varname">MemoryLow</code> must
        cover the amount of memory of <span class="emphasis"><em>all</em></span> instances
        together on that host. You cannot protect SAP systems or their
        instances from each other.
       </p></li><li class="listitem"><p>
        If you are using a database other than SAP HANA, some database processes
        might be part of <code class="systemitem">SAP.slice</code>. Their memory
        consumption needs to be taken into account when determining the
        <code class="varname">MemoryLow</code> value.
       </p></li><li class="listitem"><p>
        Never choose a value for <code class="varname">MemoryLow</code> very close to or
        larger than your physical memory. System services and additional
        installed software require memory too. If they are forced to use swap
        too extensively, at the expense of the SAP application, your system
        can become unresponsive.
       </p></li></ul></div><div id="id-1.13.9.3.2.6.8" data-id-title="Correctly calculate MemoryLow value" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Correctly calculate <code class="varname">MemoryLow</code> value</div><p>
       <code class="varname">MemoryLow</code> takes the memory size in bytes. If the
       value is suffixed with K, M, G, or T, the specified memory size is
       parsed as Kibibytes, Mebibytes, Gibibytes, or Tebibytes (with the base
       1024 instead of 1000, see
       <a class="link" href="https://en.wikipedia.org/wiki/Binary_prefix" target="_blank">https://en.wikipedia.org/wiki/Binary_prefix</a>),
       respectively. Alternatively, a percentage value may be specified, which
       is taken relative to the installed physical memory on the system.
      </p><p>
       The underlying cgroup memory controller will round up the value to a
       multiple of the page size. To avoid confusion, set the value for
       <code class="varname">MemoryLow</code> to a multiple of the page size.
      </p></div></li><li class="step"><p>
      Create a backup of each SAP instance profile. Errors in a profile can
      prevent a SAP system from starting.
     </p></li><li class="step"><p>
      For each SAP instance, add the following line to the instance profile
      (usually located in
      <code class="filename">/usr/sap/<em class="replaceable">SID</em>/SYS/profile/</code>)
      after the last <code class="literal">Execute_</code> line:
     </p><div class="verbatim-wrap"><pre class="screen">Execute_20 = local /usr/lib/sapwmp/sapwmp-capture -a</pre></div><p>
      If necessary, increase the number of the Execute statement so that it is
      the highest one, which means that that line is executed last.
     </p><div id="id-1.13.9.3.2.8.4" data-id-title="Editing instance profiles" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Editing instance profiles</div><p>
       Edit the instance profiles directly
       <span class="strong"><strong>only</strong></span> if you do not have the profiles
       imported into the database to manage them via the SAP GUI (transaction
       RZ11). If you have imported them, use the SAP GUI to add the lines.
       Profile files located in the file system are overwritten and any manual
       changes would be lost!
      </p></div></li></ol></div></div><p>
    Now the system is ready for a reboot.
   </p></section><section class="sect2" id="sec-memory-protection-reboot-and-verification" data-id-title="Reboot and verification"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">10.3.2 </span><span class="title-name">Reboot and verification</span></span> <a title="Permalink" class="permalink" href="#sec-memory-protection-reboot-and-verification">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune_wmp.xml" title="Edit source document"> </a></div></div></div></div></div><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
      Reboot the system.
     </p></li><li class="step"><p>
      After rebooting, verify that cgroups v2 has indeed been used:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">grep</code>  cgroup /proc/mounts
cgroup /sys/fs/cgroup cgroup2 rw,nosuid,nodev,noexec,relatime 0 0</pre></div></li><li class="step"><p>
      Verify that the cgroup was created successfully and the low memory value
      has been set:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">systemctl</code> show -p MemoryLow SAP.slice
MemoryLow=18487889920    &lt;- Should be your chosen value (always in bytes)!

# cat /sys/fs/cgroup/SAP.slice/memory.low
18487889920    &lt;- Should be your chosen value!</pre></div><p>
      The variable <code class="varname">MemoryLow</code> can be set to any value, but
      the content of the variable is always a multiple of the page size. Keep
      this in mind if you notice a slight difference between the values.
     </p></li><li class="step"><p>
      Check that all SAP instance processes are in the correct system
      slices/cgroup.
     </p><p>
      If you have not enabled
      <code class="systemitem">sapinit.service</code>
      start the service now. If autostart is not enabled in the instance
      profiles, start the instances before you check.
     </p><p>
      Example:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">systemd-cgls</code> -a /sys/fs/cgroup/SAP.slice
Directory /sys/fs/cgroup/SAP.slice:
|-wmp-rd91fd6b3ca0d4c1183659ef4f9a092fa.scope
| |-3349 sapstart pf=/usr/sap/HA0/ERS10/profile/HA0_ERS10_sapha0er
| `-3375 er.sapHA0_ERS10 pf=/usr/sap/HA0/ERS10/profile/HA0_ERS10_sapha0er N...
|-wmp-r360ebfe09bcd4df4873ef69898576199.scope
| |-3572 sapstart pf=/usr/sap/HA0/SYS/profile/HA0_D01_sapha0ci
| |-3624 dw.sapHA0_D01 pf=/usr/sap/HA0/SYS/profile/HA0_D01_sapha0ci
...</pre></div><p>
      The <code class="systemitem">sapstartsrv</code> process of an instance always
      remains in the user slice of
      <code class="literal"><em class="replaceable">SID</em>adm</code>. Only the
      <code class="systemitem">sapstart</code> process and its
      children will be moved to the target cgroup.
     </p><p>
      For each instance, a directory
      <code class="filename">wmp-r<em class="replaceable">SCOPEID</em>.scope</code> exists
      with all processes of this instance. The
      <em class="replaceable">SCOPEID</em> is a random 128-bit value in
      hexadecimal.
     </p><p>
      The SAP HostAgent is not covered by WMP and remains partly in
      <code class="systemitem">sapinit.slice</code> and partly in the user slice of
      <code class="systemitem">sapadm</code>.
     </p></li><li class="step"><p>
      If the processes are not in the cgroup, check if the
      <code class="literal">Execute</code> lines in the instance profiles are correct.
      Also each instance start should now be logged in the system log
      <code class="filename">/var/log/messages</code>:
     </p><div class="verbatim-wrap"><pre class="screen">...
2020-06-16T18:41:28.317233+02:00 server-03 sapwmp-capture: Found PIDs:
2020-06-16T18:41:28.317624+02:00 server-03 sapwmp-capture:      17001
2020-06-16T18:41:28.317813+02:00 server-03 sapwmp-capture:      16994
2020-06-16T18:41:28.317959+02:00 server-03 sapwmp-capture:      16551
2020-06-16T18:41:28.319423+02:00 server-03 sapwmp-capture: Successful capture into SAP.slice/wmp-r07a27e12d7f2491f8ccb9aeb0e080aaa.scope
2020-06-16T18:41:28.319672+02:00 server-03 systemd[1]: Started wmp-r07a27e12d7f2491f8ccb9aeb0e080aaa.scope.
...</pre></div></li></ol></div></div><p>
    To verify the correct setup, run <code class="command">wmp-check</code>. The script
    checks the setup of Workload Memory Protection:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
      Correct setup of cgroup2.
     </p></li><li class="listitem"><p>
      Ownership and permission of the capture program.
     </p></li><li class="listitem"><p>
      WMP entries of SAP instance profiles.
     </p></li><li class="listitem"><p>
      Correct cgrop of running SAP instance processes.
     </p></li><li class="listitem"><p>
      Correct setup of <code class="systemitem">SAP.slice</code>.
     </p></li><li class="listitem"><p>
      Sane configuration of MemoryLow. However, it cannot determine if the
      MemoryLow value has been chosen wisely.
     </p></li><li class="listitem"><p>
      Setup of the optional memory sampler.
     </p></li><li class="listitem"><p>
      Setup of optional swap accounting.
     </p></li></ul></div><p>
    It assumes SAP instances profiles can be found beneath
    <code class="filename">/usr/sap/<em class="replaceable">SID</em>/SYS/profile/</code>.
   </p></section></section><section class="sect1" id="sec-memory-protection-configuration" data-id-title="Configuring Workload Memory Protection"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">10.4 </span><span class="title-name">Configuring Workload Memory Protection</span></span> <a title="Permalink" class="permalink" href="#sec-memory-protection-configuration">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune_wmp.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   To configure WMP, edit <code class="filename">/etc/sapwmp.conf</code>:
  </p><div class="verbatim-wrap"><pre class="screen"># NOTE: Local changes may be reverted after update of WMP package. Check for
#      .rpmsave file to restore &amp; merge changes.

## Description: Slice unit name where workload is put into
## Type:        string
## Default:     "SAP.slice"
DEFAULT_SLICE="SAP.slice"

## Description: Comma-separated list of command names to which capture is
##              applied (matching against /proc/$PID/stat)
## Type:        string
## Default:     sapstart
PARENT_COMMANDS=sapstart</pre></div><p>
   After any change, restart all SAP instances.
  </p><div id="id-1.13.10.5" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.svg"/><div class="admon-title">Warning</div><p>
    Altering <code class="filename">/etc/sapwmp.conf</code> should not be necessary. Do
    not do it until you know exactly what you are doing!
   </p></div></section><section class="sect1" id="sec-memory-protection-operation-change-the-value-of-memorylow" data-id-title="Changing the value of MemoryLow"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">10.5 </span><span class="title-name">Changing the value of MemoryLow</span></span> <a title="Permalink" class="permalink" href="#sec-memory-protection-operation-change-the-value-of-memorylow">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune_wmp.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   To change the value of <code class="varname">MemoryLow</code> run:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">systemctl</code> set-property SAP.slice MemoryLow=...</pre></div><p>
   The changes will take effect immediately.
  </p><p>
   The underlying cgroup memory controller will round up the value to a
   multiple of the page size. To avoid confusion, set the value of
   <code class="varname">MemoryLow</code> to a multiple of the page size.
  </p><div id="id-1.13.11.6" data-id-title="Value of MemoryLow" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Value of <code class="varname">MemoryLow</code></div><p>
    Never set <code class="varname">MemoryLow</code> to a value lower than the memory
    already accounted in <code class="systemitem">SAP.slice</code>. To check, run:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">systemctl</code> show -p MemoryCurrent SAP.slice</pre></div></div></section><section class="sect1" id="sec-memory-protection-operation-monitor-memory-usage" data-id-title="Monitoring memory usage"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">10.6 </span><span class="title-name">Monitoring memory usage</span></span> <a title="Permalink" class="permalink" href="#sec-memory-protection-operation-monitor-memory-usage">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune_wmp.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Logging the memory usage can be necessary not only to determine the value
   for <code class="varname">memory.low</code>, but also for monitoring the correct
   operation of WMP.
  </p><p>
   To enable monitoring, activate the shipped timer unit:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">systemctl</code> enable --now wmp-sample-memory.timer</pre></div><p>
   Now the timer should be listed by <code class="command">systemctl list-timers</code>:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">systemctl</code> list-timers
NEXT    LEFT       LAST    PASSED  UNIT                     ACTIVATES
...
Tue...  9min left  Tue...  4s ago  wmp-sample-memory.timer  wmp-sample-memory.service
...</pre></div><p>
   If you check the current configuration, you can see that memory data is
   collected every 10 minutes with a randomized delay of
   three minutes:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">systemctl</code> cat wmp-sample-memory.timer
# /usr/lib/systemd/system/wmp-sample-memory.timer
[Unit]
Description=WMP periodic log of memory consumption

[Timer]
OnCalendar=*:0/10
RandomizedDelaySec=180
AccuracySec=60

[Install]
WantedBy=timers.target</pre></div><p>
   To change this, create a drop-in file and reload <code class="systemitem">systemd</code> (for example, by
   increasing the interval to 30 minutes):
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">mkdir</code> /etc/systemd/system/wmp-sample-memory.timer.d

# cat &lt;&lt;EOF &gt;/etc/systemd/system/wmp-sample-memory.timer.d/override.conf
[Timer]
OnCalendar=
OnCalendar=*:0/30
EOF

# systemctl daemon-reload</pre></div><p>
   <span class="emphasis"><em>(The first OnCalendar= line is important for deleting previously
   defined OnCalendar= settings.)</em></span>
  </p><p>
   To see the memory consumption, check the system log for lines written by
   <code class="literal">wmp_memory_current</code>:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">grep</code> wmp_memory_current /var/log/messages
...


2020-09-14T12:02:40.337266+02:00 server-03 wmp_memory_current: SAP.slice : memory.low=21474836480 memory.current=2294059008 memory.swap.current=0 , user.slice : memory.low=0 memory.current=5499219968 memory.swap.current=0 , init.scope : memory.low=0 memory.current=8364032 memory.swap.current=0 , system.slice : memory.low=0 memory.current=1863335936 memory.swap.current=0
2020-09-14T12:03:00.767838+02:00 server-03 wmp_memory_current: SAP.slice : memory.low=21474836480 memory.current=2294022144 memory.swap.current=0 , user.slice : memory.low=0 memory.current=5499473920 memory.swap.current=0 , init.scope : memory.low=0 memory.current=8364032 memory.swap.current=0 , system.slice : memory.low=0 memory.current=1862586368 memory.swap.current=0
2020-09-14T12:04:00.337315+02:00 server-03 wmp_memory_current: SAP.slice : memory.low=21474836480 memory.current=2294022144 memory.swap.current=0 , user.slice : memory.low=0 memory.current=5499207680 memory.swap.current=0 , init.scope : memory.low=0 memory.current=8355840 memory.swap.current=0 , system.slice : memory.low=0 memory.current=1862746112 memory.swap.current=0
...</pre></div><p>
   Here is a reformatted log line to get a better impression:
  </p><div class="verbatim-wrap"><pre class="screen">2020-09-14T12:02:40.337266+02:00 server-03 wmp_memory_current:
SAP.slice    : memory.low=21474836480 memory.current=2294059008 memory.swap.current=0 ,
user.slice   : memory.low=0           memory.current=5499219968 memory.swap.current=0 ,
init.scope   : memory.low=0           memory.current=8364032    memory.swap.current=0 ,
system.slice : memory.low=0           memory.current=1863335936 memory.swap.current=0</pre></div><p>
   For each cgroup directly below <code class="filename">/sys/fs/cgroup/</code> one
   comma-separated block exists. On a normal system, you should find at least
   <code class="systemitem">user.slice</code>, <code class="systemitem">system.slice</code>,
   and <code class="systemitem">init.scope</code>. WMP adds
   <code class="systemitem">SAP.slice</code>.
  </p><p>
   Each block contains the information about the current value of
   <code class="varname">memory.low</code> and <code class="varname">memory.current</code>, and the
   currently allocated amount of physical memory of processes in this cgroup.
  </p><p>
   If you enabled swap accounting (<code class="varname">swapaccount=1</code>) during
   setup, you also have <code class="varname">memory.swap.current</code>, the amount of
   swapped-out memory of the cgroup.
  </p><p>
   All values are in bytes. See <a class="xref" href="#st-conf-memorylow-sap-slice" title="Step 6">Step 6</a>
   in <a class="xref" href="#sec-memory-protection-setup-preparation" title="10.3.1. Preparing for Workload Memory Protection">Section 10.3.1, “Preparing for Workload Memory Protection”</a>.
  </p><div id="id-1.13.12.20" data-id-title="Script for printing" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><div class="admon-title">Tip: Script for printing</div><p>
    You can find a script to print the information as table or CSV here:
    <a class="link" href="https://github.com/scmschmidt/wmp_log_extract" target="_blank">https://github.com/scmschmidt/wmp_log_extract</a>
   </p></div></section><section class="sect1" id="sec-memory-protection-verify-correct-operation" data-id-title="Verifying correct operation"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">10.7 </span><span class="title-name">Verifying correct operation</span></span> <a title="Permalink" class="permalink" href="#sec-memory-protection-verify-correct-operation">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune_wmp.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Besides monitoring memory consumption and swapping (see
   <a class="xref" href="#sec-memory-protection-operation-monitor-memory-usage" title="10.6. Monitoring memory usage">Section 10.6, “Monitoring memory usage”</a>), you
   should also regularly check that all SAP instance processes are in their
   scopes below <code class="systemitem">SAP.slice</code>.
  </p><p>
   To do so, run <code class="command">systemd-cgls</code> and check each instance
   process.
  </p><p>
   Example:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">systemd-cgls</code> -a /sys/fs/cgroup/SAP.slice
Directory /sys/fs/cgroup/SAP.slice:
|-wmp-rd91fd6b3ca0d4c1183659ef4f9a092fa.scope
| |-3349 sapstart pf=/usr/sap/HA0/ERS10/profile/HA0_ERS10_sapha0er
| `-3375 er.sapHA0_ERS10 pf=/usr/sap/HA0/ERS10/profile/HA0_ERS10_sapha0er N...
|-wmp-r360ebfe09bcd4df4873ef69898576199.scope
| |-3572 sapstart pf=/usr/sap/HA0/SYS/profile/HA0_D01_sapha0ci
| |-3624 dw.sapHA0_D01 pf=/usr/sap/HA0/SYS/profile/HA0_D01_sapha0ci
...</pre></div><p>
   A simpler test would be to list all processes, including cgroups, for all
   <code class="literal">SID</code>s used on the system.
  </p><p>
   Example:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">ps</code> -eo user,pid,cgroup:60,args | <code class="command">grep</code> -e [h]a0adm
ha0adm    2062 0::/user.slice/user-1001.slice/user@1001.service/init.scope  /usr/lib/systemd/systemd --user
ha0adm    2065 0::/user.slice/user-1001.slice/user@1001.service/init.scope  (sd-pam)
ha0adm    3081 0::/SAP.slice/wmp-r73c594e050904c9c922a312dd9a28fd4.scope    sapstart pf=/usr/sap/HA0/SYS/profile/HA0_ASCS00_sapha0as
ha0adm    3133 0::/SAP.slice/wmp-r73c594e050904c9c922a312dd9a28fd4.scope    ms.sapHA0_ASCS00 pf=/usr/sap/HA0/SYS/profile/HA0_ASCS00_sapha0as
ha0adm    3134 0::/SAP.slice/wmp-r73c594e050904c9c922a312dd9a28fd4.scope    en.sapHA0_ASCS00 pf=/usr/sap/HA0/SYS/profile/HA0_ASCS00_sapha0as
ha0adm    3327 0::/SAP.slice/wmp-ra42489517eb846c282c57681e627a496.scope    sapstart pf=/usr/sap/HA0/ERS10/profile/HA0_ERS10_sapha0er
...</pre></div><p>
   All instance processes except <code class="systemitem">sapstartsrv</code> need to
   be in a scope below <code class="systemitem">0::/SAP.slice/</code>.
  </p><p>
   To verify the correct setup, use the <code class="command">wmp-check</code> tool. See
   <a class="xref" href="#sec-memory-protection-reboot-and-verification" title="10.3.2. Reboot and verification">Section 10.3.2, “Reboot and verification”</a> for more
   details.
  </p></section><section class="sect1" id="sec-memory-protection-deinstallation" data-id-title="Uninstalling Workload Memory Protection"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">10.8 </span><span class="title-name">Uninstalling Workload Memory Protection</span></span> <a title="Permalink" class="permalink" href="#sec-memory-protection-deinstallation">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune_wmp.xml" title="Edit source document"> </a></div></div></div></div></div><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Stop the SAP system completely. The
     <code class="systemitem">sapinit.service</code> has to be
     stopped, but can stay enabled. All SAP processes have to be terminated.
    </p></li><li class="step"><p>
     Remove any changes made to <code class="systemitem">SAP.slice</code>, such as
     setting <code class="varname">MemoryLow</code>:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">systemctl</code> revert SAP.slice</pre></div></li><li class="step"><p><span class="step-optional">(Optional)</span> 
     Remove the package <span class="package">sapwmp</span>:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">zypper</code> remove sapwmp</pre></div><p>
     This step is optional. The package can stay on the system without having
     an influence.
    </p></li><li class="step"><p><span class="step-optional">(Optional)</span> 
     Remove <code class="varname">systemd.unified_cgroup_hierarchy=true</code> from
     <code class="varname">GRUB_CMDLINE_LINUX_DEFAULT</code> in
     <code class="filename">/etc/default/grub</code>.
    </p><p>
     This step is optional. You can keep cgroup2 without using WMP.
    </p></li><li class="step"><p>
     Rewrite the GRUB2 configuration:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">grub2-mkconfig</code> -o /boot/grub2/grub.cfg</pre></div><p>
     After the next boot, the system is switched back to the hybrid cgroup
     hierarchy.
    </p></li><li class="step"><p>
     Remove the line to call sapwmp-capture from each SAP instance profile
     (usually located in
     <code class="filename">/usr/sap/<em class="replaceable">SID</em>/SYS/profile/</code>):
    </p><div class="verbatim-wrap"><pre class="screen">Execute_20 = local /usr/lib/sapwmp/sapwmp-capture -a</pre></div><div id="id-1.13.14.2.6.3" data-id-title="Backup is necessary" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Backup is necessary</div><p>
      Before editing an instance profile, create a backup! Errors in a profile
      can prevent an SAP system from starting!
     </p></div><div id="id-1.13.14.2.6.4" data-id-title="About editing profiles directly" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: About editing profiles directly</div><p>
      Edit the instance profiles directly
      <span class="strong"><strong>only</strong></span> if you have not imported the
      profiles into the database to manage them via the SAP GUI (transaction
      RZ11). If you have imported them, use the SAP GUI to add the lines.
      Profile files located in the file system are overwritten, and any manual
      changes will be lost!
     </p></div></li><li class="step"><p>
     Reboot the system and verify that your SAP system has been started
     successfully.
    </p></li></ol></div></div></section><section class="sect1" id="sec-sap-systemd-mix-wmp" data-id-title="Systems running both systemd-based and regular SAP instances"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">10.9 </span><span class="title-name">Systems running both <code class="systemitem">systemd</code>-based and regular SAP instances</span></span> <a title="Permalink" class="permalink" href="#sec-sap-systemd-mix-wmp">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune_wmp.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   With SAP kernel version 788 and certain specified patch levels of older
   kernel releases (722, 753, 777, 781, 785), the SAP Start Service supports
   <code class="systemitem">systemd</code>. Such a <code class="systemitem">systemd</code>-based instance comes with its own <code class="systemitem">systemd</code>
   service that the SAP Start Service places into its own cgroup (<code class="systemitem">SAP<em class="replaceable">SID_NR</em>.service</code>)
   under <code class="systemitem">SAP.slice</code>. This affects the
   Workload Memory Protection setup. For <code class="systemitem">systemd</code>-based SAP instances, the following instructions
   apply:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     Skip the step that adds the capture program to the instance profile. If
     you are migrating an instance to support <code class="systemitem">systemd</code>, remove this entry from
     the profile. Keep in mind that <code class="systemitem">systemd</code>-based instances are always put
     into a cgroup under <code class="systemitem">SAP.slice</code> and
     therefore become part of Workload Memory Protection protection.
    </p></li><li class="listitem"><p>
     Set <code class="option">MemoryLow=infinity</code> for the
     <code class="systemitem">SAP<em class="replaceable">SID_NR</em>.service</code>
     to make the protection work correctly. Example for
     <code class="systemitem">SAPNW1_01.service</code>:
    </p><div class="verbatim-wrap"><pre class="screen">sudo systemctl set-property SAPNW1_01.service MemoryLow=infinity</pre></div></li><li class="listitem"><p>
     Set <code class="option">MemoryLow=infinity</code> for the
     <code class="systemitem">saphostagent.service</code> to make the
     protection work correctly
    </p><div class="verbatim-wrap"><pre class="screen">sudo systemctl set-property saphostagent.service MemoryLow=infinity</pre></div></li></ul></div><p>
   The following example demonstrates a mixed environment. The SAP Host Agent
   and instance 01 are <code class="systemitem">systemd</code>-based, instance 00 is not. Both instances are
   under <code class="systemitem">SAP.slice</code> either in the
   cgroup managed by the SAP Start Service
   (<code class="systemitem">SAPNW1_01.service</code>) or Workload Memory Protection
   (<code class="literal">wmp-rece5b7fa372e4619a9623e120aa23a23.scope</code>).
   <code class="option">MemoryLow=</code> for
   <code class="systemitem">SAP.slice</code> has been set as well as
   <code class="option">MemoryLow=infinity</code> for all the cgroups below.
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code> systemd-cgls
Control group /:
-.slice
├─SAP.slice 
│ ├─SAPNW1_01.service 
│ │ ├─ 887 /usr/sap/NW1/ASCS01/exe/sapstartsrv pf=/usr/sap/NW1/SYS/profile/NW1_ASCS01_systemdproj
│ │ ├─2838 sapstart pf=/usr/sap/NW1/SYS/profile/NW1_ASCS01_systemdproj
│ │ ├─2895 ms.sapNW1_ASCS01 pf=/usr/sap/NW1/SYS/profile/NW1_ASCS01_systemdproj
│ │ └─2896 en.sapNW1_ASCS01 pf=/usr/sap/NW1/SYS/profile/NW1_ASCS01_systemdproj
│ ├─saphostagent.service 
│ │ ├─ 900 /usr/sap/hostctrl/exe/saphostexec pf=/usr/sap/hostctrl/exe/host_profile -nodaemon -trace
│ │ ├─ 984 /usr/sap/hostctrl/exe/sapstartsrv pf=/usr/sap/hostctrl/exe/host_profile
│ │ └─2428 /usr/sap/hostctrl/exe/saposcol -l -w60 pf=/usr/sap/hostctrl/exe/host_profile
│ └─wmp-rece5b7fa372e4619a9623e120aa23a23.scope 
│   ├─5522 sapstart pf=/usr/sap/NW1/SYS/profile/NW1_D00_systemdproj
│   ├─7824 dw.sapNW1_D00 pf=/usr/sap/NW1/SYS/profile/NW1_D00_systemdproj
│   ├─7825 ig.sapNW1_D00 -mode=profile pf=/usr/sap/NW1/SYS/profile/NW1_D00_systemdproj
...

<code class="prompt user">&gt; </code> systemctl show -p MemoryLow SAP.slice
MemoryLow=24584065024

<code class="prompt user">&gt; </code> systemctl show -p MemoryLow wmp-rece5b7fa372e4619a9623e120aa23a23.scope 
MemoryLow=infinity

<code class="prompt user">&gt; </code> systemctl show -p MemoryLow SAPNW1_01.service 
MemoryLow=infinity

<code class="prompt user">&gt; </code> systemctl show -p MemoryLow saphostagent.service 
MemoryLow=infinity</pre></div><p>
   Further information about the <code class="systemitem">systemd</code> integration is available at
   <a class="link" href="https://launchpad.support.sap.com/#/notes/3139184" target="_blank">SAP
   Note 139184 - Linux: <code class="systemitem">systemd</code> integration for sapstartsrv and SAP Host
   Agent</a>.
  </p></section><section class="sect1" id="sec-sap-systemd-wmp" data-id-title="Systems running only systemd-based instances"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">10.10 </span><span class="title-name">Systems running only <code class="systemitem">systemd</code>-based instances</span></span> <a title="Permalink" class="permalink" href="#sec-sap-systemd-wmp">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_tune_wmp.xml" title="Edit source document"> </a></div></div></div></div></div><div id="id-1.13.16.2" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note</div><p>
    SUSE's HA cluster solutions are supported for fully <code class="systemitem">systemd</code>-based SAP
    systems.
   </p></div><p>
   A SAP system consisting of <code class="systemitem">systemd</code>-based instances can only rely on
   cgroup2 for memory protection.
  </p><p>
   The instances are placed into a dedicated cgroup (default is
   <code class="systemitem">SAP.slice</code>) by the SAP Start
   Service. Therefore it is only necessary to switch to the unified cgroup2
   hierarchy and set <code class="option">MemoryLow=</code> correctly.
  </p><p>
   If Workload Memory Protection is already configured, follow the instructions in
   <a class="xref" href="#sec-sap-systemd-mix-wmp" title="10.9. Systems running both systemd-based and regular SAP instances">Section 10.9, “Systems running both <code class="systemitem">systemd</code>-based and regular SAP instances”</a>. Afterwards, you can remove the
   package <span class="package">sapwmp</span> from the system, unless you want to use
   the <code class="systemitem">wmp-sample-memory.timer</code> and
   <code class="systemitem">wmp-sample-memory.service</code> to
   monitor memory usage.
  </p><p>
   To configure the memory protection for a system consisting of only
   <code class="systemitem">systemd</code>-based SAP instances, perform the following steps:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     Stop all SAP instances and the SAP Host Agent.
    </p></li><li class="listitem"><p>
     Switch to the unified cgroup hierarchy, rewrite the boot loader (step 4
     and 5 in <a class="xref" href="#sec-memory-protection-setup-preparation" title="10.3.1. Preparing for Workload Memory Protection">Section 10.3.1, “Preparing for Workload Memory Protection”</a>).
    </p></li><li class="listitem"><p>
     Set <code class="option">MemoryLow=</code> for
     <code class="systemitem">SAP.slice</code> (step 6 in
     <a class="xref" href="#sec-memory-protection-setup-preparation" title="10.3.1. Preparing for Workload Memory Protection">Section 10.3.1, “Preparing for Workload Memory Protection”</a>).
    </p></li><li class="listitem"><p>
     Set <code class="option">MemoryLow=infinity</code> for
     <code class="systemitem">saphostagent.service</code> and for the
     services of all SAP instances.
    </p></li><li class="listitem"><p>
     Reboot the system.
    </p></li></ul></div><p>
   The following example demonstrates a <code class="systemitem">systemd</code>-based environment. The SAP
   Host Agent and all instances are in their cgroups under
   <code class="systemitem">SAP.slice</code>.
   <code class="option">MemoryLow=</code> for
   <code class="systemitem">SAP.slice</code> has been set as well as
   <code class="option">MemoryLow=infinity</code> for all the cgroups below.
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code> systemd-cgls
Control group /:
-.slice
├─SAP.slice 
│ ├─SAPNW1_00.service 
│ │ ├─5522 sapstart pf=/usr/sap/NW1/SYS/profile/NW1_D00_systemdproj
│ │ ├─7824 dw.sapNW1_D00 pf=/usr/sap/NW1/SYS/profile/NW1_D00_systemdproj
│ │ ├─7825 ig.sapNW1_D00 -mode=profile pf=/usr/sap/NW1/SYS/profile/NW1_D00_systemdproj
...
│ ├─SAPNW1_01.service 
│ │ ├─ 887 /usr/sap/NW1/ASCS01/exe/sapstartsrv pf=/usr/sap/NW1/SYS/profile/NW1_ASCS01_systemdproj
│ │ ├─2838 sapstart pf=/usr/sap/NW1/SYS/profile/NW1_ASCS01_systemdproj
│ │ ├─2895 ms.sapNW1_ASCS01 pf=/usr/sap/NW1/SYS/profile/NW1_ASCS01_systemdproj
│ │ └─2896 en.sapNW1_ASCS01 pf=/usr/sap/NW1/SYS/profile/NW1_ASCS01_systemdproj
│ └─saphostagent.service 
│   ├─ 900 /usr/sap/hostctrl/exe/saphostexec pf=/usr/sap/hostctrl/exe/host_profile -nodaemon -trace
│   ├─ 984 /usr/sap/hostctrl/exe/sapstartsrv pf=/usr/sap/hostctrl/exe/host_profile
│   └─2428 /usr/sap/hostctrl/exe/saposcol -l -w60 pf=/usr/sap/hostctrl/exe/host_profile
...

<code class="prompt user">&gt; </code> systemctl show -p MemoryLow SAP.slice
MemoryLow=24584065024

<code class="prompt user">&gt; </code> systemctl show -p MemoryLow wmp-rece5b7fa372e4619a9623e120aa23a23.scope 
MemoryLow=infinity

<code class="prompt user">&gt; </code> systemctl show -p MemoryLow SAPNW1_01.service 
MemoryLow=infinity

<code class="prompt user">&gt; </code> systemctl show -p MemoryLow saphostagent.service 
MemoryLow=infinity</pre></div></section></section><section class="chapter" id="cha-access" data-id-title="Firewalling"><div class="titlepage"><div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">11 </span><span class="title-name">Firewalling</span></span> <a title="Permalink" class="permalink" href="#cha-access">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_access.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  This chapter presents information about restricting access to the system
  using firewalling and encryption and gives information about connecting to
  the system remotely.
 </p><section class="sect1" id="sec-configure-firewall" data-id-title="Configuring firewalld"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">11.1 </span><span class="title-name">Configuring <code class="systemitem">firewalld</code></span></span> <a title="Permalink" class="permalink" href="#sec-configure-firewall">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_access.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   By default, the installation workflow of SUSE Linux Enterprise Server for SAP Applications enables
   <code class="systemitem">firewalld</code>.
  </p><div id="id-1.14.3.3" data-id-title="firewalld replaces SuSEfirewall2" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: <code class="systemitem">firewalld</code> replaces SuSEfirewall2</div><p>
    SUSE Linux Enterprise Server for SAP Applications 15 GA introduces <code class="systemitem">firewalld</code> as the new default
    software firewall, replacing SuSEfirewall2.
    SuSEfirewall2 has not been removed from SUSE Linux Enterprise Server for SAP Applications 15 GA
    and is still part of the main repository, though not installed by default.
    If you are upgrading from a release older than SUSE Linux Enterprise Server for SAP Applications 15 GA,
    SuSEfirewall2 will be unchanged and you must manually upgrade to
    <code class="systemitem">firewalld</code> (see Security and Hardening Guide).
   </p></div><p>
   The firewall needs to be manually configured to allow network access
   for the following:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     SAP application
    </p></li><li class="listitem"><p>
     Database (see the documentation of your database vendor; for SAP HANA, see
     <a class="xref" href="#sec-configure-firewall-hana" title="11.2. Configuring HANA-Firewall">Section 11.2, “Configuring HANA-Firewall”</a>)
    </p></li></ul></div><p>
   Additionally, open the ports <code class="literal">1128</code> (TCP) and
   <code class="literal">1129</code> (UDP).
  </p><p>
   SAP applications require many open ports and port ranges in the firewall.
   The exact numbers depend on the selected instance. For more information,
   see the documentation provided to you by SAP.
  </p></section><section class="sect1" id="sec-configure-firewall-hana" data-id-title="Configuring HANA-Firewall"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">11.2 </span><span class="title-name">Configuring HANA-Firewall</span></span> <a title="Permalink" class="permalink" href="#sec-configure-firewall-hana">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_access.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   To simplify setting up a firewall for SAP HANA, install the package
   <span class="package">HANA-Firewall</span>. HANA-Firewall adds rule sets to your
   existing SuSEfirewall2 configuration.
  </p><p>
   HANA-Firewall consists of the following parts:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><span class="formalpara-title">YaST module <span class="guimenu">SAP HANA firewall</span>. </span>
      Allows configuring, applying, and reverting firewall rules for SAP HANA
      from a graphical user interface.
     </p></li><li class="listitem"><p><span class="formalpara-title">Command-line utility <code class="systemitem">hana-firewall</code>. </span>
      Creates XML files containing firewall rules for SAP HANA.
     </p><p>
     If you prefer, you can configure the rule sets using the
     configuration file at <code class="filename">/etc/sysconfig/hana-firewall</code>
     instead of using YaST.
    </p></li></ul></div><div id="id-1.14.4.5" data-id-title="SAP HANA MDC databases" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: SAP HANA MDC databases</div><p>
    For multi-tenant SAP HANA (MDC) databases, determining the port numbers that
    need to be opened is not yet possible automatically.
    If you are working with a multi-tenant SAP HANA database system, before you
    use YaST, run a script on the command line to create a new
    service definition:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">cd /etc/hana-firewall.d</code>
<code class="prompt root"># </code><code class="command">hana-firewall define-new-hana-service</code></pre></div><p>
    You need to switch to the directory
    <code class="filename">/etc/hana-firewall.d</code>,
    otherwise the rule file for the new service will be created in a place
    where it cannot be used.
   </p><p>
    The script will ask several questions: Importantly, it will ask for
    TCP and UDP port ranges that need to be opened.
   </p></div><div id="id-1.14.4.6" data-id-title="Install HANA-Firewall packages" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: Install HANA-Firewall packages</div><p>
    Before continuing, make sure that the packages
    <span class="package">HANA-Firewall</span> and
    <span class="package">yast2-hana-firewall</span> are installed.
   </p></div><div class="procedure" id="id-1.14.4.7" data-id-title="Using HANA-Firewall"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 11.1: </span><span class="title-name">Using HANA-Firewall </span></span><a title="Permalink" class="permalink" href="#id-1.14.4.7">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_access.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Make sure the SAP HANA databases for which you want to configure the
     firewall are correctly installed.
    </p></li><li class="step"><p>
     To open the appropriate YaST module, select
     <span class="guimenu">Applications</span> › <span class="guimenu">YaST</span>, <span class="guimenu">Security and Users</span> › <span class="guimenu">SAP HANA Firewall</span>.
    </p></li><li class="step"><p>
     Under <span class="guimenu">Global Options</span>, activate
     <span class="guimenu">Enable Firewall</span>. Additionally, decide whether to
     <span class="guimenu">Allow Remote Shell Access (SSH)</span>.
    </p></li><li class="step" id="st-hana-firewall-network"><p>
     Choose a network interface under <span class="guimenu">Allowed Services on Network
     Interface</span>.
    </p></li><li class="step"><p>
     Allow network services by selecting them in the list box on the left and
     clicking <span class="guimenu">→</span>. Remove services by selecting them in the
     list box on the right and clicking <span class="guimenu">←</span>.
    </p><p>
     To add services other than the preconfigured ones, use the
     following notation:
    </p><div class="verbatim-wrap"><pre class="screen"><em class="replaceable">SERVICE_NAME</em>:<em class="replaceable">CIDR_NOTATION</em></pre></div><p>
     For more information about the CIDR notation, see
     <a class="link" href="https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing" target="_blank">https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing</a>.
     To find out which services are available on your system, use
     <code class="command">getent services</code>.
    </p><div class="informalfigure"><div class="mediaobject"><a href="images/s4s-hana-firewall.png"><img src="images/s4s-hana-firewall.png" alt="HANA-Firewall screenshot" title="HANA-Firewall screenshot"/></a></div></div></li><li class="step"><p>
     Repeat from <a class="xref" href="#st-hana-firewall-network" title="Step 4">Step 4</a> for all
     network interfaces.
    </p></li><li class="step"><p>
     When you are done, click <span class="guimenu">OK</span>.
    </p><p>
     The firewall rules from HANA-Firewall will now
     be compiled and applied. Then, the service
     <code class="systemitem">hana-firewall</code> will be restarted.
    </p></li><li class="step"><p>
     Finally, check whether HANA-Firewall was enabled
     correctly:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">hana-firewall status</code>
HANA firewall is active. Everything is OK.</pre></div></li></ol></div></div><p>
   For more information, see the man page of <code class="command">hana-firewall</code>.
  </p></section><section class="sect1" id="sec-configure-saprouter" data-id-title="SAProuter integration"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">11.3 </span><span class="title-name">SAProuter integration</span></span> <a title="Permalink" class="permalink" href="#sec-configure-saprouter">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_access.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The SAProuter software from SAP allows proxying network traffic
   between different SAP
   systems or between an SAP system and outside networks. SUSE Linux Enterprise Server for SAP Applications now
   provides integration for SAProuter into
   <code class="systemitem">systemd</code>. This means that SAProuter
   will be started and stopped properly with the operating system and can be
   controlled using <code class="command">systemctl</code>.
  </p><p>
   Before you can use this functionality, make sure the following has been
   installed, in this order:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     An SAP application that includes SAProuter
    </p></li><li class="listitem"><p>
     The SAProuter systemd integration, packaged as
     <span class="package">saprouter-systemd</span>
    </p></li></ul></div><p>
   If you got the order of applications to install wrong initially, reinstall
   <span class="package">saprouter-systemd</span>.
  </p><p>
   To control SAProuter with <code class="command">systemctl</code>, use:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     Enabling the SAProuter service:
     <code class="command">systemctl enable saprouter</code>
    </p></li><li class="listitem"><p>
     Starting the SAProuter service:
     <code class="command">systemctl start saprouter</code>
    </p></li><li class="listitem"><p>
     Showing the Status of SAProuter service:
     <code class="command">systemctl status saprouter</code>
    </p></li><li class="listitem"><p>
     Stopping the SAProuter service:
     <code class="command">systemctl stop saprouter</code>
    </p></li><li class="listitem"><p>
     Disabling the SAProuter service:
     <code class="command">systemctl disable saprouter</code>
    </p></li></ul></div></section></section><section xml:lang="en" class="chapter" id="cha-clamsap" data-id-title="Protecting against malware with ClamSAP"><div class="titlepage"><div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">12 </span><span class="title-name">Protecting against malware with ClamSAP</span></span> <a title="Permalink" class="permalink" href="#cha-clamsap">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_clamsap.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   ClamSAP integrates the ClamAV anti-malware toolkit into SAP NetWeaver and
   SAP Mobile Platform applications. ClamSAP is a shared library that
   links between ClamAV and the SAP NetWeaver Virus Scan Interface (NW-VSI).
   The version of ClamSAP shipped with SUSE Linux Enterprise Server for SAP Applications
   15 SP2 supports NW-VSI version 2.0.
  </p><div id="id-1.15.3" data-id-title="Avoid false positive reports for large files exeeding maximum file size" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Avoid false positive reports for large files exeeding maximum file size</div><p> By default, ClamAV is not scanning files exeeding various limits like
   file sizes, nesting level, or scan time. Such files are reported as "OK". The
   current default settings for the ClamAV virus scan engine in the
    <code class="command">clamscan</code> commandline tool and the <code class="systemitem">clamd</code> scan daemon are set in a way that: </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Files and archives are scanned, but only up to the configured or default limits
     for size, nesting level, scan time, etc.</p></li><li class="listitem"><p>
     The scan engine reports these files as being "OK".
    </p></li><li class="listitem"><p>
     This could potentially allow attackers to bypass the virus scanning.
    </p></li></ul></div><p> Alerts can be enabled to set the
    <code class="option">--alert-exceeds-max=yes</code> option on the
    <code class="command">clamscan</code> commandline or via <code class="option">AlertExceedsMax
    TRUE</code> in <code class="filename">clamd.conf</code> for daemon based scans.
   Settings these options will cause a "FOUND" report of status type
    <code class="literal">Heuristics.Limits.Exceeded</code>. You need to handle such
   files differently in front-ends or processing of reports.
  </p><p>
   Before enabling the alert, ensure that front-ends will not suddenly
   quarantine or remove those files.
  </p></div><section class="sect1" id="sec-clamsap-install" data-id-title="Installing ClamSAP"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">12.1 </span><span class="title-name">Installing ClamSAP</span></span> <a title="Permalink" class="permalink" href="#sec-clamsap-install">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_clamsap.xml" title="Edit source document"> </a></div></div></div></div></div><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     On the application host, install the packages for ClamAV and
     ClamSAP. To do so, use the command:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo zypper install clamav clamsap</code></pre></div></li><li class="step"><p>
     Before you can enable the daemon
     <code class="systemitem">clamd</code>, initialize the malware
     database:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo freshclam</code></pre></div></li><li class="step"><p>
     Start the service <code class="systemitem">clamd</code>:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo systemctl start clamd</code></pre></div></li><li class="step"><p>
     Check the status of the service
     <code class="systemitem">clamd</code> with:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">systemctl status clamd</code>
● clamd.service - ClamAV Antivirus Daemon
Loaded: loaded (/usr/lib/systemd/system/clamd.service; enabled; vendor preset: disabled)
Active: active (running) since Tue 2017-04-11 10:33:03 UTC; 24h ago
[...]</pre></div></li></ol></div></div></section><section class="sect1" id="sec-clamsap-scannergroup" data-id-title="Creating a virus scanner group in SAP NetWeaver"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">12.2 </span><span class="title-name">Creating a virus scanner group in SAP NetWeaver</span></span> <a title="Permalink" class="permalink" href="#sec-clamsap-scannergroup">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_clamsap.xml" title="Edit source document"> </a></div></div></div></div></div><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Log in to the SAP NetWeaver installation through the GUI. Do not log in as
     a <code class="systemitem">DDIC</code> or
     <code class="systemitem">SAP*</code> user, because the virus
     scanner needs to be configured cross-client.
    </p></li><li class="step"><p>
     Create a Virus Scanner Group using the transaction
     <span class="guimenu">VSCANGROUP</span>.
    </p><div class="informalfigure"><div class="mediaobject"><a href="images/sap-nw-scanner-group-display.jpg"><img src="images/sap-nw-scanner-group-display.jpg" alt="Edit View Scanner Group with editable table" title="Edit View Scanner Group with editable table"/></a></div></div></li><li class="step"><p>
     To switch from view mode to change mode, click the button <span class="guimenu">Change View</span>
     (<span class="inlinemediaobject"><a href="images/sap-nw-viewmode-icon.png"><img src="images/sap-nw-viewmode-icon.png" width="13" alt="Change View" title="Change View"/></a></span>).
    </p><p>
      Confirm the message <span class="guimenu">This table is cross-client</span> by
      clicking the check mark. The table is now editable.
    </p></li><li class="step"><p>
     Select the first empty row. In the text box
     <span class="guimenu">Scanner Group</span>, specify
     <code class="literal">CLAMSAPVSI</code>. Under
     <span class="guimenu">Group Text</span>, specify <code class="literal">CLAMSAP</code>.
    </p><p>
     Make sure that <span class="guimenu">Business Add-in</span> is not checked.
    </p><div class="informalfigure"><div class="mediaobject"><a href="images/sap-nw-scanner-group-change.jpg"><img src="images/sap-nw-scanner-group-change.jpg" alt="Edit View Scanner Group with editable table" title="Edit View Scanner Group with editable table"/></a></div></div></li><li class="step"><p>
     To save the form, click the button <span class="guimenu">Save</span>
     (<span class="inlinemediaobject"><a href="images/sap-nw-save-icon.png"><img src="images/sap-nw-save-icon.png" width="13" alt="Save" title="Save"/></a></span>).
    </p></li></ol></div></div></section><section class="sect1" id="sec-clamsap-library" data-id-title="Setting up the ClamSAP library in SAP NetWeaver"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">12.3 </span><span class="title-name">Setting up the ClamSAP library in SAP NetWeaver</span></span> <a title="Permalink" class="permalink" href="#sec-clamsap-library">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_clamsap.xml" title="Edit source document"> </a></div></div></div></div></div><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     In the SAP NetWeaver GUI, call the transaction <span class="guimenu">VSCAN</span>.
     
    </p></li><li class="step"><p>
     To switch from view mode to change mode, click the button
     <span class="guimenu">Change View</span>
     (<span class="inlinemediaobject"><a href="images/sap-nw-viewmode-icon.png"><img src="images/sap-nw-viewmode-icon.png" width="13" alt="Change View" title="Change View"/></a></span>).
    </p><p>
      Confirm the message <span class="guimenu">This table is cross-client</span> by
      clicking the check mark. The table is now editable.
    </p></li><li class="step"><p>
     Click <span class="guimenu">New entries</span>.
    </p></li><li class="step"><p>
     Fill in the form accordingly:
    </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
       <span class="guimenu">Provider Type</span>: <code class="literal">Adapter (Virus Scan Adapter)</code>
      </p></li><li class="listitem"><p>
       <span class="guimenu">Provider Name</span>: <code class="literal">VSA_<em class="replaceable">HOSTNAME</em></code>
       (for example: <code class="literal">VSA_SAPSERVER</code>)
      </p></li><li class="listitem"><p>
       <code class="literal">Scanner Group</code>: The name of the scanner group that
       you set up in <a class="xref" href="#sec-clamsap-scannergroup" title="12.2. Creating a virus scanner group in SAP NetWeaver">Section 12.2, “Creating a virus scanner group in SAP NetWeaver”</a> (for example:
       <code class="literal">CLAMSAPVSI</code>)
      </p></li><li class="listitem"><p>
       <span class="guimenu">Server</span>:
       <code class="literal"><em class="replaceable">HOSTNAME</em>_<em class="replaceable">SID</em>_<em class="replaceable">INSTANCE_NUMBER</em></code>
       (for example: <code class="literal">SAPSERVER_P04_00</code>)
      </p></li><li class="listitem"><p>
       <span class="guimenu">Adapter Path</span>: <code class="filename">libclamdsap.so</code>
      </p></li></ul></div><div class="informalfigure"><div class="mediaobject"><a href="images/sap-nw-scanner-definition-add.jpg"><img src="images/sap-nw-scanner-definition-add.jpg" alt="Form New Entries: Details of Added Entries" title="Form New Entries: Details of Added Entries"/></a></div></div></li><li class="step"><p>
     To save the form, click the button
     <span class="inlinemediaobject"><a href="images/sap-nw-save-icon.png"><img src="images/sap-nw-save-icon.png" width="13" alt="Save" title="Save"/></a></span>.
    </p></li></ol></div></div></section><section class="sect1" id="sec-clamsap-changedir" data-id-title="Configuring the default location of virus definitions"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">12.4 </span><span class="title-name">Configuring the default location of virus definitions</span></span> <a title="Permalink" class="permalink" href="#sec-clamsap-changedir">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_clamsap.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   By default, ClamAV expects the virus definitions to be located in <code class="filename">/var/lib/clamsap</code>.
   To change this default location, proceed as follows:
  </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Log in to the SAP NetWeaver installation through the GUI. Do not log in as
     a <code class="systemitem">DDIC</code> or
     <code class="systemitem">SAP*</code> user, because the virus
     scanner needs to be configured cross-client.
    </p></li><li class="step"><p>
     Select the <code class="literal">CLAMSAPVSI</code> group.
    </p></li><li class="step"><p>
     In the left navigation pane, click <span class="guimenu">Configuration Parameters</span>.
    </p></li><li class="step"><p>
     To switch from view mode to change mode, click the button <span class="guimenu">Change View</span>
     (<span class="inlinemediaobject"><a href="images/sap-nw-viewmode-icon.png"><img src="images/sap-nw-viewmode-icon.png" width="13" alt="Change View" title="Change View"/></a></span>).
    </p><p>
      Confirm the message <span class="guimenu">This table is cross-client</span> by
      clicking the check mark. The table is now editable.
    </p><div class="figure" id="fig-clamsap-add-entry"><div class="figure-contents"><div class="mediaobject"><a href="images/sap-new-scanner-clamsap-add-entries.jpg"><img src="images/sap-new-scanner-clamsap-add-entries.jpg" width="95%" alt="" title=""/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 12.1: </span><span class="title-name"> </span></span><a title="Permalink" class="permalink" href="#fig-clamsap-add-entry">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_clamsap.xml" title="Edit source document"> </a></div></div></div></li><li class="step"><p>
     Click <span class="guimenu">New Entries</span> and select <em class="parameter">INITDRIVERDIRECTORY</em>.
    </p><div class="figure" id="fig-clamsap-add-value"><div class="figure-contents"><div class="mediaobject"><a href="images/sap-new-scanner-clamsap-add-value.jpg"><img src="images/sap-new-scanner-clamsap-add-value.jpg" width="95%" alt="" title=""/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 12.2: </span><span class="title-name"> </span></span><a title="Permalink" class="permalink" href="#fig-clamsap-add-value">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_clamsap.xml" title="Edit source document"> </a></div></div></div></li><li class="step"><p>
     Enter the path to a different virus scanner location.
    </p></li><li class="step"><p>
     To save the form, click the button <span class="guimenu">Save</span>
     (<span class="inlinemediaobject"><a href="images/sap-nw-save-icon.png"><img src="images/sap-nw-save-icon.png" width="13" alt="Save" title="Save"/></a></span>).
    </p></li></ol></div></div></section><section class="sect1" id="sec-clamsap-engage" data-id-title="Engaging ClamSAP"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">12.5 </span><span class="title-name">Engaging ClamSAP</span></span> <a title="Permalink" class="permalink" href="#sec-clamsap-engage">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_clamsap.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   To run ClamSAP, go to the transaction <span class="guimenu">VSCAN</span>. Then
   click <span class="emphasis"><em>Start</em></span>.
  </p><div class="figure" id="fig-clamsap-scanner-change"><div class="figure-contents"><div class="mediaobject"><a href="images/sap-nw-scanner-definition-change.jpg"><img src="images/sap-nw-scanner-definition-change.jpg" alt="Change view “virus scan provider definition”" title="Change view “virus scan provider definition”"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 12.3: </span><span class="title-name">Change view <span class="quote">“<span class="quote">virus scan provider definition</span>”</span> </span></span><a title="Permalink" class="permalink" href="#fig-clamsap-scanner-change">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_clamsap.xml" title="Edit source document"> </a></div></div></div><p>
   Afterward, a summary will be displayed, including details of the ClamSAP
   and ClamAV (shown in <a class="xref" href="#fig-clamsap-summary" title="Summary of ClamSAP data">Figure 12.4, “Summary of ClamSAP data”</a>).
  </p><div class="figure" id="fig-clamsap-summary"><div class="figure-contents"><div class="mediaobject"><a href="images/sap-nw-scanner-summary.jpg"><img src="images/sap-nw-scanner-summary.jpg" alt="Summary of ClamSAP data" title="Summary of ClamSAP data"/></a></div></div><div class="title-container"><div class="figure-title-wrap"><div class="figure-title"><span class="title-number-name"><span class="title-number">Figure 12.4: </span><span class="title-name">Summary of ClamSAP data </span></span><a title="Permalink" class="permalink" href="#fig-clamsap-summary">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_clamsap.xml" title="Edit source document"> </a></div></div></div></section><section class="sect1" id="sec-clamsap-more" data-id-title="For more information"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">12.6 </span><span class="title-name">For more information</span></span> <a title="Permalink" class="permalink" href="#sec-clamsap-more">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_clamsap.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   For more information, also see the project home page
   <a class="link" href="https://sourceforge.net/projects/clamsap/" target="_blank">https://sourceforge.net/projects/clamsap/</a>.
  </p></section></section><section class="chapter" id="cha-configure-rdp" data-id-title="Connecting via RDP"><div class="titlepage"><div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">13 </span><span class="title-name">Connecting via RDP</span></span> <a title="Permalink" class="permalink" href="#cha-configure-rdp">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_remoteaccess.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   If you installed SLES for SAP with the RDP option activated or if you installed
   from a KIWI NG image, RDP is enabled on the machine via the service
   <code class="systemitem">xrdp</code>. Alternatively, you can enable
   RDP later as described at the end of this section.
  </p><p>
   You can connect using any software that supports RDP, such as:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><span class="formalpara-title">Linux:</span>
      Vinagre (available in SUSE Linux Enterprise Desktop/SLE WE and openSUSE) or
      Remmina (available in openSUSE)
     </p></li><li class="listitem"><p><span class="formalpara-title">Windows:</span>
      Remote Desktop Connection
     </p></li></ul></div><div id="id-1.16.5" data-id-title="Connection parameters" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Connection parameters</div><p>
    Make sure to set up the connection with the following parameters:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><span class="formalpara-title">Port:</span>
       3389
      </p></li><li class="listitem"><p><span class="formalpara-title">Color depth:</span>
       16-bit or 24-bit only
      </p></li></ul></div></div><div class="procedure" id="pro-enable-rdp" data-id-title="Setting up RDP"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 13.1: </span><span class="title-name">Setting up RDP </span></span><a title="Permalink" class="permalink" href="#pro-enable-rdp">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_remoteaccess.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><p>
    If you have not set up an RDP connection during the installation, you can
    also do so later using the following instructions.
   </p><ol class="procedure" type="1"><li class="step"><p>
     First, create the necessary exception for your firewall, opening port
     TCP 3389 in all relevant zones.
     For example, if your internal network uses the <code class="literal">internal</code>
     zone, use the following command:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">firewall-cmd</code> --zone=internal --add-port=3389/tcp</pre></div><p>
     This is a temporary assignment for testing the new setting. If you need to change
     more than one zone, change and test each zone one at a time.
    </p></li><li class="step"><p>
     When you are satisfied that new configuration is correct, make it permanent:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">firewall-cmd</code> --runtime-to-permanent
<code class="prompt root"># </code><code class="command">firewall-cmd</code> --reload</pre></div></li></ol></div></div><p>
  Find more information on using firewalld in
  <a class="link" href="https://docs.suse.com/sles/15/html/SLES-all/cha-security-firewall.html#sec-security-firewall-firewalld" target="_blank">https://docs.suse.com/sles/15/html/SLES-all/cha-security-firewall.html#sec-security-firewall-firewalld</a>.
 </p></section><section class="chapter" id="cha-image" data-id-title="Creating operating system images"><div class="titlepage"><div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">14 </span><span class="title-name">Creating operating system images</span></span> <a title="Permalink" class="permalink" href="#cha-image">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_image.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  There are multiple ways to create custom operating system images from
  SUSE Linux Enterprise Server for SAP Applications. The preferred way is generally to use KIWI NG, which ingests an XML
  configuration file and then runs fully automatically.
 </p><p>
  Alternatively, you can also create an image from an existing installation
  that is cleaned up before re-use.
 </p><section class="sect1" id="sec-configure-kiwi" data-id-title="Creating images with KIWI NG"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">14.1 </span><span class="title-name">Creating images with KIWI NG</span></span> <a title="Permalink" class="permalink" href="#sec-configure-kiwi">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_image.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   KIWI NG is a tool to create operating system images that can be easily
   copied to new physical or virtual machines. This section will present
   information on creating SLES for SAP images with KIWI NG.
  </p><p>
   SUSE Linux Enterprise Server for SAP Applications now supports creating images with KIWI NG using the template from
   the package <code class="systemitem">kiwi-template-sap</code>. However, there are
   certain restrictions in the current implementation:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     Only building VMX disk images is supported. Building other image types is
     not supported.
    </p></li><li class="listitem"><p>
     You must provide an ISO image of SUSE Linux Enterprise Server for SAP Applications at
     <code class="filename">/tmp/SLES4SAP.iso</code>, as the Open Build Service does not
     contain all necessary packages.
    </p></li></ul></div><p>
   To build a basic image, use the following two commands:
  </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Build the root file system:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">kiwi</code> -p SLES4SAP --root fsroot</pre></div></li><li class="step"><p>
     Build the VMX image:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">kiwi</code> --create fsroot --type vmx -d build</pre></div></li></ol></div></div><p>
   To enable running graphical installations using SAPinst, the default
   settings of the image enable the following:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     Installation of an IceWM desktop
    </p></li><li class="listitem"><p>
     The service <code class="systemitem">xrdp</code> is started automatically, so
     you can connect to the machine via RDP. For more information, see
     <a class="xref" href="#cha-configure-rdp" title="Chapter 13. Connecting via RDP">Chapter 13, <em>Connecting via RDP</em></a>.
    </p></li></ul></div><p>
   For more information about KIWI NG and SLES for SAP:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     On the KIWI NG configuration for SLES for SAP, see
     <code class="filename">/usr/share/kiwi/image/SLES4SAP/README</code>.
    </p></li><li class="listitem"><p>
     On KIWI NG in general, see the
     <em class="citetitle">openSUSE-KIWI Image System Cookbook</em>
     (<a class="link" href="https://doc.opensuse.org/projects/kiwi/doc/" target="_blank">https://doc.opensuse.org/projects/kiwi/doc/</a>).
    </p></li></ul></div></section><section class="sect1" id="sec-configure-scrub-instance" data-id-title="Cleaning up an instance before using it as a master image"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">14.2 </span><span class="title-name">Cleaning up an instance before using it as a master image</span></span> <a title="Permalink" class="permalink" href="#sec-configure-scrub-instance">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_image.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   In some cases, it makes sense to use an image of an already-configured
   master instance on multiple systems instead of generating a KIWI NG image
   from scratch. For example, when your image needs to contain additional
   software or configuration that cannot be installed using KIWI NG.
  </p><p>
   However, normally
   such an image would contain certain configuration data that should
   not be copied along with the rest of the system.
  </p><p>
   To avoid needing to clean up manually, use the script <code class="command">clone-master-clean-up</code> (available
   from the package of the same name).
  </p><p>
   It deletes the following data automatically:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     Swap device (zero-wiped, then re-enabled)
    </p></li><li class="listitem"><p>
     SUSE registration information and repositories from SUSE, and the
     Zypper ID
    </p></li><li class="listitem"><p>
     User and host SSH keys and domain and host names
    </p></li><li class="listitem"><p>
     The generated <code class="systemitem">HANA-Firewall</code> script (but not the
     configuration itself)
    </p></li><li class="listitem"><p>
     Shell history, mails, cron jobs, temporary files
     (<code class="filename">/tmp</code>, <code class="filename">/var/tmp</code>), log files
     (<code class="filename">/var/log</code>), random seeds, <code class="systemitem">systemd</code> journal,
     <code class="systemitem">collectd</code> statistics,
     <code class="command">postfix</code> configuration, parts of
     <code class="filename">/root</code>
    </p></li><li class="listitem"><p>
     <code class="filename">/var/cache</code>, <code class="filename">/var/crash</code>,
     <code class="filename">/var/lib/systemd/coredump</code>
    </p></li></ul></div><p>
   Additionally, the following configuration is restored to defaults:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     Network interfaces that do not use DHCP and network configuration
     (<code class="filename">/etc/hostname</code>, <code class="filename">/etc/hosts</code>, and
      <code class="filename">/etc/resolv.conf</code>)
    </p></li><li class="listitem"><p>
     <code class="systemitem">sudo</code> settings
    </p></li></ul></div><p>
   Additionally, you can choose to set up a new <code class="systemitem">root</code> password.
   UUID-based entries in <code class="filename">/etc/fstab</code> are replaced by
   device strings. This script also ensures that if the first-boot section
   of the installation workflow was used for the original installation, it is
   run again on the next boot.
  </p><section class="sect2" id="sec-configure-scrub-instance-configure" data-id-title="Configuring clone-master-clean-up"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">14.2.1 </span><span class="title-name">Configuring <code class="command">clone-master-clean-up</code></span></span> <a title="Permalink" class="permalink" href="#sec-configure-scrub-instance-configure">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_image.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    Before running <code class="command">clone-master-clean-up</code>, the script can be configured in the following ways:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
      To configure the script to not clean up certain data, use the
      configuration file
      <code class="filename">/etc/sysconfig/clone-master-clean-up</code>.
     </p><p>
      This file also gives short explanations of the available options.
     </p></li><li class="listitem"><p>
      To configure the script to clean up additional directories or files,
      create a list with the absolute paths of such directories and files:
     </p><div class="verbatim-wrap"><pre class="screen">/additional/file/to/delete.now
/additional/directory/to/remove</pre></div><p>
      Save this list as
      <code class="filename">/var/adm/clone-master-clean-up/custom_remove</code>.
     </p></li></ul></div></section><section class="sect2" id="sec-configure-scrub-instance-use" data-id-title="Using clone-master-clean-up"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">14.2.2 </span><span class="title-name">Using <code class="command">clone-master-clean-up</code></span></span> <a title="Permalink" class="permalink" href="#sec-configure-scrub-instance-use">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_image.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    To use the script, do:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code>clone-master-clean-up</pre></div><p>
    Then follow the instructions.
   </p></section><section class="sect2" id="sec-configure-scrub-instance-more" data-id-title="For more information"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">14.2.3 </span><span class="title-name">For more information</span></span> <a title="Permalink" class="permalink" href="#sec-configure-scrub-instance-more">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_image.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    The following sources provide additional information about <code class="command">clone-master-clean-up</code>:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
      For general information, see the man page <code class="command">clone-master-clean-up</code>.
     </p></li><li class="listitem"><p>
      For information on which files and directories might additionally be
      useful to delete, see
      <code class="filename">/var/adm/clone-master-clean-up/custom_remove.template</code>.
     </p></li></ul></div></section></section></section><section class="chapter" id="cha-trouble" data-id-title="Important log files"><div class="titlepage"><div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">15 </span><span class="title-name">Important log files</span></span> <a title="Permalink" class="permalink" href="#cha-trouble">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_trouble.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  The most important log files for this product can be found as follows:
 </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
    The SAP Installation Wizard is a YaST module. You can find its log entries in
    <code class="filename">/var/log/YaST/y2log</code>.
   </p></li><li class="listitem"><p>
    All SAP knowledge is bundled in a library. You can find its log entries in
    <code class="filename">/var/log/SAPmedia.log</code>.
   </p></li><li class="listitem"><p>
    You can find log files related to auto-installation in
    <code class="filename">/var/adm/autoinstall/logs</code>.
   </p></li></ul></div></section><section class="appendix" id="app-additional-software" data-id-title="Additional software for SLES for SAP"><div class="titlepage"><div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">A </span><span class="title-name">Additional software for SLES for SAP</span></span> <a title="Permalink" class="permalink" href="#app-additional-software">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_appendix_extrasoftware.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  SUSE Linux Enterprise Server for SAP Applications makes it easy to install software that is not included with your
  subscription:
 </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
    Extensions and modules allow installing additional software created and
    supported by SUSE. For more information about extensions and modules,
    see <em class="citetitle">Deployment Guide, Part <span class="quote">“<span class="quote">Initial System
    Configuration</span>”</span>, Chapter <span class="quote">“<span class="quote">Installing Modules, Extensions, and
    Third Party Add-On Products</span>”</span></em> at <a class="link" href="https://documentation.suse.com/sles-15" target="_blank">https://documentation.suse.com/sles-15</a>.
   </p></li><li class="listitem"><p>
    <span class="guimenu">SUSE Connect Program</span> allows installing packages created
    and supported by third parties, specifically for SLES for SAP. It also gives
    easy access to third-party trainings and support. See
    <a class="xref" href="#sec-suseconnectprogram" title="A.2. SUSE connect program">Section A.2, “SUSE connect program”</a>.
   </p></li><li class="listitem"><p>
    SUSE Package Hub allows installation of packages created by the SUSE Linux Enterprise
    community without support. See <a class="xref" href="#sec-packagehub" title="A.3. SUSE Package Hub">Section A.3, “SUSE Package Hub”</a>.
   </p></li></ul></div><section class="sect1" id="id-1.19.4" data-id-title="Identifying a base product for SUSE Linux Enterprise Server for SAP Applications"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">A.1 </span><span class="title-name">Identifying a base product for SUSE Linux Enterprise Server for SAP Applications</span></span> <a title="Permalink" class="permalink" href="#id-1.19.4">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/sec-identifying-sap" title="Edit source document"> </a></div></div></div></div></div><p>
   To identify and distinguish SUSE products, use one of the following
   files:
  </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.19.4.3.1"><span class="term"><code class="filename">/etc/os-release</code></span></dt><dd><p>
      A text file with key-value pairs, similar to shell-compatible
      variable assignments. Each key is on a separate line.
     </p><p>
      You can search for the <code class="varname">CPE_NAME</code> key; however,
      between different releases and service packs, the value may have been
      changed. If you need further details, refer to the article at
      <a class="link" href="https://www.suse.com/support/kb/doc/?id=7023490" target="_blank">https://www.suse.com/support/kb/doc/?id=7023490</a>.
     </p></dd><dt id="id-1.19.4.3.2"><span class="term"><code class="filename">/etc/product.d/baseproduct</code></span></dt><dd><p>
      A link to an XML file. The <code class="filename">/etc/product.d/</code> directory contains different <code class="filename">.prod</code> files.
     </p><p>
      Depending on which products you have purchased and how you installed
      your system, the link <code class="filename">/etc/product.d/baseproduct</code>
      can point to a different <code class="filename">.prod</code> file, for example,
      <code class="filename">sle-module-sap-applications.prod</code>.
      The same information as <code class="varname">CPE_NAME</code> is stored in
      the tag <code class="sgmltag-starttag">&lt;cpeid&gt;</code>.
     </p></dd></dl></div><p>
   Among other information, both files contain the operating system and
   base product. The base product (key <code class="varname">CPE_NAME</code> and tag
   <code class="sgmltag-starttag">&lt;cpeid&gt;</code>) follow the <a class="link" href="http://scap.nist.gov/specifications/cpe/" target="_blank">Common Platform Enumeration Specification</a>.
  </p><p>
   Basically, you can extract any information from the file <code class="filename">/etc/product.d/baseproduct</code>
   either with the commands <code class="command">grep</code> or <code class="command">xmlstarlet</code>
   (both are available for your products).
   As XML is also text, use <code class="command">grep</code> for <span class="quote">“<span class="quote">simple searches</span>”</span>
   when the format of the output does not matter much. However, if your search
   is more advanced, you need the output in another script, or your would
   like to avoid the XML tags in the output, use the
   <code class="command">xmlstarlet</code> command instead.
  </p><p>
   For example, to get your base product, use <code class="command">grep</code> like this:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">grep</code> cpeid /etc/products.d/baseproduct
&lt;cpeid&gt;cpe:/o:suse:sle-module-sap-applications:<em class="replaceable">RELEASE</em>:sp<em class="replaceable">SP_NUMBER</em>&lt;/cpeid&gt;</pre></div><p>
   The <em class="replaceable">RELEASE</em> and <em class="replaceable">SP_NUMBER</em>
   are placeholders and describe your product release number and service pack.
  </p><p>
   The same can be achieved with <code class="command">xmlstarlet</code>. You need
   an XPath (the steps that lead you to your information). With the appropriate
   options, you can avoid the <code class="sgmltag-starttag">&lt;cpeid&gt;</code>/<code class="sgmltag-endtag">&lt;/cpeid&gt;</code> tags:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">xmlstarlet</code> sel -T -t -v "/product/cpeid" /etc/products.d/baseproduct
cpe:/o:suse:sle-module-sap-applications:<em class="replaceable">RELEASE</em>:sp<em class="replaceable">SP_NUMBER</em></pre></div><p>
   A more advanced search (which would be difficult for <code class="command">grep</code>)
   would be to list all required dependencies to other products.
   Assuming that <code class="filename">basename</code> points to
   <code class="filename">sle-module-sap-applications.prod</code>, the following
   command will output all product dependencies which are required for SUSE Linux Enterprise Server for SAP Applications:
  </p><div class="verbatim-wrap"><pre class="screen">&gt;<code class="prompt user">&gt; </code><code class="command">xmlstarlet</code> sel -T -t -v "/product/productdependency[@relationship='requires']/@name" /etc/products.d/baseproduct
SUSE_SLE
sle-ha</pre></div></section><section class="sect1" id="sec-suseconnectprogram" data-id-title="SUSE connect program"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">A.2 </span><span class="title-name">SUSE connect program</span></span> <a title="Permalink" class="permalink" href="#sec-suseconnectprogram">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_appendix_extrasoftware.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Start SUSE Connect Program from the YaST control center using
   <span class="guimenu">SUSE Connect Program</span>. Choose from the available options.
   To enable a software repository, click <span class="guimenu">Add repository</span>.
  </p><p>
   All software enabled by SUSE Connect Program originates from third
   parties. For support, contact the vendor in question. SUSE does not
   provide support for these offerings.
  </p><div id="id-1.19.5.4" data-id-title="SUSEConnect command-line tool" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: <code class="command">SUSEConnect</code> command-line tool</div><p>
    The <code class="command">SUSEConnect</code> command-line tool is a separate tool
    with a different purpose: It allows you to register installations of
    SUSE products.
   </p></div></section><section class="sect1" id="sec-packagehub" data-id-title="SUSE Package Hub"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">A.3 </span><span class="title-name">SUSE Package Hub</span></span> <a title="Permalink" class="permalink" href="#sec-packagehub">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_appendix_extrasoftware.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   SUSE Package Hub provides many packages for SLE that were previously
   only available on openSUSE.
   Packages from SUSE Package Hub are created by the community and come
   without support. The selection includes, for example:
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     The R programming language
    </p></li><li class="listitem"><p>
     The Haskell programming language
    </p></li><li class="listitem"><p>
     The KDE 5 desktop
    </p></li></ul></div><p>
   To enable SUSE Package Hub, add the repository as described at
   <a class="link" href="https://packagehub.suse.com/how-to-use/" target="_blank">https://packagehub.suse.com/how-to-use/</a>.
  </p><p>
   For more information, see the SUSE Package Hub Web site at
   <a class="link" href="https://packagehub.suse.com" target="_blank">https://packagehub.suse.com</a>.
  </p></section></section><section class="appendix" id="app-autoyast-partition" data-id-title="Partitioning for the SAP system using AutoYaST"><div class="titlepage"><div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">B </span><span class="title-name">Partitioning for the SAP system using AutoYaST</span></span> <a title="Permalink" class="permalink" href="#app-autoyast-partition">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_appendix_partition.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  Partitioning for the SAP system is controlled by the files from the directory
  <code class="filename">/usr/share/YaST2/include/sap-installation-wizard/</code>.
  The following files can be used:
 </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><span class="formalpara-title">SAP NetWeaver or SAP S/4HANA Application Server installation. </span>
      <code class="filename">base_partitioning.xml</code>
     </p></li><li class="listitem"><p><span class="formalpara-title">SAP HANA or SAP S/4HANA Database Server installation. </span>
      <code class="filename">hana_partitioning.xml</code>
     </p></li><li class="listitem"><p><span class="formalpara-title">SAP HANA or SAP S/4HANA Database Server installation on SAP BusinessOne-certified hardware. </span>
      hardware-specific partitioning file
     </p></li></ul></div><p>
  The files will be chosen
  as defined in <code class="filename">/etc/sap-installation-wizard.xml</code>.
  Here, the content of the element <code class="sgmltag-element">partitioning</code> is
  decisive.
 </p><p>
  If the installation is, for example, based on HA or a distributed database,
  no partitioning is needed. In this case,
  <code class="sgmltag-element">partitioning</code> is set to <code class="literal">NO</code> and
  the file <code class="filename">base_partitioning.xml</code> is used.
 </p><div id="id-1.20.6" data-id-title="autoinst.xml Cannot Be Used Here" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><div class="admon-title">Note: 
   <code class="filename">autoinst.xml</code> Cannot Be Used Here
  </div><p>
   <code class="filename">autoinst.xml</code> is only used for the installation
   of the operating system.
   It cannot control the partitioning for the SAP system.
  </p></div><p>
  The files that control partitioning are AutoYaST control
  files that contain a <code class="sgmltag-element">partitioning</code> section only.
  However, these files allow using several extensions to the AutoYaST format:
 </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
    If the <code class="sgmltag-element">partitioning_defined</code> tag is set to
    <code class="literal">true</code>, the partitioning will be performed without any
    user interaction.
   </p><p>
    By default, this is only used when creating SAP HANA file systems on systems
    certified for SAP HANA (such as from Dell, Fujitsu, HP, IBM, or Lenovo).
   </p></li><li class="listitem"><p>
    For every partition, you can specify the
    <code class="sgmltag-element">size_min</code> tag. The size value can be given as
    a string in the format of
    <code class="literal"><em class="replaceable">RAM</em>*<em class="replaceable">N</em></code>.
    This way you can specify how large the partition should minimally be
    (<em class="replaceable">N</em> times the size of the available
    memory (<em class="replaceable">RAM</em>)).
   </p></li></ul></div><div class="procedure" id="pro-partition-custom" data-id-title="Creating a custom SAP partitioning setup"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure B.1: </span><span class="title-name">Creating a custom SAP partitioning setup </span></span><a title="Permalink" class="permalink" href="#pro-partition-custom">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_appendix_partition.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><p>
   The steps below illustrate how to create a partitioning setup for TREX.
   However, creating a partitioning setup for other applications works
   analogously.
  </p><ol class="procedure" type="1"><li class="step"><p>
    In
    <code class="filename">/usr/share/YaST2/include/sap-installation-wizard/</code>,
    create a new XML file. Name it <code class="filename">TREX_partitioning.xml</code>,
    for example.
   </p></li><li class="step"><p>
    Copy the content of <code class="filename">base_partitioning.xml</code> to your new
    file and adapt the new file to your needs.
   </p></li><li class="step"><p>
    Finally, adapt <code class="filename">/etc/sap-installation-wizard.xml</code> to
    include your custom file.
    In the <code class="sgmltag-element">listitem</code> for <code class="literal">TREX</code>, insert the
    following line:
   </p><div class="verbatim-wrap"><pre class="screen">&lt;partitioning&gt;TREX_partitioning&lt;/partitioning&gt;</pre></div></li></ol></div></div><div id="id-1.20.10" data-id-title="Do not edit base_partitioning.xml" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Do not edit <code class="filename">base_partitioning.xml</code></div><p>
   Do not edit <code class="filename">base_partitioning.xml</code> directly. With
   the next update, this file will be overwritten.
  </p></div><p>
  For more information about partitioning with AutoYaST, see
  <em class="citetitle">AutoYaST Guide, Chapter <span class="quote">“<span class="quote">Partitioning</span>”</span></em>
  (<a class="link" href="https://documentation.suse.com/sles-15" target="_blank">https://documentation.suse.com/sles-15</a>).
 </p></section><section class="appendix" id="app-component-supplement" data-id-title="Supplementary Media"><div class="titlepage"><div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">C </span><span class="title-name">Supplementary Media</span></span> <a title="Permalink" class="permalink" href="#app-component-supplement">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_appendix_supplement.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  Supplementary Media allow partners or customers to add their own tasks or workflows to
  the Installation Wizard.
 </p><p>
  This is done by adding an XML file which will be part of an AutoYaST XML file. To
  be included in the workflow, this file must be called
  <code class="filename">product.xml</code>.
 </p><p>
  This can be used for various types of additions, such as adding your own
  RPMs, running your own scripts, setting up a cluster file system or
  creating your own dialogs and scripts.
 </p><section class="sect1" id="sec-component-supplement-productxml" data-id-title="product.xml"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">C.1 </span><span class="title-name"><code class="filename">product.xml</code></span></span> <a title="Permalink" class="permalink" href="#sec-component-supplement-productxml">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_appendix_supplement.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   The <code class="filename">product.xml</code> file looks like a normal AutoYaST
   XML file, but with some restrictions.
  </p><p>
   The restrictions exist because only the parts of the XML that are related
   to the second stage of the installation are run, as the first stage was
   executed before.
  </p><p>
   The two XML files (<code class="filename">autoyast.xml</code> and
   <code class="filename">product.xml</code>) will be merged after the media is read
   and a <span class="quote">“<span class="quote">new</span>”</span> AutoYaST XML file is generated on the fly for
   the additional workflow.
  </p><p>
   The following areas or sections will be merged:
  </p><div class="verbatim-wrap"><pre class="screen">&lt;general&gt;
  &lt;ask-list&gt;         <span class="callout" id="co-ay-general">1</span>
  ...
&lt;software&gt;           <span class="callout" id="co-ay-software">2</span>
  &lt;post-packages&gt;
  ...
&lt;scripts&gt;
  &lt;chroot-scripts&gt;   <span class="callout" id="co-ay-chroot">3</span>
  &lt;post-scripts&gt;     <span class="callout" id="co-ay-post">4</span>
  &lt;init-scripts&gt;     <span class="callout" id="co-ay-init">5</span>
  ...</pre></div><div class="calloutlist"><table style="border: 0; "><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-ay-general"><span class="callout">1</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
     see <a class="xref" href="#sec-component-supplement-ask" title="C.2. Own AutoYaST ask dialogs">Section C.2, “Own AutoYaST ask dialogs”</a>
    </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-ay-software"><span class="callout">2</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
     see <a class="xref" href="#sec-component-supplement-rpm" title="C.3. Installing additional packages">Section C.3, “Installing additional packages”</a>
    </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-ay-chroot"><span class="callout">3</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
     after the package installation, before the first boot
    </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-ay-post"><span class="callout">4</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
     during the first boot of the installed system, no services running
    </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-ay-init"><span class="callout">5</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
     during the first boot of the installed system, all services up and
     running
    </p></td></tr></table></div><p>
   All other sections will be replaced.
  </p><p>
   For more information about customization options, see
   <em class="citetitle">
    AutoYaST Guide,
    Chapter <span class="quote">“<span class="quote">Configuration and Installation Options</span>”</span>,
    Section <span class="quote">“<span class="quote">Custom User Scripts</span>”</span>
   </em> (<a class="link" href="https://documentation.suse.com/sles-15" target="_blank">https://documentation.suse.com/sles-15</a>).
  </p></section><section class="sect1" id="sec-component-supplement-ask" data-id-title="Own AutoYaST ask dialogs"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">C.2 </span><span class="title-name">Own AutoYaST ask dialogs</span></span> <a title="Permalink" class="permalink" href="#sec-component-supplement-ask">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_appendix_supplement.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   For more information about the <span class="quote">“<span class="quote">Ask</span>”</span> feature of AutoYaST, see
   <em class="citetitle">
    AutoYaST Guide,
    Chapter <span class="quote">“<span class="quote">Configuration and Installation Options</span>”</span>,
    Section <span class="quote">“<span class="quote">Ask the User for Values During Installation</span>”</span>
   </em> (<a class="link" href="https://documentation.suse.com/sles-15" target="_blank">https://documentation.suse.com/sles-15</a>).
  </p><p>
   For the Supplementary Media, you can only use dialogs within the
   <code class="literal">cont</code> stage
   (<code class="literal">&lt;stage&gt;cont&lt;/stage&gt;</code>), which means they
   are executed after the first reboot.
  </p><p>
   Your file with the dialogs will be merged with the base AutoYaST XML
   file.
  </p><p>
   As a best practice, your dialog should have a dialog number and an
   element number, best with steps of 10. This helps to include later
   additions and could be used as targets for jumping over a dialog or
   element dependent on decisions. We also use this in our base dialogs and
   if you provide the right dialog number and element number, you can place
   your dialog between our base dialogs.
  </p><p>
   You can store the answer to a question in a file, to use it in one of
   your scripts later. Be aware that you <span class="emphasis"><em>must</em></span> use the
   prefix <code class="literal">/tmp/ay</code> for this, because the Installation
   Wizard will copy such files from the <code class="filename">/tmp</code> directory
   to the directory where your media data also will be copied. This is done
   because the next Supplementary Media could have the same dialogs or same
   answer file names and would overwrite the values saved here.
  </p><p>
   Here is an example with several options:
  </p><div class="verbatim-wrap"><pre class="screen">&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE profile&gt;
&lt;profile xmlns="http://www.suse.com/1.0/yast2ns"
         xmlns:config="http://www.suse.com/1.0/configns"&gt;
&lt;general&gt;
  &lt;ask-list config:type="list"&gt;
      &lt;ask&gt;
          &lt;stage&gt;cont&lt;/stage&gt;
          &lt;dialog config:type="integer"&gt;20&lt;/dialog&gt;
          &lt;element config:type="integer"&gt;10&lt;/element&gt;
          &lt;question&gt;What is your name?&lt;/question&gt;
          &lt;default&gt;Enter your name here&lt;/default&gt;
          &lt;help&gt;Please enter your full name within the field&lt;/help&gt;
          &lt;file&gt;/tmp/ay_q_my_name&lt;/file&gt;
          &lt;script&gt;
             &lt;filename&gt;my_name.sh&lt;/filename&gt;
             &lt;rerun_on_error config:type="boolean"&gt;true&lt;/rerun_on_error&gt;
             &lt;environment config:type="boolean"&gt;true&lt;/environment&gt;
             &lt;source&gt;&lt;![CDATA[
function check_name() {
           local name=$1
           LC_ALL=POSIX
           [ -z "$name" ] &amp;&amp; echo "You need to provide a name." &amp;&amp; return 1
           return 0
}
check_name "$VAL"
]]&gt;
             &lt;/source&gt;
             &lt;debug config:type="boolean"&gt;false&lt;/debug&gt;
             &lt;feedback config:type="boolean"&gt;true&lt;/feedback&gt;
          &lt;/script&gt;
      &lt;/ask&gt;
  &lt;/ask-list&gt;
&lt;/general&gt;
&lt;/profile&gt;</pre></div></section><section class="sect1" id="sec-component-supplement-rpm" data-id-title="Installing additional packages"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">C.3 </span><span class="title-name">Installing additional packages</span></span> <a title="Permalink" class="permalink" href="#sec-component-supplement-rpm">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_appendix_supplement.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   You can also install RPM packages within the
   <code class="filename">product.xml</code> file. To do this, you can use the
   <code class="literal">&lt;post-packages&gt;</code> element for installation in
   stage 2.
  </p><p>
   For more information, see
   <em class="citetitle">
    AutoYaST Guide,
    Chapter <span class="quote">“<span class="quote">Configuration and Installation Options</span>”</span>,
    Section <span class="quote">“<span class="quote">Installing Packages in Stage 2</span>”</span>
   </em> (<a class="link" href="https://documentation.suse.com/sles-15" target="_blank">https://documentation.suse.com/sles-15</a>). An example looks as
   follows:
  </p><div class="verbatim-wrap"><pre class="screen">...
&lt;software&gt;
 &lt;post-packages config:type="list"&gt;
  &lt;package&gt;yast2-cim&lt;/package&gt;
 &lt;/post-packages&gt;
&lt;/software&gt;
...</pre></div></section><section class="sect1" id="sec-supplement-directory" data-id-title="Example directory for Supplementary Media"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">C.4 </span><span class="title-name">Example directory for Supplementary Media</span></span> <a title="Permalink" class="permalink" href="#sec-supplement-directory">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/s4s_appendix_supplement.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   A minimal example for the Supplementary Media directory contains only a file called
   <code class="filename">product.xml</code>.
  </p></section></section><div class="legal-section"><section class="appendix" id="id-1.22" data-id-title="GNU licenses"><div class="titlepage"><div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">D </span><span class="title-name">GNU licenses</span></span> <a title="Permalink" class="permalink" href="#id-1.22">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/common_legal.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  This appendix contains the GNU Free Documentation License version 1.2.
 </p><section class="sect1" id="id-1.22.4" data-id-title="GNU Free Documentation License"><div class="titlepage"><div><div><div class="title-container"><h2 class="title legal"><span class="title-number-name"><span class="title-name">GNU Free Documentation License</span></span> <a title="Permalink" class="permalink" href="#id-1.22.4">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-slesforsap/edit/maintenance/15_SP2/xml/common_license_gfdl1.2.xml" title="Edit source document"> </a></div></div></div></div></div><p>
  Copyright (C) 2000, 2001, 2002 Free Software Foundation, Inc. 51 Franklin St,
  Fifth Floor, Boston, MA 02110-1301 USA. Everyone is permitted to copy and
  distribute verbatim copies of this license document, but changing it is not
  allowed.
 </p><div class="sect4 bridgehead"><h5 class="title legal" id="id-1.22.4.4"><span class="name">
    0. PREAMBLE
  </span><a title="Permalink" class="permalink" href="#id-1.22.4.4">#</a></h5></div><p>
  The purpose of this License is to make a manual, textbook, or other
  functional and useful document "free" in the sense of freedom: to assure
  everyone the effective freedom to copy and redistribute it, with or without
  modifying it, either commercially or non-commercially. Secondarily, this
  License preserves for the author and publisher a way to get credit for their
  work, while not being considered responsible for modifications made by
  others.
 </p><p>
  This License is a kind of "copyleft", which means that derivative works of
  the document must themselves be free in the same sense. It complements the
  GNU General Public License, which is a copyleft license designed for free
  software.
 </p><p>
  We have designed this License to use it for manuals for free software,
  because free software needs free documentation: a free program should come
  with manuals providing the same freedoms that the software does. But this
  License is not limited to software manuals; it can be used for any textual
  work, regardless of subject matter or whether it is published as a printed
  book. We recommend this License principally for works whose purpose is
  instruction or reference.
 </p><div class="sect4 bridgehead"><h5 class="title legal" id="id-1.22.4.8"><span class="name">
    1. APPLICABILITY AND DEFINITIONS
  </span><a title="Permalink" class="permalink" href="#id-1.22.4.8">#</a></h5></div><p>
  This License applies to any manual or other work, in any medium, that
  contains a notice placed by the copyright holder saying it can be distributed
  under the terms of this License. Such a notice grants a world-wide,
  royalty-free license, unlimited in duration, to use that work under the
  conditions stated herein. The "Document", below, refers to any such manual or
  work. Any member of the public is a licensee, and is addressed as "you". You
  accept the license if you copy, modify or distribute the work in a way
  requiring permission under copyright law.
 </p><p>
  A "Modified Version" of the Document means any work containing the Document
  or a portion of it, either copied verbatim, or with modifications and/or
  translated into another language.
 </p><p>
  A "Secondary Section" is a named appendix or a front-matter section of the
  Document that deals exclusively with the relationship of the publishers or
  authors of the Document to the Document's overall subject (or to related
  matters) and contains nothing that could fall directly within that overall
  subject. (Thus, if the Document is in part a textbook of mathematics, a
  Secondary Section may not explain any mathematics.) The relationship could be
  a matter of historical connection with the subject or with related matters,
  or of legal, commercial, philosophical, ethical or political position
  regarding them.
 </p><p>
  The "Invariant Sections" are certain Secondary Sections whose titles are
  designated, as being those of Invariant Sections, in the notice that says
  that the Document is released under this License. If a section does not fit
  the above definition of Secondary then it is not allowed to be designated as
  Invariant. The Document may contain zero Invariant Sections. If the Document
  does not identify any Invariant Sections then there are none.
 </p><p>
  The "Cover Texts" are certain short passages of text that are listed, as
  Front-Cover Texts or Back-Cover Texts, in the notice that says that the
  Document is released under this License. A Front-Cover Text may be at most 5
  words, and a Back-Cover Text may be at most 25 words.
 </p><p>
  A "Transparent" copy of the Document means a machine-readable copy,
  represented in a format whose specification is available to the general
  public, that is suitable for revising the document straightforwardly with
  generic text editors or (for images composed of pixels) generic paint
  programs or (for drawings) some widely available drawing editor, and that is
  suitable for input to text formatters or for automatic translation to a
  variety of formats suitable for input to text formatters. A copy made in an
  otherwise Transparent file format whose markup, or absence of markup, has
  been arranged to thwart or discourage subsequent modification by readers is
  not Transparent. An image format is not Transparent if used for any
  substantial amount of text. A copy that is not "Transparent" is called
  "Opaque".
 </p><p>
  Examples of suitable formats for Transparent copies include plain ASCII
  without markup, Texinfo input format, LaTeX input format, SGML or XML using a
  publicly available DTD, and standard-conforming simple HTML, PostScript or
  PDF designed for human modification. Examples of transparent image formats
  include PNG, XCF and JPG. Opaque formats include proprietary formats that can
  be read and edited only by proprietary word processors, SGML or XML for which
  the DTD and/or processing tools are not generally available, and the
  machine-generated HTML, PostScript or PDF produced by some word processors
  for output purposes only.
 </p><p>
  The "Title Page" means, for a printed book, the title page itself, plus such
  following pages as are needed to hold, legibly, the material this License
  requires to appear in the title page. For works in formats which do not have
  any title page as such, "Title Page" means the text near the most prominent
  appearance of the work's title, preceding the beginning of the body of the
  text.
 </p><p>
  A section "Entitled XYZ" means a named subunit of the Document whose title
  either is precisely XYZ or contains XYZ in parentheses following text that
  translates XYZ in another language. (Here XYZ stands for a specific section
  name mentioned below, such as "Acknowledgements", "Dedications",
  "Endorsements", or "History".) To "Preserve the Title" of such a section when
  you modify the Document means that it remains a section "Entitled XYZ"
  according to this definition.
 </p><p>
  The Document may include Warranty Disclaimers next to the notice which states
  that this License applies to the Document. These Warranty Disclaimers are
  considered to be included by reference in this License, but only as regards
  disclaiming warranties: any other implication that these Warranty Disclaimers
  may have is void and has no effect on the meaning of this License.
 </p><div class="sect4 bridgehead"><h5 class="title legal" id="id-1.22.4.19"><span class="name">
    2. VERBATIM COPYING
  </span><a title="Permalink" class="permalink" href="#id-1.22.4.19">#</a></h5></div><p>
  You may copy and distribute the Document in any medium, either commercially
  or non-commercially, provided that this License, the copyright notices, and
  the license notice saying this License applies to the Document are reproduced
  in all copies, and that you add no other conditions whatsoever to those of
  this License. You may not use technical measures to obstruct or control the
  reading or further copying of the copies you make or distribute. However, you
  may accept compensation in exchange for copies. If you distribute a large
  enough number of copies you must also follow the conditions in section 3.
 </p><p>
  You may also lend copies, under the same conditions stated above, and you may
  publicly display copies.
 </p><div class="sect4 bridgehead"><h5 class="title legal" id="id-1.22.4.22"><span class="name">
    3. COPYING IN QUANTITY
  </span><a title="Permalink" class="permalink" href="#id-1.22.4.22">#</a></h5></div><p>
  If you publish printed copies (or copies in media that commonly have printed
  covers) of the Document, numbering more than 100, and the Document's license
  notice requires Cover Texts, you must enclose the copies in covers that
  carry, clearly and legibly, all these Cover Texts: Front-Cover Texts on the
  front cover, and Back-Cover Texts on the back cover. Both covers must also
  clearly and legibly identify you as the publisher of these copies. The front
  cover must present the full title with all words of the title equally
  prominent and visible. You may add other material on the covers in addition.
  Copying with changes limited to the covers, as long as they preserve the
  title of the Document and satisfy these conditions, can be treated as
  verbatim copying in other respects.
 </p><p>
  If the required texts for either cover are too voluminous to fit legibly, you
  should put the first ones listed (as many as fit reasonably) on the actual
  cover, and continue the rest onto adjacent pages.
 </p><p>
  If you publish or distribute Opaque copies of the Document numbering more
  than 100, you must either include a machine-readable Transparent copy along
  with each Opaque copy, or state in or with each Opaque copy a
  computer-network location from which the general network-using public has
  access to download using public-standard network protocols a complete
  Transparent copy of the Document, free of added material. If you use the
  latter option, you must take reasonably prudent steps, when you begin
  distribution of Opaque copies in quantity, to ensure that this Transparent
  copy will remain thus accessible at the stated location until at least one
  year after the last time you distribute an Opaque copy (directly or through
  your agents or retailers) of that edition to the public.
 </p><p>
  It is requested, but not required, that you contact the authors of the
  Document well before redistributing any large number of copies, to give them
  a chance to provide you with an updated version of the Document.
 </p><div class="sect4 bridgehead"><h5 class="title legal" id="id-1.22.4.27"><span class="name">
    4. MODIFICATIONS
  </span><a title="Permalink" class="permalink" href="#id-1.22.4.27">#</a></h5></div><p>
  You may copy and distribute a Modified Version of the Document under the
  conditions of sections 2 and 3 above, provided that you release the Modified
  Version under precisely this License, with the Modified Version filling the
  role of the Document, thus licensing distribution and modification of the
  Modified Version to whoever possesses a copy of it. In addition, you must do
  these things in the Modified Version:
 </p><div class="orderedlist"><ol class="orderedlist" type="A"><li class="listitem"><p>
    Use in the Title Page (and on the covers, if any) a title distinct from
    that of the Document, and from those of previous versions (which should, if
    there were any, be listed in the History section of the Document). You may
    use the same title as a previous version if the original publisher of that
    version gives permission.
   </p></li><li class="listitem"><p>
    List on the Title Page, as authors, one or more persons or entities
    responsible for authorship of the modifications in the Modified Version,
    together with at least five of the principal authors of the Document (all
    of its principal authors, if it has fewer than five), unless they release
    you from this requirement.
   </p></li><li class="listitem"><p>
    State on the Title page the name of the publisher of the Modified Version,
    as the publisher.
   </p></li><li class="listitem"><p>
    Preserve all the copyright notices of the Document.
   </p></li><li class="listitem"><p>
    Add an appropriate copyright notice for your modifications adjacent to the
    other copyright notices.
   </p></li><li class="listitem"><p>
    Include, immediately after the copyright notices, a license notice giving
    the public permission to use the Modified Version under the terms of this
    License, in the form shown in the Addendum below.
   </p></li><li class="listitem"><p>
    Preserve in that license notice the full lists of Invariant Sections and
    required Cover Texts given in the Document's license notice.
   </p></li><li class="listitem"><p>
    Include an unaltered copy of this License.
   </p></li><li class="listitem"><p>
    Preserve the section Entitled "History", Preserve its Title, and add to it
    an item stating at least the title, year, new authors, and publisher of the
    Modified Version as given on the Title Page. If there is no section
    Entitled "History" in the Document, create one stating the title, year,
    authors, and publisher of the Document as given on its Title Page, then add
    an item describing the Modified Version as stated in the previous sentence.
   </p></li><li class="listitem"><p>
    Preserve the network location, if any, given in the Document for public
    access to a Transparent copy of the Document, and likewise the network
    locations given in the Document for previous versions it was based on.
    These may be placed in the "History" section. You may omit a network
    location for a work that was published at least four years before the
    Document itself, or if the original publisher of the version it refers to
    gives permission.
   </p></li><li class="listitem"><p>
    For any section Entitled "Acknowledgements" or "Dedications", Preserve the
    Title of the section, and preserve in the section all the substance and
    tone of each of the contributor acknowledgements and/or dedications given
    therein.
   </p></li><li class="listitem"><p>
    Preserve all the Invariant Sections of the Document, unaltered in their
    text and in their titles. Section numbers or the equivalent are not
    considered part of the section titles.
   </p></li><li class="listitem"><p>
    Delete any section Entitled "Endorsements". Such a section may not be
    included in the Modified Version.
   </p></li><li class="listitem"><p>
    Do not retitle any existing section to be Entitled "Endorsements" or to
    conflict in title with any Invariant Section.
   </p></li><li class="listitem"><p>
    Preserve any Warranty Disclaimers.
   </p></li></ol></div><p>
  If the Modified Version includes new front-matter sections or appendices that
  qualify as Secondary Sections and contain no material copied from the
  Document, you may at your option designate some or all of these sections as
  invariant. To do this, add their titles to the list of Invariant Sections in
  the Modified Version's license notice. These titles must be distinct from any
  other section titles.
 </p><p>
  You may add a section Entitled "Endorsements", provided it contains nothing
  but endorsements of your Modified Version by various parties--for example,
  statements of peer review or that the text has been approved by an
  organization as the authoritative definition of a standard.
 </p><p>
  You may add a passage of up to five words as a Front-Cover Text, and a
  passage of up to 25 words as a Back-Cover Text, to the end of the list of
  Cover Texts in the Modified Version. Only one passage of Front-Cover Text and
  one of Back-Cover Text may be added by (or through arrangements made by) any
  one entity. If the Document already includes a cover text for the same cover,
  previously added by you or by arrangement made by the same entity you are
  acting on behalf of, you may not add another; but you may replace the old
  one, on explicit permission from the previous publisher that added the old
  one.
 </p><p>
  The author(s) and publisher(s) of the Document do not by this License give
  permission to use their names for publicity for or to assert or imply
  endorsement of any Modified Version.
 </p><div class="sect4 bridgehead"><h5 class="title legal" id="id-1.22.4.34"><span class="name">
    5. COMBINING DOCUMENTS
  </span><a title="Permalink" class="permalink" href="#id-1.22.4.34">#</a></h5></div><p>
  You may combine the Document with other documents released under this
  License, under the terms defined in section 4 above for modified versions,
  provided that you include in the combination all of the Invariant Sections of
  all of the original documents, unmodified, and list them all as Invariant
  Sections of your combined work in its license notice, and that you preserve
  all their Warranty Disclaimers.
 </p><p>
  The combined work need only contain one copy of this License, and multiple
  identical Invariant Sections may be replaced with a single copy. If there are
  multiple Invariant Sections with the same name but different contents, make
  the title of each such section unique by adding at the end of it, in
  parentheses, the name of the original author or publisher of that section if
  known, or else a unique number. Make the same adjustment to the section
  titles in the list of Invariant Sections in the license notice of the
  combined work.
 </p><p>
  In the combination, you must combine any sections Entitled "History" in the
  various original documents, forming one section Entitled "History"; likewise
  combine any sections Entitled "Acknowledgements", and any sections Entitled
  "Dedications". You must delete all sections Entitled "Endorsements".
 </p><div class="sect4 bridgehead"><h5 class="title legal" id="id-1.22.4.38"><span class="name">
    6. COLLECTIONS OF DOCUMENTS
  </span><a title="Permalink" class="permalink" href="#id-1.22.4.38">#</a></h5></div><p>
  You may make a collection consisting of the Document and other documents
  released under this License, and replace the individual copies of this
  License in the various documents with a single copy that is included in the
  collection, provided that you follow the rules of this License for verbatim
  copying of each of the documents in all other respects.
 </p><p>
  You may extract a single document from such a collection, and distribute it
  individually under this License, provided you insert a copy of this License
  into the extracted document, and follow this License in all other respects
  regarding verbatim copying of that document.
 </p><div class="sect4 bridgehead"><h5 class="title legal" id="id-1.22.4.41"><span class="name">
    7. AGGREGATION WITH INDEPENDENT WORKS
  </span><a title="Permalink" class="permalink" href="#id-1.22.4.41">#</a></h5></div><p>
  A compilation of the Document or its derivatives with other separate and
  independent documents or works, in or on a volume of a storage or
  distribution medium, is called an "aggregate" if the copyright resulting from
  the compilation is not used to limit the legal rights of the compilation's
  users beyond what the individual works permit. When the Document is included
  in an aggregate, this License does not apply to the other works in the
  aggregate which are not themselves derivative works of the Document.
 </p><p>
  If the Cover Text requirement of section 3 is applicable to these copies of
  the Document, then if the Document is less than one half of the entire
  aggregate, the Document's Cover Texts may be placed on covers that bracket
  the Document within the aggregate, or the electronic equivalent of covers if
  the Document is in electronic form. Otherwise they must appear on printed
  covers that bracket the whole aggregate.
 </p><div class="sect4 bridgehead"><h5 class="title legal" id="id-1.22.4.44"><span class="name">
    8. TRANSLATION
  </span><a title="Permalink" class="permalink" href="#id-1.22.4.44">#</a></h5></div><p>
  Translation is considered a kind of modification, so you may distribute
  translations of the Document under the terms of section 4. Replacing
  Invariant Sections with translations requires special permission from their
  copyright holders, but you may include translations of some or all Invariant
  Sections in addition to the original versions of these Invariant Sections.
  You may include a translation of this License, and all the license notices in
  the Document, and any Warranty Disclaimers, provided that you also include
  the original English version of this License and the original versions of
  those notices and disclaimers. In case of a disagreement between the
  translation and the original version of this License or a notice or
  disclaimer, the original version will prevail.
 </p><p>
  If a section in the Document is Entitled "Acknowledgements", "Dedications",
  or "History", the requirement (section 4) to Preserve its Title (section 1)
  will typically require changing the actual title.
 </p><div class="sect4 bridgehead"><h5 class="title legal" id="id-1.22.4.47"><span class="name">
    9. TERMINATION
  </span><a title="Permalink" class="permalink" href="#id-1.22.4.47">#</a></h5></div><p>
  You may not copy, modify, sublicense, or distribute the Document except as
  expressly provided for under this License. Any other attempt to copy, modify,
  sublicense or distribute the Document is void, and will automatically
  terminate your rights under this License. However, parties who have received
  copies, or rights, from you under this License will not have their licenses
  terminated so long as such parties remain in full compliance.
 </p><div class="sect4 bridgehead"><h5 class="title legal" id="id-1.22.4.49"><span class="name">
    10. FUTURE REVISIONS OF THIS LICENSE
  </span><a title="Permalink" class="permalink" href="#id-1.22.4.49">#</a></h5></div><p>
  The Free Software Foundation may publish new, revised versions of the GNU
  Free Documentation License from time to time. Such new versions will be
  similar in spirit to the present version, but may differ in detail to address
  new problems or concerns. See
  <a class="link" href="https://www.gnu.org/copyleft/" target="_blank">https://www.gnu.org/copyleft/</a>.
 </p><p>
  Each version of the License is given a distinguishing version number. If the
  Document specifies that a particular numbered version of this License "or any
  later version" applies to it, you have the option of following the terms and
  conditions either of that specified version or of any later version that has
  been published (not as a draft) by the Free Software Foundation. If the
  Document does not specify a version number of this License, you may choose
  any version ever published (not as a draft) by the Free Software Foundation.
 </p><div class="sect4 bridgehead"><h5 class="title legal" id="id-1.22.4.52"><span class="name">
    ADDENDUM: How to use this License for your documents
  </span><a title="Permalink" class="permalink" href="#id-1.22.4.52">#</a></h5></div><div class="verbatim-wrap"><pre class="screen">Copyright (c) YEAR YOUR NAME.
Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.2
or any later version published by the Free Software Foundation;
with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
A copy of the license is included in the section entitled “GNU
Free Documentation License”.</pre></div><p>
  If you have Invariant Sections, Front-Cover Texts and Back-Cover Texts,
  replace the “with...Texts.” line with this:
 </p><div class="verbatim-wrap"><pre class="screen">with the Invariant Sections being LIST THEIR TITLES, with the
Front-Cover Texts being LIST, and with the Back-Cover Texts being LIST.</pre></div><p>
  If you have Invariant Sections without Cover Texts, or some other combination
  of the three, merge those two alternatives to suit the situation.
 </p><p>
  If your document contains nontrivial examples of program code, we recommend
  releasing these examples in parallel under your choice of free software
  license, such as the GNU General Public License, to permit their use in free
  software.
 </p></section></section></div></section></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter/X"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2024</span></div></div></footer></body></html>